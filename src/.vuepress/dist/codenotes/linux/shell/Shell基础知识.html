<!doctype html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.0" />
    <meta name="theme" content="VuePress Theme Hope 2.0.0-rc.1" />
    <style>
      html {
        background: var(--bg-color, #fff);
      }

      html[data-theme="dark"] {
        background: var(--bg-color, #1d1e1f);
      }

      body {
        background: var(--bg-color);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.documentElement.setAttribute("data-theme", "dark");
      }
    </script>
    <meta property="og:url" content="https://github.com/Small-BlueFish-hjy/bluefish-notes.github.io/codenotes/linux/shell/Shell%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html"><meta property="og:site_name" content="小俊ノックcode"><meta property="og:title" content="Shell基础知识"><meta property="og:description" content="1. grep工具 grep是行过滤工具；用于根据关键字进行行过滤 语法和选项 语法： # grep [选项] '关键字' 文件名"><meta property="og:type" content="article"><meta property="og:locale" content="zh-CN"><meta property="article:author" content="Mr.Huang"><meta property="article:tag" content="shell"><script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"Shell基础知识","image":[""],"dateModified":null,"author":[{"@type":"Person","name":"Mr.Huang","url":"https://gitee.com/huang-jintong"}]}</script><link rel="icon" href="/favicon.svg"><title>Shell基础知识 | 小俊ノックcode</title><meta name="description" content="1. grep工具 grep是行过滤工具；用于根据关键字进行行过滤 语法和选项 语法： # grep [选项] '关键字' 文件名">
    <link rel="preload" href="/bluefish-notes.github.io/assets/style-Pz_NccMe.css" as="style"><link rel="stylesheet" href="/bluefish-notes.github.io/assets/style-Pz_NccMe.css">
    <link rel="modulepreload" href="/bluefish-notes.github.io/assets/app-fW9tN5By.js"><link rel="modulepreload" href="/bluefish-notes.github.io/assets/Shell基础知识.html-BJ-bWx2Z.js"><link rel="modulepreload" href="/bluefish-notes.github.io/assets/Shell基础知识.html-lMMGpmZK.js"><link rel="modulepreload" href="/bluefish-notes.github.io/assets/plugin-vue_export-helper-x3n3nnut.js">
    
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="vp-skip-link sr-only">跳至主要內容</a><!--]--><!--[--><div class="theme-container has-toc"><!--[--><header id="navbar" class="vp-navbar"><div class="vp-navbar-start"><button type="button" class="vp-toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!--[--><!----><!--]--><!--[--><a class="vp-link vp-brand vp-brand" href="/bluefish-notes.github.io/"><img class="vp-nav-logo" src="/bluefish-notes.github.io/site_logo.png" alt="小俊ノックcode"><!----><span class="vp-site-name hide-in-pad">小俊ノックcode</span></a><!--]--><!--[--><!----><!--]--></div><div class="vp-navbar-center"><!--[--><!----><!--]--><!--[--><nav class="vp-nav-links"><div class="nav-item hide-in-mobile"><a aria-label="快速导航" class="vp-link nav-link nav-link" href="/bluefish-notes.github.io/quicknav/"><span class="font-icon icon iconfont icon-navigation" style=""></span>快速导航<!----></a></div><div class="nav-item hide-in-mobile"><a aria-label="博客主页" class="vp-link nav-link nav-link" href="/bluefish-notes.github.io/blog/"><span class="font-icon icon iconfont icon-blog" style=""></span>博客主页<!----></a></div><div class="nav-item hide-in-mobile"><a aria-label="代码笔记" class="vp-link nav-link active nav-link active" href="/bluefish-notes.github.io/codenotes/"><span class="font-icon icon iconfont icon-code" style=""></span>代码笔记<!----></a></div><div class="nav-item hide-in-mobile"><a aria-label="日常杂记" class="vp-link nav-link nav-link" href="/bluefish-notes.github.io/floatinglife/"><span class="font-icon icon iconfont icon-note" style=""></span>日常杂记<!----></a></div><div class="nav-item hide-in-mobile"><a aria-label="开源项目" class="vp-link nav-link nav-link" href="/bluefish-notes.github.io/projects/"><span class="font-icon icon iconfont icon-free" style=""></span>开源项目<!----></a></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button type="button" class="dropdown-title" aria-label="资源宝库"><span class="title"><span class="font-icon icon iconfont icon-advance" style=""></span>资源宝库</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a aria-label="书籍资源" class="vp-link nav-link nav-link" href="/bluefish-notes.github.io/resources/books/"><span class="font-icon icon iconfont icon-animation" style=""></span>书籍资源<!----></a></li><li class="dropdown-item"><a aria-label="影音资源" class="vp-link nav-link nav-link" href="/bluefish-notes.github.io/resources/videos/"><span class="font-icon icon iconfont icon-play" style=""></span>影音资源<!----></a></li></ul></button></div></div></nav><!--]--><!--[--><!----><!--]--></div><div class="vp-navbar-end"><!--[--><!----><!--]--><!--[--><!----><div class="nav-item vp-repo"><a class="vp-repo-link" href="https://gitee.com/huang-jintong" target="_blank" rel="noopener noreferrer" aria-label="Github"><svg xmlns="http://www.w3.org/2000/svg" class="icon gitee-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="gitee icon" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M512 992C246.92 992 32 777.08 32 512S246.92 32 512 32s480 214.92 480 480-214.92 480-480 480zm242.97-533.34H482.39a23.7 23.7 0 0 0-23.7 23.7l-.03 59.28c0 13.08 10.59 23.7 23.7 23.7h165.96a23.7 23.7 0 0 1 23.7 23.7v11.85a71.1 71.1 0 0 1-71.1 71.1H375.71a23.7 23.7 0 0 1-23.7-23.7V423.11a71.1 71.1 0 0 1 71.1-71.1h331.8a23.7 23.7 0 0 0 23.7-23.7l.06-59.25a23.73 23.73 0 0 0-23.7-23.73H423.11a177.78 177.78 0 0 0-177.78 177.75v331.83c0 13.08 10.62 23.7 23.7 23.7h349.62a159.99 159.99 0 0 0 159.99-159.99V482.33a23.7 23.7 0 0 0-23.7-23.7z"></path></svg></a></div><div class="nav-item hide-in-mobile"><button type="button" class="outlook-button" tabindex="-1" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" class="icon outlook-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="outlook icon"><path d="M224 800c0 9.6 3.2 44.8 6.4 54.4 6.4 48-48 76.8-48 76.8s80 41.6 147.2 0 134.4-134.4 38.4-195.2c-22.4-12.8-41.6-19.2-57.6-19.2C259.2 716.8 227.2 761.6 224 800zM560 675.2l-32 51.2c-51.2 51.2-83.2 32-83.2 32 25.6 67.2 0 112-12.8 128 25.6 6.4 51.2 9.6 80 9.6 54.4 0 102.4-9.6 150.4-32l0 0c3.2 0 3.2-3.2 3.2-3.2 22.4-16 12.8-35.2 6.4-44.8-9.6-12.8-12.8-25.6-12.8-41.6 0-54.4 60.8-99.2 137.6-99.2 6.4 0 12.8 0 22.4 0 12.8 0 38.4 9.6 48-25.6 0-3.2 0-3.2 3.2-6.4 0-3.2 3.2-6.4 3.2-6.4 6.4-16 6.4-16 6.4-19.2 9.6-35.2 16-73.6 16-115.2 0-105.6-41.6-198.4-108.8-268.8C704 396.8 560 675.2 560 675.2zM224 419.2c0-28.8 22.4-51.2 51.2-51.2 28.8 0 51.2 22.4 51.2 51.2 0 28.8-22.4 51.2-51.2 51.2C246.4 470.4 224 448 224 419.2zM320 284.8c0-22.4 19.2-41.6 41.6-41.6 22.4 0 41.6 19.2 41.6 41.6 0 22.4-19.2 41.6-41.6 41.6C339.2 326.4 320 307.2 320 284.8zM457.6 208c0-12.8 12.8-25.6 25.6-25.6 12.8 0 25.6 12.8 25.6 25.6 0 12.8-12.8 25.6-25.6 25.6C470.4 233.6 457.6 220.8 457.6 208zM128 505.6C128 592 153.6 672 201.6 736c28.8-60.8 112-60.8 124.8-60.8-16-51.2 16-99.2 16-99.2l316.8-422.4c-48-19.2-99.2-32-150.4-32C297.6 118.4 128 291.2 128 505.6zM764.8 86.4c-22.4 19.2-390.4 518.4-390.4 518.4-22.4 28.8-12.8 76.8 22.4 99.2l9.6 6.4c35.2 22.4 80 12.8 99.2-25.6 0 0 6.4-12.8 9.6-19.2 54.4-105.6 275.2-524.8 288-553.6 6.4-19.2-3.2-32-19.2-32C777.6 76.8 771.2 80 764.8 86.4z"></path></svg><div class="outlook-dropdown"><!----></div></button></div><form class="search-box" role="search"><input type="search" placeholder="搜索本站" autocomplete="off" spellcheck="false" value><!----></form><!--]--><!--[--><!----><!--]--><button type="button" class="vp-toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span><span class="vp-top"></span><span class="vp-middle"></span><span class="vp-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow start"></span></div><aside id="sidebar" class="vp-sidebar"><!--[--><!----><!--]--><ul class="vp-sidebar-links"><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><span class="font-icon icon iconfont icon-java" style=""></span><span class="vp-sidebar-title">Java核心</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><span class="font-icon icon iconfont icon-engine" style=""></span><span class="vp-sidebar-title">Spring框架</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><span class="font-icon icon iconfont icon-engine" style=""></span><span class="vp-sidebar-title">Java虚拟机</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><span class="font-icon icon iconfont icon-frame" style=""></span><span class="vp-sidebar-title">企业级框架</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><span class="font-icon icon iconfont icon-ability" style=""></span><span class="vp-sidebar-title">计算机基础</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><span class="font-icon icon iconfont icon-ability" style=""></span><span class="vp-sidebar-title">算法和数据结构</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><span class="font-icon icon iconfont icon-mysql" style=""></span><span class="vp-sidebar-title">数据库</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><span class="font-icon icon iconfont icon-redis" style=""></span><span class="vp-sidebar-title">缓存</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable active" type="button"><span class="font-icon icon iconfont icon-linux" style=""></span><span class="vp-sidebar-title">Linux</span><span class="vp-arrow down"></span></button><ul class="vp-sidebar-links"><li><!--[--><a aria-label="目录结构" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/bluefish-notes.github.io/codenotes/linux/%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84.html"><span class="font-icon icon iconfont icon-write" style=""></span>目录结构<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="Linux常用命令和操作" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/bluefish-notes.github.io/codenotes/linux/常用命令和操作.html"><span class="font-icon icon iconfont icon-write" style=""></span>Linux常用命令和操作<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable active" type="button"><span class="font-icon icon iconfont icon-shell" style=""></span><span class="vp-sidebar-title">shell</span><span class="vp-arrow down"></span></button><ul class="vp-sidebar-links"><li><!--[--><a aria-label="Shell基础知识" class="vp-link nav-link active vp-sidebar-link vp-sidebar-page active nav-link active vp-sidebar-link vp-sidebar-page active" href="/bluefish-notes.github.io/codenotes/linux/shell/Shell%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html"><span class="font-icon icon iconfont icon-write" style=""></span>Shell基础知识<!----></a><ul class="vp-sidebar-sub-headers"><li class="vp-sidebar-sub-header"><a aria-label="1. grep工具" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/bluefish-notes.github.io/codenotes/linux/shell/Shell%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html#_1-grep工具"><!---->1. grep工具<!----></a><ul class="vp-sidebar-sub-headers"><li class="vp-sidebar-sub-header"><a aria-label="语法和选项" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/bluefish-notes.github.io/codenotes/linux/shell/Shell%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html#语法和选项"><!---->语法和选项<!----></a><ul class="vp-sidebar-sub-headers"></ul></li></ul></li><li class="vp-sidebar-sub-header"><a aria-label="2. cut工具" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/bluefish-notes.github.io/codenotes/linux/shell/Shell%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html#_2-cut工具"><!---->2. cut工具<!----></a><ul class="vp-sidebar-sub-headers"><li class="vp-sidebar-sub-header"><a aria-label="语法和选项" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/bluefish-notes.github.io/codenotes/linux/shell/Shell%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html#语法和选项-1"><!---->语法和选项<!----></a><ul class="vp-sidebar-sub-headers"></ul></li></ul></li><li class="vp-sidebar-sub-header"><a aria-label="3. sort工具" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/bluefish-notes.github.io/codenotes/linux/shell/Shell%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html#_3-sort工具"><!---->3. sort工具<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="5.tee工具" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/bluefish-notes.github.io/codenotes/linux/shell/Shell%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html#_5-tee工具"><!---->5.tee工具<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="6.diff工具" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/bluefish-notes.github.io/codenotes/linux/shell/Shell%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html#_6-diff工具"><!---->6.diff工具<!----></a><ul class="vp-sidebar-sub-headers"><li class="vp-sidebar-sub-header"><a aria-label="语法和选项" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/bluefish-notes.github.io/codenotes/linux/shell/Shell%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html#语法和选项-3"><!---->语法和选项<!----></a><ul class="vp-sidebar-sub-headers"></ul></li></ul></li><li class="vp-sidebar-sub-header"><a aria-label="7. paste工具" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/bluefish-notes.github.io/codenotes/linux/shell/Shell%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html#_7-paste工具"><!---->7. paste工具<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="8. tr工具" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/bluefish-notes.github.io/codenotes/linux/shell/Shell%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html#_8-tr工具"><!---->8. tr工具<!----></a><ul class="vp-sidebar-sub-headers"><li class="vp-sidebar-sub-header"><a aria-label="语法和选项" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/bluefish-notes.github.io/codenotes/linux/shell/Shell%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html#语法和选项-4"><!---->语法和选项<!----></a><ul class="vp-sidebar-sub-headers"></ul></li></ul></li><li class="vp-sidebar-sub-header"><a aria-label="1、命令和文件自动补全" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/bluefish-notes.github.io/codenotes/linux/shell/Shell%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html#_1、命令和文件自动补全"><!---->1、命令和文件自动补全<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="2、常见的快捷键" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/bluefish-notes.github.io/codenotes/linux/shell/Shell%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html#_2、常见的快捷键"><!---->2、常见的快捷键<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="4、bash中的引号（重点）" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/bluefish-notes.github.io/codenotes/linux/shell/Shell%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html#_4、bash中的引号-重点"><!---->4、bash中的引号（重点）<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="3. shell脚本" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/bluefish-notes.github.io/codenotes/linux/shell/Shell%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html#_3-shell脚本"><!---->3. shell脚本<!----></a><ul class="vp-sidebar-sub-headers"><li class="vp-sidebar-sub-header"><a aria-label="㈠ 什么是shell脚本？" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/bluefish-notes.github.io/codenotes/linux/shell/Shell%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html#一-什么是shell脚本"><!---->㈠ 什么是shell脚本？<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="㈡ 什么时候用到脚本?" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/bluefish-notes.github.io/codenotes/linux/shell/Shell%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html#二-什么时候用到脚本"><!---->㈡ 什么时候用到脚本?<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="㈢ shell脚本能干啥?" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/bluefish-notes.github.io/codenotes/linux/shell/Shell%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html#三-shell脚本能干啥"><!---->㈢ shell脚本能干啥?<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="㈣ 如何学习shell脚本？" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/bluefish-notes.github.io/codenotes/linux/shell/Shell%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html#四-如何学习shell脚本"><!---->㈣ 如何学习shell脚本？<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="㈤ 学习shell脚本的秘诀" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/bluefish-notes.github.io/codenotes/linux/shell/Shell%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html#五-学习shell脚本的秘诀"><!---->㈤ 学习shell脚本的秘诀<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="㈥ shell脚本的基本写法" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/bluefish-notes.github.io/codenotes/linux/shell/Shell%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html#六-shell脚本的基本写法"><!---->㈥ shell脚本的基本写法<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="㈦ shell脚本的执行方法" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/bluefish-notes.github.io/codenotes/linux/shell/Shell%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html#七-shell脚本的执行方法"><!---->㈦ shell脚本的执行方法<!----></a><ul class="vp-sidebar-sub-headers"></ul></li></ul></li><li class="vp-sidebar-sub-header"><a aria-label="1. 变量是什么？" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/bluefish-notes.github.io/codenotes/linux/shell/Shell%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html#_1-变量是什么"><!---->1. 变量是什么？<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="2. 什么时候需要定义变量？" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/bluefish-notes.github.io/codenotes/linux/shell/Shell%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html#_2-什么时候需要定义变量"><!---->2. 什么时候需要定义变量？<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="3.变量如何定义？" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/bluefish-notes.github.io/codenotes/linux/shell/Shell%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html#_3-变量如何定义"><!---->3.变量如何定义？<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="4. 变量的定义规则" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/bluefish-notes.github.io/codenotes/linux/shell/Shell%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html#_4-变量的定义规则"><!---->4. 变量的定义规则<!----></a><ul class="vp-sidebar-sub-headers"><li class="vp-sidebar-sub-header"><a aria-label="㈠ 变量名区分大小写" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/bluefish-notes.github.io/codenotes/linux/shell/Shell%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html#一-变量名区分大小写"><!---->㈠ 变量名区分大小写<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="㈡ 变量名不能有特殊符号" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/bluefish-notes.github.io/codenotes/linux/shell/Shell%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html#二-变量名不能有特殊符号"><!---->㈡ 变量名不能有特殊符号<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="㈢ 变量名不能以数字开头" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/bluefish-notes.github.io/codenotes/linux/shell/Shell%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html#三-变量名不能以数字开头"><!---->㈢ 变量名不能以数字开头<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="㈣ 等号两边不能有任何空格" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/bluefish-notes.github.io/codenotes/linux/shell/Shell%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html#四-等号两边不能有任何空格"><!---->㈣ 等号两边不能有任何空格<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="㈤ 变量名尽量做到见名知意" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/bluefish-notes.github.io/codenotes/linux/shell/Shell%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html#五-变量名尽量做到见名知意"><!---->㈤ 变量名尽量做到见名知意<!----></a><ul class="vp-sidebar-sub-headers"></ul></li></ul></li><li class="vp-sidebar-sub-header"><a aria-label="5. 变量的定义方式有哪些？" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/bluefish-notes.github.io/codenotes/linux/shell/Shell%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html#_5-变量的定义方式有哪些"><!---->5. 变量的定义方式有哪些？<!----></a><ul class="vp-sidebar-sub-headers"><li class="vp-sidebar-sub-header"><a aria-label="㈠ 基本方式" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/bluefish-notes.github.io/codenotes/linux/shell/Shell%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html#一-基本方式"><!---->㈠ 基本方式<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="㈡ 命令执行结果赋值给变量" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/bluefish-notes.github.io/codenotes/linux/shell/Shell%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html#二-命令执行结果赋值给变量"><!---->㈡ 命令执行结果赋值给变量<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="㈢ 交互式定义变量(read)" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/bluefish-notes.github.io/codenotes/linux/shell/Shell%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html#三-交互式定义变量-read"><!---->㈢ 交互式定义变量(read)<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="㈣ 定义有类型的变量(declare)" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/bluefish-notes.github.io/codenotes/linux/shell/Shell%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html#四-定义有类型的变量-declare"><!---->㈣ 定义有类型的变量(declare)<!----></a><ul class="vp-sidebar-sub-headers"></ul></li></ul></li><li class="vp-sidebar-sub-header"><a aria-label="6. 变量的分类" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/bluefish-notes.github.io/codenotes/linux/shell/Shell%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html#_6-变量的分类"><!---->6. 变量的分类<!----></a><ul class="vp-sidebar-sub-headers"><li class="vp-sidebar-sub-header"><a aria-label="㈠ 本地变量" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/bluefish-notes.github.io/codenotes/linux/shell/Shell%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html#一-本地变量"><!---->㈠ 本地变量<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="㈡ 环境变量" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/bluefish-notes.github.io/codenotes/linux/shell/Shell%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html#二-环境变量"><!---->㈡ 环境变量<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="㈢ 全局变量" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/bluefish-notes.github.io/codenotes/linux/shell/Shell%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html#三-全局变量"><!---->㈢ 全局变量<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="㈣ 系统变量" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/bluefish-notes.github.io/codenotes/linux/shell/Shell%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html#四-系统变量"><!---->㈣ 系统变量<!----></a><ul class="vp-sidebar-sub-headers"></ul></li></ul></li><li class="vp-sidebar-sub-header"><a aria-label="1. 四则运算符号" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/bluefish-notes.github.io/codenotes/linux/shell/Shell%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html#_1-四则运算符号"><!---->1. 四则运算符号<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="2.了解i和i" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/bluefish-notes.github.io/codenotes/linux/shell/Shell%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html#_2-了解i和i"><!---->2.了解i和i<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="1. 数组定义" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/bluefish-notes.github.io/codenotes/linux/shell/Shell%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html#_1-数组定义"><!---->1. 数组定义<!----></a><ul class="vp-sidebar-sub-headers"><li class="vp-sidebar-sub-header"><a aria-label="㈠ 数组分类" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/bluefish-notes.github.io/codenotes/linux/shell/Shell%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html#一-数组分类"><!---->㈠ 数组分类<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="㈡ 普通数组定义" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/bluefish-notes.github.io/codenotes/linux/shell/Shell%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html#二-普通数组定义"><!---->㈡ 普通数组定义<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="㈢ 数组的读取" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/bluefish-notes.github.io/codenotes/linux/shell/Shell%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html#三-数组的读取"><!---->㈢ 数组的读取<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="㈣ 关联数组定义" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/bluefish-notes.github.io/codenotes/linux/shell/Shell%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html#四-关联数组定义"><!---->㈣ 关联数组定义<!----></a><ul class="vp-sidebar-sub-headers"></ul></li></ul></li><li class="vp-sidebar-sub-header"><a aria-label="2. 其他变量定义" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/bluefish-notes.github.io/codenotes/linux/shell/Shell%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html#_2-其他变量定义"><!---->2. 其他变量定义<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="1. 条件判断语法格式" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/bluefish-notes.github.io/codenotes/linux/shell/Shell%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html#_1-条件判断语法格式"><!---->1. 条件判断语法格式<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="2. 条件判断相关参数" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/bluefish-notes.github.io/codenotes/linux/shell/Shell%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html#_2-条件判断相关参数"><!---->2. 条件判断相关参数<!----></a><ul class="vp-sidebar-sub-headers"><li class="vp-sidebar-sub-header"><a aria-label="㈠ 判断文件类型" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/bluefish-notes.github.io/codenotes/linux/shell/Shell%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html#一-判断文件类型"><!---->㈠ 判断文件类型<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="㈡ 判断文件权限" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/bluefish-notes.github.io/codenotes/linux/shell/Shell%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html#二-判断文件权限"><!---->㈡ 判断文件权限<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="㈢ 判断文件新旧" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/bluefish-notes.github.io/codenotes/linux/shell/Shell%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html#三-判断文件新旧"><!---->㈢ 判断文件新旧<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="㈣ 判断整数" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/bluefish-notes.github.io/codenotes/linux/shell/Shell%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html#四-判断整数"><!---->㈣ 判断整数<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="㈤ 判断字符串" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/bluefish-notes.github.io/codenotes/linux/shell/Shell%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html#五-判断字符串"><!---->㈤ 判断字符串<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="㈥ 多重条件判断" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/bluefish-notes.github.io/codenotes/linux/shell/Shell%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html#六-多重条件判断"><!---->㈥ 多重条件判断<!----></a><ul class="vp-sidebar-sub-headers"></ul></li></ul></li><li class="vp-sidebar-sub-header"><a aria-label="1. 基本语法结构" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/bluefish-notes.github.io/codenotes/linux/shell/Shell%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html#_1-基本语法结构"><!---->1. 基本语法结构<!----></a><ul class="vp-sidebar-sub-headers"><li class="vp-sidebar-sub-header"><a aria-label="㈠ if结构" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/bluefish-notes.github.io/codenotes/linux/shell/Shell%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html#一-if结构"><!---->㈠ if结构<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="㈡ if...else结构" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/bluefish-notes.github.io/codenotes/linux/shell/Shell%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html#二-if-else结构"><!---->㈡ if...else结构<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="㈢ if...elif...else结构" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/bluefish-notes.github.io/codenotes/linux/shell/Shell%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html#三-if-elif-else结构"><!---->㈢ if...elif...else结构<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="㈣ 层层嵌套结构" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/bluefish-notes.github.io/codenotes/linux/shell/Shell%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html#四-层层嵌套结构"><!---->㈣ 层层嵌套结构<!----></a><ul class="vp-sidebar-sub-headers"></ul></li></ul></li><li class="vp-sidebar-sub-header"><a aria-label="2. 应用案例" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/bluefish-notes.github.io/codenotes/linux/shell/Shell%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html#_2-应用案例"><!---->2. 应用案例<!----></a><ul class="vp-sidebar-sub-headers"><li class="vp-sidebar-sub-header"><a aria-label="㈠ 判断两台主机是否ping通" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/bluefish-notes.github.io/codenotes/linux/shell/Shell%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html#一-判断两台主机是否ping通"><!---->㈠ 判断两台主机是否ping通<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="㈡ 判断一个进程是否存在" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/bluefish-notes.github.io/codenotes/linux/shell/Shell%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html#二-判断一个进程是否存在"><!---->㈡ 判断一个进程是否存在<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="㈢ 判断一个服务是否正常" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/bluefish-notes.github.io/codenotes/linux/shell/Shell%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html#三-判断一个服务是否正常"><!---->㈢ 判断一个服务是否正常<!----></a><ul class="vp-sidebar-sub-headers"></ul></li></ul></li><li class="vp-sidebar-sub-header"><a aria-label="3. 课堂练习" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/bluefish-notes.github.io/codenotes/linux/shell/Shell%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html#_3-课堂练习"><!---->3. 课堂练习<!----></a><ul class="vp-sidebar-sub-headers"><li class="vp-sidebar-sub-header"><a aria-label="㈠ 判断用户是否存在" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/bluefish-notes.github.io/codenotes/linux/shell/Shell%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html#一-判断用户是否存在"><!---->㈠ 判断用户是否存在<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="㈡ 判断软件包是否安装" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/bluefish-notes.github.io/codenotes/linux/shell/Shell%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html#二-判断软件包是否安装"><!---->㈡ 判断软件包是否安装<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="㈢ 判断当前主机的内核版本" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/bluefish-notes.github.io/codenotes/linux/shell/Shell%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html#三-判断当前主机的内核版本"><!---->㈢ 判断当前主机的内核版本<!----></a><ul class="vp-sidebar-sub-headers"></ul></li></ul></li><li class="vp-sidebar-sub-header"><a aria-label="1. for循环语法结构" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/bluefish-notes.github.io/codenotes/linux/shell/Shell%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html#_1-for循环语法结构"><!---->1. for循环语法结构<!----></a><ul class="vp-sidebar-sub-headers"><li class="vp-sidebar-sub-header"><a aria-label="㈠ 列表循环" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/bluefish-notes.github.io/codenotes/linux/shell/Shell%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html#一-列表循环"><!---->㈠ 列表循环<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="㈡ 不带列表循环" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/bluefish-notes.github.io/codenotes/linux/shell/Shell%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html#二-不带列表循环"><!---->㈡ 不带列表循环<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="㈢ 类C风格的for循环" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/bluefish-notes.github.io/codenotes/linux/shell/Shell%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html#三-类c风格的for循环"><!---->㈢ 类C风格的for循环<!----></a><ul class="vp-sidebar-sub-headers"></ul></li></ul></li><li class="vp-sidebar-sub-header"><a aria-label="2. 应用案例" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/bluefish-notes.github.io/codenotes/linux/shell/Shell%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html#_2-应用案例-1"><!---->2. 应用案例<!----></a><ul class="vp-sidebar-sub-headers"><li class="vp-sidebar-sub-header"><a aria-label="㈠ 脚本计算1-100奇数和" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/bluefish-notes.github.io/codenotes/linux/shell/Shell%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html#一-脚本计算1-100奇数和"><!---->㈠ 脚本计算1-100奇数和<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="㈡ 判断所输整数是否为质数" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/bluefish-notes.github.io/codenotes/linux/shell/Shell%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html#二-判断所输整数是否为质数"><!---->㈡ 判断所输整数是否为质数<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="㈢ 批量创建用户" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/bluefish-notes.github.io/codenotes/linux/shell/Shell%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html#三-批量创建用户"><!---->㈢ 批量创建用户<!----></a><ul class="vp-sidebar-sub-headers"></ul></li></ul></li><li class="vp-sidebar-sub-header"><a aria-label="3. 课堂练习" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/bluefish-notes.github.io/codenotes/linux/shell/Shell%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html#_3-课堂练习-1"><!---->3. 课堂练习<!----></a><ul class="vp-sidebar-sub-headers"><li class="vp-sidebar-sub-header"><a aria-label="㈠ 批量创建用户" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/bluefish-notes.github.io/codenotes/linux/shell/Shell%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html#一-批量创建用户"><!---->㈠ 批量创建用户<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="㈡ 局域网内脚本检查主机网络通讯" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/bluefish-notes.github.io/codenotes/linux/shell/Shell%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html#二-局域网内脚本检查主机网络通讯"><!---->㈡ 局域网内脚本检查主机网络通讯<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="㈢ 判断闰年" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/bluefish-notes.github.io/codenotes/linux/shell/Shell%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html#三-判断闰年"><!---->㈢ 判断闰年<!----></a><ul class="vp-sidebar-sub-headers"></ul></li></ul></li><li class="vp-sidebar-sub-header"><a aria-label="2. 应用案例" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/bluefish-notes.github.io/codenotes/linux/shell/Shell%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html#_2-应用案例-2"><!---->2. 应用案例<!----></a><ul class="vp-sidebar-sub-headers"><li class="vp-sidebar-sub-header"><a aria-label="㈠ 脚本计算1-50偶数和" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/bluefish-notes.github.io/codenotes/linux/shell/Shell%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html#一-脚本计算1-50偶数和"><!---->㈠ 脚本计算1-50偶数和<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="㈡ 脚本同步系统时间" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/bluefish-notes.github.io/codenotes/linux/shell/Shell%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html#二-脚本同步系统时间"><!---->㈡ 脚本同步系统时间<!----></a><ul class="vp-sidebar-sub-headers"></ul></li></ul></li><li class="vp-sidebar-sub-header"><a aria-label="1. until语法结构" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/bluefish-notes.github.io/codenotes/linux/shell/Shell%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html#_1-until语法结构"><!---->1. until语法结构<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="2. 应用案例" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/bluefish-notes.github.io/codenotes/linux/shell/Shell%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html#_2-应用案例-3"><!---->2. 应用案例<!----></a><ul class="vp-sidebar-sub-headers"><li class="vp-sidebar-sub-header"><a aria-label="㈡ 思路" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/bluefish-notes.github.io/codenotes/linux/shell/Shell%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html#二-思路"><!---->㈡ 思路<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="㈢ 落地实现" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/bluefish-notes.github.io/codenotes/linux/shell/Shell%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html#三-落地实现"><!---->㈢ 落地实现<!----></a><ul class="vp-sidebar-sub-headers"></ul></li></ul></li><li class="vp-sidebar-sub-header"><a aria-label="1. 如何生成随机数？" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/bluefish-notes.github.io/codenotes/linux/shell/Shell%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html#_1-如何生成随机数"><!---->1. 如何生成随机数？<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="2. 实战案例" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/bluefish-notes.github.io/codenotes/linux/shell/Shell%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html#_2-实战案例"><!---->2. 实战案例<!----></a><ul class="vp-sidebar-sub-headers"><li class="vp-sidebar-sub-header"><a aria-label="㈠ 随机产生以139开头的电话号码" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/bluefish-notes.github.io/codenotes/linux/shell/Shell%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html#一-随机产生以139开头的电话号码"><!---->㈠ 随机产生以139开头的电话号码<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="㈡ 随机抽出5位幸运观众" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/bluefish-notes.github.io/codenotes/linux/shell/Shell%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html#二-随机抽出5位幸运观众"><!---->㈡ 随机抽出5位幸运观众<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="㈢ 批量创建用户(密码随机产生)" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/bluefish-notes.github.io/codenotes/linux/shell/Shell%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html#三-批量创建用户-密码随机产生"><!---->㈢ 批量创建用户(密码随机产生)<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="㈠ 打印指定图案" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/bluefish-notes.github.io/codenotes/linux/shell/Shell%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html#一-打印指定图案"><!---->㈠ 打印指定图案<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="㈡ 落地实现1" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/bluefish-notes.github.io/codenotes/linux/shell/Shell%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html#二-落地实现1"><!---->㈡ 落地实现1<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="㈢ 落地实现2" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/bluefish-notes.github.io/codenotes/linux/shell/Shell%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html#三-落地实现2"><!---->㈢ 落地实现2<!----></a><ul class="vp-sidebar-sub-headers"></ul></li></ul></li><li class="vp-sidebar-sub-header"><a aria-label="1、变量定义" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/bluefish-notes.github.io/codenotes/linux/shell/Shell%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html#_1、变量定义"><!---->1、变量定义<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="2. 流程控制语句" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/bluefish-notes.github.io/codenotes/linux/shell/Shell%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html#_2-流程控制语句"><!---->2. 流程控制语句<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="3. 循环语句" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/bluefish-notes.github.io/codenotes/linux/shell/Shell%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html#_3-循环语句"><!---->3. 循环语句<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="4. 影响shell程序的内置命令" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/bluefish-notes.github.io/codenotes/linux/shell/Shell%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html#_4-影响shell程序的内置命令"><!---->4. 影响shell程序的内置命令<!----></a><ul class="vp-sidebar-sub-headers"><li class="vp-sidebar-sub-header"><a aria-label="㈠ 具体需求" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/bluefish-notes.github.io/codenotes/linux/shell/Shell%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html#一-具体需求"><!---->㈠ 具体需求<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="㈢ 落地实现" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/bluefish-notes.github.io/codenotes/linux/shell/Shell%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html#三-落地实现-1"><!---->㈢ 落地实现<!----></a><ul class="vp-sidebar-sub-headers"></ul></li></ul></li><li class="vp-sidebar-sub-header"><a aria-label="1. 如何生成随机数？" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/bluefish-notes.github.io/codenotes/linux/shell/Shell%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html#_1-如何生成随机数-1"><!---->1. 如何生成随机数？<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="2. 实战案例" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/bluefish-notes.github.io/codenotes/linux/shell/Shell%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html#_2-实战案例-1"><!---->2. 实战案例<!----></a><ul class="vp-sidebar-sub-headers"><li class="vp-sidebar-sub-header"><a aria-label="㈠ 随机产生以139开头的电话号码" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/bluefish-notes.github.io/codenotes/linux/shell/Shell%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html#一-随机产生以139开头的电话号码-1"><!---->㈠ 随机产生以139开头的电话号码<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="㈡ 随机抽出5位幸运观众" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/bluefish-notes.github.io/codenotes/linux/shell/Shell%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html#二-随机抽出5位幸运观众-1"><!---->㈡ 随机抽出5位幸运观众<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="㈢ 批量创建用户(密码随机产生)" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/bluefish-notes.github.io/codenotes/linux/shell/Shell%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html#三-批量创建用户-密码随机产生-1"><!---->㈢ 批量创建用户(密码随机产生)<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="㈠ 打印指定图案" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/bluefish-notes.github.io/codenotes/linux/shell/Shell%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html#一-打印指定图案-1"><!---->㈠ 打印指定图案<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="㈡ 落地实现1" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/bluefish-notes.github.io/codenotes/linux/shell/Shell%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html#二-落地实现1-1"><!---->㈡ 落地实现1<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="㈢ 落地实现2" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/bluefish-notes.github.io/codenotes/linux/shell/Shell%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html#三-落地实现2-1"><!---->㈢ 落地实现2<!----></a><ul class="vp-sidebar-sub-headers"></ul></li></ul></li><li class="vp-sidebar-sub-header"><a aria-label="1. 变量定义" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/bluefish-notes.github.io/codenotes/linux/shell/Shell%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html#_1-变量定义"><!---->1. 变量定义<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="2. 流程控制语句" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/bluefish-notes.github.io/codenotes/linux/shell/Shell%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html#_2-流程控制语句-1"><!---->2. 流程控制语句<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="3. 循环语句" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/bluefish-notes.github.io/codenotes/linux/shell/Shell%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html#_3-循环语句-1"><!---->3. 循环语句<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="4. 影响shell程序的内置命令" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/bluefish-notes.github.io/codenotes/linux/shell/Shell%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html#_4-影响shell程序的内置命令-1"><!---->4. 影响shell程序的内置命令<!----></a><ul class="vp-sidebar-sub-headers"><li class="vp-sidebar-sub-header"><a aria-label="㈠ 具体需求" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/bluefish-notes.github.io/codenotes/linux/shell/Shell%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html#一-具体需求-1"><!---->㈠ 具体需求<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="㈡ 案例分析" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/bluefish-notes.github.io/codenotes/linux/shell/Shell%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html#二-案例分析"><!---->㈡ 案例分析<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="㈢ 落地实现" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/bluefish-notes.github.io/codenotes/linux/shell/Shell%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html#三-落地实现-2"><!---->㈢ 落地实现<!----></a><ul class="vp-sidebar-sub-headers"></ul></li></ul></li><li class="vp-sidebar-sub-header"><a aria-label="1. 语法结构" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/bluefish-notes.github.io/codenotes/linux/shell/Shell%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html#_1-语法结构"><!---->1. 语法结构<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="2. 应用案例" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/bluefish-notes.github.io/codenotes/linux/shell/Shell%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html#_2-应用案例-4"><!---->2. 应用案例<!----></a><ul class="vp-sidebar-sub-headers"><li class="vp-sidebar-sub-header"><a aria-label="㈠ 脚本传不同值做不同事" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/bluefish-notes.github.io/codenotes/linux/shell/Shell%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html#一-脚本传不同值做不同事"><!---->㈠ 脚本传不同值做不同事<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="㈡ 根据用户需求选择做事" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/bluefish-notes.github.io/codenotes/linux/shell/Shell%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html#二-根据用户需求选择做事"><!---->㈡ 根据用户需求选择做事<!----></a><ul class="vp-sidebar-sub-headers"></ul></li></ul></li><li class="vp-sidebar-sub-header"><a aria-label="1. 什么是函数？" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/bluefish-notes.github.io/codenotes/linux/shell/Shell%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html#_1-什么是函数"><!---->1. 什么是函数？<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="2. 如何定义函数？" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/bluefish-notes.github.io/codenotes/linux/shell/Shell%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html#_2-如何定义函数"><!---->2. 如何定义函数？<!----></a><ul class="vp-sidebar-sub-headers"><li class="vp-sidebar-sub-header"><a aria-label="㈠ 当前命令行调用" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/bluefish-notes.github.io/codenotes/linux/shell/Shell%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html#一-当前命令行调用"><!---->㈠ 当前命令行调用<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="㈡ 定义到用户的环境变量中" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/bluefish-notes.github.io/codenotes/linux/shell/Shell%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html#二-定义到用户的环境变量中"><!---->㈡ 定义到用户的环境变量中<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="㈢ 脚本中调用" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/bluefish-notes.github.io/codenotes/linux/shell/Shell%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html#三-脚本中调用"><!---->㈢ 脚本中调用<!----></a><ul class="vp-sidebar-sub-headers"></ul></li></ul></li><li class="vp-sidebar-sub-header"><a aria-label="1. 任务背景" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/bluefish-notes.github.io/codenotes/linux/shell/Shell%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html#_1-任务背景"><!---->1. 任务背景<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="2. 具体要求" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/bluefish-notes.github.io/codenotes/linux/shell/Shell%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html#_2-具体要求"><!---->2. 具体要求<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="3. 综合分析" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/bluefish-notes.github.io/codenotes/linux/shell/Shell%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html#_3-综合分析"><!---->3. 综合分析<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="4. 落地实现" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/bluefish-notes.github.io/codenotes/linux/shell/Shell%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html#_4-落地实现"><!---->4. 落地实现<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="2. 正则能干什么？" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/bluefish-notes.github.io/codenotes/linux/shell/Shell%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html#_2-正则能干什么"><!---->2. 正则能干什么？<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="3. 正则当中名词解释" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/bluefish-notes.github.io/codenotes/linux/shell/Shell%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html#_3-正则当中名词解释"><!---->3. 正则当中名词解释<!----></a><ul class="vp-sidebar-sub-headers"><li class="vp-sidebar-sub-header"><a aria-label="㈠ 正则中普通常用的元字符" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/bluefish-notes.github.io/codenotes/linux/shell/Shell%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html#一-正则中普通常用的元字符"><!---->㈠ 正则中普通常用的元字符<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="㈡ 正则中其他常用元字符" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/bluefish-notes.github.io/codenotes/linux/shell/Shell%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html#二-正则中其他常用元字符"><!---->㈡ 正则中其他常用元字符<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="㈢ 扩展类正则常用元字符" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/bluefish-notes.github.io/codenotes/linux/shell/Shell%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html#三-扩展类正则常用元字符"><!---->㈢ 扩展类正则常用元字符<!----></a><ul class="vp-sidebar-sub-headers"></ul></li></ul></li><li class="vp-sidebar-sub-header"><a aria-label="6. 正则表达式总结" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/bluefish-notes.github.io/codenotes/linux/shell/Shell%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html#_6-正则表达式总结"><!---->6. 正则表达式总结<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="1. 文件准备" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/bluefish-notes.github.io/codenotes/linux/shell/Shell%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html#_1-文件准备"><!---->1. 文件准备<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="2. 具体要求" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/bluefish-notes.github.io/codenotes/linux/shell/Shell%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html#_2-具体要求-1"><!---->2. 具体要求<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="脚本搭建web服务" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/bluefish-notes.github.io/codenotes/linux/shell/Shell%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html#脚本搭建web服务"><!---->脚本搭建web服务<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="1. sed用来做啥？" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/bluefish-notes.github.io/codenotes/linux/shell/Shell%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html#_1-sed用来做啥"><!---->1. sed用来做啥？<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="2. sed如何处理文件？" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/bluefish-notes.github.io/codenotes/linux/shell/Shell%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html#_2-sed如何处理文件"><!---->2. sed如何处理文件？<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="1. 命令行格式" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/bluefish-notes.github.io/codenotes/linux/shell/Shell%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html#_1-命令行格式"><!---->1. 命令行格式<!----></a><ul class="vp-sidebar-sub-headers"><li class="vp-sidebar-sub-header"><a aria-label="㈠ 语法格式" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/bluefish-notes.github.io/codenotes/linux/shell/Shell%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html#一-语法格式"><!---->㈠ 语法格式<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="㈡ 举例说明" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/bluefish-notes.github.io/codenotes/linux/shell/Shell%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html#二-举例说明"><!---->㈡ 举例说明<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="㈠ 用法" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/bluefish-notes.github.io/codenotes/linux/shell/Shell%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html#一-用法"><!---->㈠ 用法<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="㈡ 注意事项" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/bluefish-notes.github.io/codenotes/linux/shell/Shell%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html#二-注意事项"><!---->㈡ 注意事项<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="㈢举例说明" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/bluefish-notes.github.io/codenotes/linux/shell/Shell%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html#三-举例说明"><!---->㈢举例说明<!----></a><ul class="vp-sidebar-sub-headers"></ul></li></ul></li><li class="vp-sidebar-sub-header"><a aria-label="1. awk概述" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/bluefish-notes.github.io/codenotes/linux/shell/Shell%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html#_1-awk概述"><!---->1. awk概述<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="2. awk能干啥?" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/bluefish-notes.github.io/codenotes/linux/shell/Shell%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html#_2-awk能干啥"><!---->2. awk能干啥?<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="1. 命令行模式使用" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/bluefish-notes.github.io/codenotes/linux/shell/Shell%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html#_1-命令行模式使用"><!---->1. 命令行模式使用<!----></a><ul class="vp-sidebar-sub-headers"><li class="vp-sidebar-sub-header"><a aria-label="㈠ 语法结构" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/bluefish-notes.github.io/codenotes/linux/shell/Shell%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html#一-语法结构"><!---->㈠ 语法结构<!----></a><ul class="vp-sidebar-sub-headers"></ul></li></ul></li><li class="vp-sidebar-sub-header"><a aria-label="2. 脚本模式使用" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/bluefish-notes.github.io/codenotes/linux/shell/Shell%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html#_2-脚本模式使用"><!---->2. 脚本模式使用<!----></a><ul class="vp-sidebar-sub-headers"><li class="vp-sidebar-sub-header"><a aria-label="㈠ 脚本编写" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/bluefish-notes.github.io/codenotes/linux/shell/Shell%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html#一-脚本编写"><!---->㈠ 脚本编写<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="㈡ 脚本执行" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/bluefish-notes.github.io/codenotes/linux/shell/Shell%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html#二-脚本执行"><!---->㈡ 脚本执行<!----></a><ul class="vp-sidebar-sub-headers"></ul></li></ul></li><li class="vp-sidebar-sub-header"><a aria-label="1、常用内置变量举例" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/bluefish-notes.github.io/codenotes/linux/shell/Shell%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html#_1、常用内置变量举例"><!---->1、常用内置变量举例<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="2、内置变量分隔符举例" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/bluefish-notes.github.io/codenotes/linux/shell/Shell%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html#_2、内置变量分隔符举例"><!---->2、内置变量分隔符举例<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="1. 格式化输出print和printf" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/bluefish-notes.github.io/codenotes/linux/shell/Shell%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html#_1-格式化输出print和printf"><!---->1. 格式化输出print和printf<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="2. awk变量定义" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/bluefish-notes.github.io/codenotes/linux/shell/Shell%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html#_2-awk变量定义"><!---->2. awk变量定义<!----></a><ul class="vp-sidebar-sub-headers"><li class="vp-sidebar-sub-header"><a aria-label="㈠ 举例说明" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/bluefish-notes.github.io/codenotes/linux/shell/Shell%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html#一-举例说明"><!---->㈠ 举例说明<!----></a><ul class="vp-sidebar-sub-headers"></ul></li></ul></li><li class="vp-sidebar-sub-header"><a aria-label="4. 课堂练习" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/bluefish-notes.github.io/codenotes/linux/shell/Shell%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html#_4-课堂练习"><!---->4. 课堂练习<!----></a><ul class="vp-sidebar-sub-headers"><li class="vp-sidebar-sub-header"><a aria-label="㈠ 流程控制语句" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/bluefish-notes.github.io/codenotes/linux/shell/Shell%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html#一-流程控制语句"><!---->㈠ 流程控制语句<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="㈡ 循环语句" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/bluefish-notes.github.io/codenotes/linux/shell/Shell%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html#二-循环语句"><!---->㈡ 循环语句<!----></a><ul class="vp-sidebar-sub-headers"></ul></li></ul></li><li class="vp-sidebar-sub-header"><a aria-label="1、统计系统中各种类型的shell" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/bluefish-notes.github.io/codenotes/linux/shell/Shell%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html#_1、统计系统中各种类型的shell"><!---->1、统计系统中各种类型的shell<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="2、统计网站访问状态" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/bluefish-notes.github.io/codenotes/linux/shell/Shell%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html#_2、统计网站访问状态"><!---->2、统计网站访问状态<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="3、统计访问网站的每个IP的数量" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/bluefish-notes.github.io/codenotes/linux/shell/Shell%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html#_3、统计访问网站的每个ip的数量"><!---->3、统计访问网站的每个IP的数量<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="4、统计网站日志中PV量" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/bluefish-notes.github.io/codenotes/linux/shell/Shell%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html#_4、统计网站日志中pv量"><!---->4、统计网站日志中PV量<!----></a><ul class="vp-sidebar-sub-headers"></ul></li></ul><!--]--></li></ul></section></li></ul></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><span class="font-icon icon iconfont icon-tool" style=""></span><span class="vp-sidebar-title">开发必备</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><span class="font-icon icon iconfont icon-read" style=""></span><span class="vp-sidebar-title">在线技术文档</span><span class="vp-arrow end"></span></button><!----></section></li></ul><!--[--><!----><!--]--></aside><!--[--><main id="main-content" class="vp-page"><!--[--><!--[--><!----><!--]--><!----><nav class="vp-breadcrumb disable"></nav><div class="vp-page-title"><h1><span class="font-icon icon iconfont icon-write" style=""></span>Shell基础知识</h1><div class="page-info"><span class="page-category-info" aria-label="分类🌈" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon category-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="category icon"><path d="M148.41 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H148.41c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.311-40.31zM147.556 553.478H429.73c22.263 0 40.311 18.048 40.311 40.31v282.176c0 22.263-18.048 40.312-40.31 40.312H147.555c-22.263 0-40.311-18.049-40.311-40.312V593.79c0-22.263 18.048-40.311 40.31-40.311zM593.927 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H593.927c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.31-40.31zM730.22 920.502H623.926c-40.925 0-74.22-33.388-74.22-74.425V623.992c0-41.038 33.387-74.424 74.425-74.424h222.085c41.038 0 74.424 33.226 74.424 74.067v114.233c0 10.244-8.304 18.548-18.547 18.548s-18.548-8.304-18.548-18.548V623.635c0-20.388-16.746-36.974-37.33-36.974H624.13c-20.585 0-37.331 16.747-37.331 37.33v222.086c0 20.585 16.654 37.331 37.126 37.331H730.22c10.243 0 18.547 8.304 18.547 18.547 0 10.244-8.304 18.547-18.547 18.547z"></path></svg><!--[--><span class="page-category-item category6 clickable" role="navigation">shell</span><!--]--><meta property="articleSection" content="shell"></span><span class="page-tag-info" aria-label="标签🏷" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon tag-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="tag icon"><path d="M939.902 458.563L910.17 144.567c-1.507-16.272-14.465-29.13-30.737-30.737L565.438 84.098h-.402c-3.215 0-5.726 1.005-7.634 2.913l-470.39 470.39a10.004 10.004 0 000 14.164l365.423 365.424c1.909 1.908 4.42 2.913 7.132 2.913s5.223-1.005 7.132-2.913l470.39-470.39c2.01-2.11 3.014-5.023 2.813-8.036zm-240.067-72.121c-35.458 0-64.286-28.828-64.286-64.286s28.828-64.285 64.286-64.285 64.286 28.828 64.286 64.285-28.829 64.286-64.286 64.286z"></path></svg><!--[--><span class="page-tag-item tag6 clickable" role="navigation">shell</span><!--]--><meta property="keywords" content="shell"></span><span class="page-reading-time-info" aria-label="阅读时间⌛" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>大约 134 分钟</span><meta property="timeRequired" content="PT134M"></span></div><hr></div><div class="toc-place-holder"><aside id="toc"><!--[--><!----><!--]--><div class="toc-header">此页内容<button type="button" class="print-button" title="打印"><svg xmlns="http://www.w3.org/2000/svg" class="icon print-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="print icon"><path d="M819.2 364.8h-44.8V128c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v236.8h-44.8C145.067 364.8 96 413.867 96 473.6v192c0 59.733 49.067 108.8 108.8 108.8h44.8V896c0 17.067 14.933 32 32 32h460.8c17.067 0 32-14.933 32-32V774.4h44.8c59.733 0 108.8-49.067 108.8-108.8v-192c0-59.733-49.067-108.8-108.8-108.8zM313.6 160h396.8v204.8H313.6V160zm396.8 704H313.6V620.8h396.8V864zM864 665.6c0 25.6-19.2 44.8-44.8 44.8h-44.8V588.8c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v121.6h-44.8c-25.6 0-44.8-19.2-44.8-44.8v-192c0-25.6 19.2-44.8 44.8-44.8h614.4c25.6 0 44.8 19.2 44.8 44.8v192z"></path></svg></button></div><div class="toc-wrapper"><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="#_1-grep工具">1. grep工具</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#语法和选项">语法和选项</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="#_2-cut工具">2. cut工具</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#语法和选项-1">语法和选项</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="#_3-sort工具">3. sort工具</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="#_5-tee工具">5.tee工具</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="#_6-diff工具">6.diff工具</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#语法和选项-3">语法和选项</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="#_7-paste工具">7. paste工具</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="#_8-tr工具">8. tr工具</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#语法和选项-4">语法和选项</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="#_1、命令和文件自动补全">1、命令和文件自动补全</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="#_2、常见的快捷键">2、常见的快捷键</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="#_4、bash中的引号-重点">4、bash中的引号（重点）</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="#_3-shell脚本">3. shell脚本</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#一-什么是shell脚本">㈠ 什么是shell脚本？</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#二-什么时候用到脚本">㈡ 什么时候用到脚本?</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#三-shell脚本能干啥">㈢ shell脚本能干啥?</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#四-如何学习shell脚本">㈣ 如何学习shell脚本？</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#五-学习shell脚本的秘诀">㈤ 学习shell脚本的秘诀</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#六-shell脚本的基本写法">㈥ shell脚本的基本写法</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#七-shell脚本的执行方法">㈦ shell脚本的执行方法</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="#_1-变量是什么">1. 变量是什么？</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="#_2-什么时候需要定义变量">2. 什么时候需要定义变量？</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="#_3-变量如何定义">3.变量如何定义？</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="#_4-变量的定义规则">4. 变量的定义规则</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#一-变量名区分大小写">㈠ 变量名区分大小写</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#二-变量名不能有特殊符号">㈡ 变量名不能有特殊符号</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#三-变量名不能以数字开头">㈢ 变量名不能以数字开头</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#四-等号两边不能有任何空格">㈣ 等号两边不能有任何空格</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#五-变量名尽量做到见名知意">㈤ 变量名尽量做到见名知意</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="#_5-变量的定义方式有哪些">5. 变量的定义方式有哪些？</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#一-基本方式">㈠ 基本方式</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#二-命令执行结果赋值给变量">㈡ 命令执行结果赋值给变量</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#三-交互式定义变量-read">㈢ 交互式定义变量(read)</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#四-定义有类型的变量-declare">㈣ 定义有类型的变量(declare)</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="#_6-变量的分类">6. 变量的分类</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#一-本地变量">㈠ 本地变量</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#二-环境变量">㈡ 环境变量</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#三-全局变量">㈢ 全局变量</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#四-系统变量">㈣ 系统变量</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="#_1-四则运算符号">1. 四则运算符号</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="#_2-了解i和i">2.了解i和i</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="#_1-数组定义">1. 数组定义</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#一-数组分类">㈠ 数组分类</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#二-普通数组定义">㈡ 普通数组定义</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#三-数组的读取">㈢ 数组的读取</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#四-关联数组定义">㈣ 关联数组定义</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="#_2-其他变量定义">2. 其他变量定义</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="#_1-条件判断语法格式">1. 条件判断语法格式</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="#_2-条件判断相关参数">2. 条件判断相关参数</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#一-判断文件类型">㈠ 判断文件类型</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#二-判断文件权限">㈡ 判断文件权限</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#三-判断文件新旧">㈢ 判断文件新旧</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#四-判断整数">㈣ 判断整数</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#五-判断字符串">㈤ 判断字符串</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#六-多重条件判断">㈥ 多重条件判断</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="#_1-基本语法结构">1. 基本语法结构</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#一-if结构">㈠ if结构</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#二-if-else结构">㈡ if...else结构</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#三-if-elif-else结构">㈢ if...elif...else结构</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#四-层层嵌套结构">㈣ 层层嵌套结构</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="#_2-应用案例">2. 应用案例</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#一-判断两台主机是否ping通">㈠ 判断两台主机是否ping通</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#二-判断一个进程是否存在">㈡ 判断一个进程是否存在</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#三-判断一个服务是否正常">㈢ 判断一个服务是否正常</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="#_3-课堂练习">3. 课堂练习</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#一-判断用户是否存在">㈠ 判断用户是否存在</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#二-判断软件包是否安装">㈡ 判断软件包是否安装</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#三-判断当前主机的内核版本">㈢ 判断当前主机的内核版本</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="#_1-for循环语法结构">1. for循环语法结构</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#一-列表循环">㈠ 列表循环</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#二-不带列表循环">㈡ 不带列表循环</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#三-类c风格的for循环">㈢ 类C风格的for循环</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="#_2-应用案例-1">2. 应用案例</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#一-脚本计算1-100奇数和">㈠ 脚本计算1-100奇数和</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#二-判断所输整数是否为质数">㈡ 判断所输整数是否为质数</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#三-批量创建用户">㈢ 批量创建用户</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="#_3-课堂练习-1">3. 课堂练习</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#一-批量创建用户">㈠ 批量创建用户</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#二-局域网内脚本检查主机网络通讯">㈡ 局域网内脚本检查主机网络通讯</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#三-判断闰年">㈢ 判断闰年</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="#_2-应用案例-2">2. 应用案例</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#一-脚本计算1-50偶数和">㈠ 脚本计算1-50偶数和</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#二-脚本同步系统时间">㈡ 脚本同步系统时间</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="#_1-until语法结构">1. until语法结构</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="#_2-应用案例-3">2. 应用案例</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#二-思路">㈡ 思路</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#三-落地实现">㈢ 落地实现</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="#_1-如何生成随机数">1. 如何生成随机数？</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="#_2-实战案例">2. 实战案例</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#一-随机产生以139开头的电话号码">㈠ 随机产生以139开头的电话号码</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#二-随机抽出5位幸运观众">㈡ 随机抽出5位幸运观众</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#三-批量创建用户-密码随机产生">㈢ 批量创建用户(密码随机产生)</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#一-打印指定图案">㈠ 打印指定图案</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#二-落地实现1">㈡ 落地实现1</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#三-落地实现2">㈢ 落地实现2</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="#_1、变量定义">1、变量定义</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="#_2-流程控制语句">2. 流程控制语句</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="#_3-循环语句">3. 循环语句</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="#_4-影响shell程序的内置命令">4. 影响shell程序的内置命令</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#一-具体需求">㈠ 具体需求</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#三-落地实现-1">㈢ 落地实现</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="#_1-如何生成随机数-1">1. 如何生成随机数？</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="#_2-实战案例-1">2. 实战案例</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#一-随机产生以139开头的电话号码-1">㈠ 随机产生以139开头的电话号码</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#二-随机抽出5位幸运观众-1">㈡ 随机抽出5位幸运观众</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#三-批量创建用户-密码随机产生-1">㈢ 批量创建用户(密码随机产生)</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#一-打印指定图案-1">㈠ 打印指定图案</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#二-落地实现1-1">㈡ 落地实现1</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#三-落地实现2-1">㈢ 落地实现2</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="#_1-变量定义">1. 变量定义</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="#_2-流程控制语句-1">2. 流程控制语句</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="#_3-循环语句-1">3. 循环语句</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="#_4-影响shell程序的内置命令-1">4. 影响shell程序的内置命令</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#一-具体需求-1">㈠ 具体需求</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#二-案例分析">㈡ 案例分析</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#三-落地实现-2">㈢ 落地实现</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="#_1-语法结构">1. 语法结构</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="#_2-应用案例-4">2. 应用案例</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#一-脚本传不同值做不同事">㈠ 脚本传不同值做不同事</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#二-根据用户需求选择做事">㈡ 根据用户需求选择做事</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="#_1-什么是函数">1. 什么是函数？</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="#_2-如何定义函数">2. 如何定义函数？</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#一-当前命令行调用">㈠ 当前命令行调用</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#二-定义到用户的环境变量中">㈡ 定义到用户的环境变量中</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#三-脚本中调用">㈢ 脚本中调用</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="#_1-任务背景">1. 任务背景</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="#_2-具体要求">2. 具体要求</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="#_3-综合分析">3. 综合分析</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="#_4-落地实现">4. 落地实现</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="#_2-正则能干什么">2. 正则能干什么？</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="#_3-正则当中名词解释">3. 正则当中名词解释</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#一-正则中普通常用的元字符">㈠ 正则中普通常用的元字符</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#二-正则中其他常用元字符">㈡ 正则中其他常用元字符</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#三-扩展类正则常用元字符">㈢ 扩展类正则常用元字符</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="#_6-正则表达式总结">6. 正则表达式总结</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="#_1-文件准备">1. 文件准备</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="#_2-具体要求-1">2. 具体要求</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="#脚本搭建web服务">脚本搭建web服务</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="#_1-sed用来做啥">1. sed用来做啥？</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="#_2-sed如何处理文件">2. sed如何处理文件？</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="#_1-命令行格式">1. 命令行格式</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#一-语法格式">㈠ 语法格式</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#二-举例说明">㈡ 举例说明</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#一-用法">㈠ 用法</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#二-注意事项">㈡ 注意事项</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#三-举例说明">㈢举例说明</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="#_1-awk概述">1. awk概述</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="#_2-awk能干啥">2. awk能干啥?</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="#_1-命令行模式使用">1. 命令行模式使用</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#一-语法结构">㈠ 语法结构</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="#_2-脚本模式使用">2. 脚本模式使用</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#一-脚本编写">㈠ 脚本编写</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#二-脚本执行">㈡ 脚本执行</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="#_1、常用内置变量举例">1、常用内置变量举例</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="#_2、内置变量分隔符举例">2、内置变量分隔符举例</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="#_1-格式化输出print和printf">1. 格式化输出print和printf</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="#_2-awk变量定义">2. awk变量定义</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#一-举例说明">㈠ 举例说明</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="#_4-课堂练习">4. 课堂练习</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#一-流程控制语句">㈠ 流程控制语句</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#二-循环语句">㈡ 循环语句</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="#_1、统计系统中各种类型的shell">1、统计系统中各种类型的shell</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="#_2、统计网站访问状态">2、统计网站访问状态</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="#_3、统计访问网站的每个ip的数量">3、统计访问网站的每个IP的数量</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="#_4、统计网站日志中pv量">4、统计网站日志中PV量</a></li><!----><!--]--></ul><div class="toc-marker" style="top:-1.7rem;"></div></div><!--[--><!----><!--]--></aside></div><!--[--><!----><!--]--><div class="theme-hope-content"><h2 id="_1-grep工具" tabindex="-1"><a class="header-anchor" href="#_1-grep工具" aria-hidden="true">#</a> 1. grep工具</h2><blockquote><p>grep是<strong>行</strong>过滤工具；用于根据关键字进行行过滤</p></blockquote><h3 id="语法和选项" tabindex="-1"><a class="header-anchor" href="#语法和选项" aria-hidden="true">#</a> 语法和选项</h3><p><strong>语法：</strong></p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code># grep [选项] &#39;关键字&#39; 文件名
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>常见选项：</strong></p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>OPTIONS:
    -i: 不区分大小写
    -v: 查找不包含指定内容的行,反向选择
    -w: 按单词搜索
    -o: 打印匹配关键字
    -c: 统计匹配到的行数
    -n: 显示行号
    -r: 逐层遍历目录查找
    -A: 显示匹配行及后面多少行	
    -B: 显示匹配行及前面多少行
    -C: 显示匹配行前后多少行
    -l：只列出匹配的文件名
    -L：列出不匹配的文件名
    -e: 使用正则匹配
    -E:使用扩展正则匹配
    ^key:以关键字开头
    key$:以关键字结尾
    ^$:匹配空行
    <span class="token parameter variable">--color</span><span class="token operator">=</span>auto ：可以将找到的关键词部分加上颜色的显示
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>颜色显示（别名设置）：</strong></p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>临时设置：
<span class="token comment"># alias grep=&#39;grep --color=auto&#39;			//只针对当前终端和当前用户生效</span>

永久设置：
<span class="token number">1</span>）全局（针对所有用户生效）
<span class="token function">vim</span> /etc/bashrc
<span class="token builtin class-name">alias</span> <span class="token assign-left variable">grep</span><span class="token operator">=</span><span class="token string">&#39;grep --color=auto&#39;</span>
<span class="token builtin class-name">source</span> /etc/bashrc

<span class="token number">2</span>）局部（针对具体的某个用户）
<span class="token function">vim</span> ~/.bashrc
<span class="token builtin class-name">alias</span> <span class="token assign-left variable">grep</span><span class="token operator">=</span><span class="token string">&#39;grep --color=auto&#39;</span>
<span class="token builtin class-name">source</span> ~/.bashrc
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>举例说明：</strong></p><p>说明：不要直接使用/etc/passwd文件，将其拷贝到/tmp下做实验！</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># grep -i root passwd						忽略大小写匹配包含root的行</span>
<span class="token comment"># grep -w ftp passwd 						精确匹配ftp单词</span>
<span class="token comment"># grep -w hello passwd 						精确匹配hello单词;自己添加包含hello的行到文件</span>
<span class="token comment"># grep -wo ftp passwd 						打印匹配到的关键字ftp(-o只打印关键字本身)</span>
<span class="token comment"># grep -n root passwd 						打印匹配到root关键字的行好</span>
<span class="token comment"># grep -ni root passwd 						忽略大小写匹配统计包含关键字root的行</span>
<span class="token comment"># grep -nic root passwd						忽略大小写匹配统计包含关键字root的行数</span>
<span class="token comment"># grep -i ^root passwd 						忽略大小写匹配以root开头的行</span>
<span class="token comment"># grep bash$ passwd 							匹配以bash结尾的行</span>
<span class="token comment"># grep -n ^$ passwd 							匹配空行并打印行号</span>
<span class="token comment"># grep ^# /etc/vsftpd/vsftpd.conf		匹配以#号开头的行</span>
<span class="token comment"># grep -v ^# /etc/vsftpd/vsftpd.conf	匹配不以#号开头的行</span>
<span class="token comment"># grep -A 5 mail passwd 	          匹配包含mail关键字及其后5行(匹配了这一行, 前面5行也打印出来)</span>
<span class="token comment"># grep -B 5 mail passwd 				 	匹配包含mail关键字及其前5行</span>
<span class="token comment"># grep -C 5 mail passwd 					匹配包含mail关键字及其前后5行</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_2-cut工具" tabindex="-1"><a class="header-anchor" href="#_2-cut工具" aria-hidden="true">#</a> 2. cut工具</h2><blockquote><p>cut是<strong>列</strong>截取工具，用于列的截取</p></blockquote><h3 id="语法和选项-1" tabindex="-1"><a class="header-anchor" href="#语法和选项-1" aria-hidden="true">#</a> 语法和选项</h3><p><strong>语法：</strong></p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># cut 选项  文件名</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>常见选项：</strong></p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>-c:	以字符为单位进行分割,截取
-d:	自定义分隔符，默认为制表符<span class="token punctuation">\</span>t
-f:	与-d一起使用，指定截取哪个区域
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>举例说明:</strong></p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># cut -d: -f1 1.txt 			以:冒号分割，截取第1列内容</span>
<span class="token comment"># cut -d: -f1,6,7 1.txt 	以:冒号分割，截取第1,6,7列内容</span>
<span class="token comment"># cut -c4 1.txt 				截取文件中每行第4个字符</span>
<span class="token comment"># cut -c1-4 1.txt 			截取文件中每行的1-4个字符</span>
<span class="token comment"># cut -c4-10 1.txt 			截取文件中每行的4-10个字符</span>
<span class="token comment"># cut -c5- 1.txt 				从第5个字符开始截取后面所有字符</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>课堂练习：</strong> 用小工具列出你当系统的运行级别。5/3</p><ol><li>如何查看系统运行级别 <ul><li>命令<code>runlevel</code></li><li>文件<code>/etc/inittab</code></li></ul></li><li>如何过滤运行级别</li></ol><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>runlevel <span class="token operator">|</span><span class="token function">cut</span> <span class="token parameter variable">-c3</span>
runlevel <span class="token operator">|</span> <span class="token function">cut</span> <span class="token parameter variable">-d</span> <span class="token string">&#39; &#39;</span> <span class="token parameter variable">-f2</span>
<span class="token function">grep</span> <span class="token parameter variable">-v</span> <span class="token string">&#39;^#&#39;</span> /etc/inittab <span class="token operator">|</span> <span class="token function">cut</span> -d: <span class="token parameter variable">-f2</span>
<span class="token function">grep</span> <span class="token string">&#39;^id&#39;</span> /etc/inittab <span class="token operator">|</span><span class="token function">cut</span> -d: <span class="token parameter variable">-f2</span>
<span class="token function">grep</span> <span class="token string">&quot;initdefault:$&quot;</span> /etc/inittab <span class="token operator">|</span> <span class="token function">cut</span> <span class="token parameter variable">-c4</span>
<span class="token function">grep</span> <span class="token parameter variable">-v</span> ^<span class="token comment"># /etc/inittab |cut -c4</span>
<span class="token function">grep</span> <span class="token string">&#39;id:&#39;</span> /etc/inittab <span class="token operator">|</span><span class="token function">cut</span> -d: <span class="token parameter variable">-f2</span>
<span class="token function">cut</span> -d<span class="token string">&#39;:&#39;</span> <span class="token parameter variable">-f2</span> /etc/inittab <span class="token operator">|</span><span class="token function">grep</span> <span class="token parameter variable">-v</span> ^<span class="token comment">#</span>
<span class="token function">cut</span> <span class="token parameter variable">-c4</span> /etc/inittab <span class="token operator">|</span><span class="token function">tail</span> <span class="token parameter variable">-1</span>
<span class="token function">cut</span> -d: <span class="token parameter variable">-f2</span> /etc/inittab <span class="token operator">|</span><span class="token function">tail</span> <span class="token parameter variable">-1</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_3-sort工具" tabindex="-1"><a class="header-anchor" href="#_3-sort工具" aria-hidden="true">#</a> 3. sort工具</h2><blockquote><p>sort工具用于排序;它将文件的每一行作为一个单位，从首字符向后，依次按ASCII码值进行比较，最后将他们按升序输出。</p></blockquote><h4 id="语法和选项-2" tabindex="-1"><a class="header-anchor" href="#语法和选项-2" aria-hidden="true">#</a> 语法和选项</h4><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token parameter variable">-u</span> ：去除重复行
<span class="token parameter variable">-r</span> ：降序排列，默认是升序
<span class="token parameter variable">-o</span> <span class="token builtin class-name">:</span> 将排序结果输出到文件中,类似重定向符号<span class="token operator">&gt;</span>
<span class="token parameter variable">-n</span> ：以数字排序，默认是按字符排序
<span class="token parameter variable">-t</span> ：分隔符
<span class="token parameter variable">-k</span> ：以第N列作为排序条件
<span class="token parameter variable">-b</span> ：忽略前导空格。
<span class="token parameter variable">-R</span> ：随机排序，每次运行的结果均不同
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>举例说明</strong></p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># sort -n -t: -k3 1.txt 			按照用户的uid进行升序排列</span>
<span class="token comment"># sort -nr -t: -k3 1.txt 			按照用户的uid进行降序排列</span>
<span class="token comment"># sort -n 2.txt 						按照数字排序</span>
<span class="token comment"># sort -nu 2.txt 						按照数字排序并且去重</span>
<span class="token comment"># sort -nr 2.txt </span>
<span class="token comment"># sort -nru 2.txt </span>
<span class="token comment"># sort -nru 2.txt </span>
<span class="token comment"># sort -n 2.txt -o 3.txt 			按照数字排序并将结果重定向到文件</span>
<span class="token comment"># sort -R 2.txt </span>
<span class="token comment"># sort -u 2.txt </span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>##4.uniq工具</p><blockquote><p>uniq用于去除<strong>连续</strong>的<strong>重复</strong>行</p></blockquote><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>常见选项：
-i: 忽略大小写
-c: 统计重复行次数
-d:只显示重复行

举例说明：
<span class="token comment"># uniq 2.txt </span>
<span class="token comment"># uniq -d 2.txt </span>
<span class="token comment"># uniq -dc 2.txt </span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_5-tee工具" tabindex="-1"><a class="header-anchor" href="#_5-tee工具" aria-hidden="true">#</a> 5.tee工具</h2><blockquote><p>tee工具是从标准输入读取并写入到标准输出和文件，即：双向覆盖重定向（屏幕输出|文本输入）</p></blockquote><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>选项：
<span class="token parameter variable">-a</span> 双向追加重定向

<span class="token comment"># echo hello world</span>
<span class="token comment"># echo hello world|tee file1</span>
<span class="token comment"># cat file1 </span>
<span class="token comment"># echo 999|tee -a file1</span>
<span class="token comment"># cat file1 </span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_6-diff工具" tabindex="-1"><a class="header-anchor" href="#_6-diff工具" aria-hidden="true">#</a> 6.diff工具</h2><blockquote><p>diff工具用于逐行比较文件的不同</p></blockquote><p>注意：diff描述两个文件不同的方式是告诉我们怎样改变第一个文件之后与第二个文件匹配。</p><h3 id="语法和选项-3" tabindex="-1"><a class="header-anchor" href="#语法和选项-3" aria-hidden="true">#</a> 语法和选项</h3><p><strong>语法：</strong></p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>diff [选项] 文件1 文件2
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>常用选项：</strong></p><table><thead><tr><th>选项</th><th>含义</th><th>备注</th></tr></thead><tbody><tr><td>-b</td><td>不检查空格</td><td></td></tr><tr><td>-B</td><td>不检查空白行</td><td></td></tr><tr><td>-i</td><td>不检查大小写</td><td></td></tr><tr><td>-w</td><td>忽略所有的空格</td><td></td></tr><tr><td>--normal</td><td>正常格式显示(默认)</td><td></td></tr><tr><td>-c</td><td>上下文格式显示</td><td></td></tr><tr><td>-u</td><td>合并格式显示</td><td></td></tr></tbody></table><p><strong>举例说明：</strong></p><ul><li>比较两个普通文件异同，文件准备：</li></ul><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@MissHou ~<span class="token punctuation">]</span><span class="token comment"># cat file1</span>
aaaa
<span class="token number">111</span>
hello world
<span class="token number">222</span>
<span class="token number">333</span>
bbb
<span class="token punctuation">[</span>root@MissHou ~<span class="token punctuation">]</span><span class="token comment">#</span>
<span class="token punctuation">[</span>root@MissHou ~<span class="token punctuation">]</span><span class="token comment"># cat file2</span>
aaa
hello
<span class="token number">111</span>
<span class="token number">222</span>
bbb
<span class="token number">333</span>
world
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>1）正常显示</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>diff目的：file1如何改变才能和file2匹配
<span class="token punctuation">[</span>root@MissHou ~<span class="token punctuation">]</span><span class="token comment"># diff file1 file2</span>
1c1,2					第一个文件的第1行需要改变<span class="token punctuation">(</span>c<span class="token operator">=</span>change<span class="token punctuation">)</span>才能和第二个文件的第1到2行匹配			
<span class="token operator">&lt;</span> aaaa				小于号<span class="token string">&quot;&lt;&quot;</span>表示左边文件<span class="token punctuation">(</span>file1<span class="token punctuation">)</span>文件内容
---					---表示分隔符
<span class="token operator">&gt;</span> aaa					大于号<span class="token string">&quot;&gt;&quot;</span>表示右边文件<span class="token punctuation">(</span>file2<span class="token punctuation">)</span>文件内容
<span class="token operator">&gt;</span> hello
3d3					第一个文件的第3行删除<span class="token punctuation">(</span>d<span class="token operator">=</span>delete<span class="token punctuation">)</span>后才能和第二个文件的第3行匹配
<span class="token operator">&lt;</span> hello world
5d4					第一个文件的第5行删除后才能和第二个文件的第4行匹配
<span class="token operator">&lt;</span> <span class="token number">333</span>
6a6,7					第一个文件的第6行增加<span class="token punctuation">(</span>a<span class="token operator">=</span>add<span class="token punctuation">)</span>内容后才能和第二个文件的第6到7行匹配
<span class="token operator">&gt;</span> <span class="token number">333</span>					需要增加的内容在第二个文件里是333和world
<span class="token operator">&gt;</span> world
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>2）上下文格式显示</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@MissHou ~<span class="token punctuation">]</span><span class="token comment"># diff -c file1 file2</span>
前两行主要列出需要比较的文件名和文件的时间戳；文件名前面的符号***表示file1，---表示file2
*** file1       <span class="token number">2019</span>-04-16 <span class="token number">16</span>:26:05.748650262 +0800
--- file2       <span class="token number">2019</span>-04-16 <span class="token number">16</span>:26:30.470646030 +0800
***************	我是分隔符
*** <span class="token number">1,6</span> ****		以***开头表示file1文件，1,6表示1到6行
<span class="token operator">!</span> aaaa				<span class="token operator">!</span>表示该行需要修改才与第二个文件匹配
  <span class="token number">111</span> 
- hello world		-表示需要删除该行才与第二个文件匹配
  <span class="token number">222</span>
- <span class="token number">333</span>					-表示需要删除该行才与第二个文件匹配
  bbb
--- <span class="token number">1,7</span> ----		以---开头表示file2文件，1,7表示1到7行
<span class="token operator">!</span> aaa					表示第一个文件需要修改才与第二个文件匹配
<span class="token operator">!</span> hello				表示第一个文件需要修改才与第二个文件匹配
  <span class="token number">111</span>
  <span class="token number">222</span>
  bbb
+ <span class="token number">333</span>					表示第一个文件需要加上该行才与第二个文件匹配
+ world				表示第一个文件需要加上该行才与第二个文件匹配
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>3）合并格式显示</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@MissHou ~<span class="token punctuation">]</span><span class="token comment"># diff -u file1 file2</span>
前两行主要列出需要比较的文件名和文件的时间戳；文件名前面的符号---表示file1，+++表示file2
--- file1       <span class="token number">2019</span>-04-16 <span class="token number">16</span>:26:05.748650262 +0800
+++ file2       <span class="token number">2019</span>-04-16 <span class="token number">16</span>:26:30.470646030 +0800
@@ -1,6 +1,7 @@
<span class="token parameter variable">-aaaa</span>
+aaa
+hello
 <span class="token number">111</span>
<span class="token parameter variable">-hello</span> world
 <span class="token number">222</span>
<span class="token parameter variable">-333</span>
 bbb
+333
+world
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>比较两个目录不同</li></ul><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>默认情况下也会比较两个目录里相同文件的内容
[root@MissHou  tmp]# diff dir1 dir2
diff dir1/file1 dir2/file1
0a1
&gt; hello
Only in dir1: file3
Only in dir2: test1
如果只需要比较两个目录里文件的不同，不需要进一步比较文件内容，需要加-q选项
[root@MissHou  tmp]# diff -q dir1 dir2
Files dir1/file1 and dir2/file1 differ
Only in dir1: file3
Only in dir2: test1
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>其他小技巧：</strong></p><p>有时候我们需要以一个文件为标准，去修改其他文件，并且修改的地方较多时，我们可以通过打补丁的方式完成。</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token number">1</span>）先找出文件不同，然后输出到一个文件
<span class="token punctuation">[</span>root@MissHou ~<span class="token punctuation">]</span><span class="token comment"># diff -uN file1 file2 &gt; file.patch</span>
-u:上下文模式
-N:将不存在的文件当作空文件
<span class="token number">2</span>）将不同内容打补丁到文件
<span class="token punctuation">[</span>root@MissHou ~<span class="token punctuation">]</span><span class="token comment"># patch file1 file.patch</span>
patching <span class="token function">file</span> file1
<span class="token number">3</span>）测试验证
<span class="token punctuation">[</span>root@MissHou ~<span class="token punctuation">]</span><span class="token comment"># diff file1 file2</span>
<span class="token punctuation">[</span>root@MissHou ~<span class="token punctuation">]</span><span class="token comment">#</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_7-paste工具" tabindex="-1"><a class="header-anchor" href="#_7-paste工具" aria-hidden="true">#</a> 7. paste工具</h2><blockquote><p>paste工具用于合并文件行</p></blockquote><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>常用选项：
-d：自定义间隔符，默认是tab
-s：串行处理，非并行
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_8-tr工具" tabindex="-1"><a class="header-anchor" href="#_8-tr工具" aria-hidden="true">#</a> 8. tr工具</h2><blockquote><p>tr用于字符转换，替换和删除；主要用于删除文件中控制字符或进行字符转换</p></blockquote><h3 id="语法和选项-4" tabindex="-1"><a class="header-anchor" href="#语法和选项-4" aria-hidden="true">#</a> 语法和选项</h3><p><strong>语法：</strong></p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>用法1：命令的执行结果交给tr处理，其中string1用于查询，string2用于转换处理

 commands|tr  &#39;string1&#39;  &#39;string2&#39;

用法2：tr处理的内容来自文件，记住要使用&quot;&lt;&quot;标准输入

 tr  &#39;string1&#39;  &#39;string2&#39; &lt; filename

用法3：匹配string1进行相应操作，如删除操作

 tr [options] &#39;string1&#39; &lt; filename
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>常用选项：</strong></p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>-d 删除字符串1中所有输入字符。
-s 删除所有重复出现字符序列，只保留第一个；即将重复出现字符串压缩为一个字符串
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>常匹配字符串：</strong></p><table><thead><tr><th>字符串</th><th>含义</th><th>备注</th></tr></thead><tbody><tr><td>a-z或[:lower:]</td><td>匹配所有小写字母</td><td>所有大小写和数字[a-zA-Z0-9]</td></tr><tr><td>A-Z或[:upper:]</td><td>匹配所有大写字母</td><td></td></tr><tr><td>0-9或[:digit:]</td><td>匹配所有数字</td><td></td></tr><tr><td>[:alnum:]</td><td>匹配所有字母和数字</td><td></td></tr><tr><td>[:alpha:]</td><td>匹配所有字母</td><td></td></tr><tr><td>[:blank:]</td><td>所有水平空白</td><td></td></tr><tr><td>[:punct:]</td><td>匹配所有标点符号</td><td></td></tr><tr><td>[:space:]</td><td>所有水平或垂直的空格</td><td></td></tr><tr><td>[:cntrl:]</td><td>所有控制字符</td><td>\f Ctrl-L 走行换页 \n Ctrl-J 换行</td></tr></tbody></table><p>\r Ctrl-M 回车 \t Ctrl-I tab键 |</p><p><strong>举例说明：</strong></p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>[root@MissHou  shell01]# cat 3.txt 	自己创建该文件用于测试
ROOT:x:0:0:root:/root:/bin/bash
bin:x:1:1:bin:/bin:/sbin/nologin
daemon:x:2:2:daemon:/sbin:/sbin/nologin
adm:x:3:4:adm:/var/adm:/sbin/nologin
lp:x:4:7:lp:/var/spool/lpd:/sbin/nologin
sync:x:5:0:sync:/sbin:/bin/sync
shutdown:x:6:0:shutdown:/sbin:/sbin/shutdown
halt:x:7:0:halt:/sbin:/sbin/halt
mail:x:8:12:mail:/var/spool/mail:/sbin/nologin
uucp:x:10:14:uucp:/var/spool/uucp:/sbin/nologin
boss02:x:516:511::/home/boss02:/bin/bash
vip:x:517:517::/home/vip:/bin/bash
stu1:x:518:518::/home/stu1:/bin/bash
mailnull:x:47:47::/var/spool/mqueue:/sbin/nologin
smmsp:x:51:51::/var/spool/mqueue:/sbin/nologin
aaaaaaaaaaaaaaaaaaaa
bbbbbb111111122222222222233333333cccccccc
hello world 888
666
777
999


# tr -d &#39;[:/]&#39; &lt; 3.txt 				删除文件中的:和/
# cat 3.txt |tr -d &#39;[:/]&#39;			删除文件中的:和/
# tr &#39;[0-9]&#39; &#39;@&#39; &lt; 3.txt 			将文件中的数字替换为@符号
# tr &#39;[a-z]&#39; &#39;[A-Z]&#39; &lt; 3.txt 		将文件中的小写字母替换成大写字母
# tr -s &#39;[a-z]&#39; &lt; 3.txt 			匹配小写字母并将重复的压缩为一个
# tr -s &#39;[a-z0-9]&#39; &lt; 3.txt 		匹配小写字母和数字并将重复的压缩为一个
# tr -d &#39;[:digit:]&#39; &lt; 3.txt 		删除文件中的数字
# tr -d &#39;[:blank:]&#39; &lt; 3.txt 		删除水平空白
# tr -d &#39;[:space:]&#39; &lt; 3.txt 		删除所有水平和垂直空白
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="小试牛刀" tabindex="-1"><a class="header-anchor" href="#小试牛刀" aria-hidden="true">#</a> 小试牛刀</h4><ol><li>使用小工具分别截取当前主机IP；截取NETMASK；截取广播地址；截取MAC地址</li></ol><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># ifconfig eth0|grep &#39;Bcast&#39;|tr -d &#39;[a-zA-Z ]&#39;|cut -d: -f2,3,4</span>
<span class="token number">10.1</span>.1.1:10.1.1.255:255.255.255.0
<span class="token comment"># ifconfig eth0|grep &#39;Bcast&#39;|tr -d &#39;[a-zA-Z ]&#39;|cut -d: -f2,3,4|tr &#39;:&#39; &#39;\n&#39;</span>
<span class="token number">10.1</span>.1.1
<span class="token number">10.1</span>.1.255
<span class="token number">255.255</span>.255.0
<span class="token comment"># ifconfig eth0|grep &#39;HWaddr&#39;|cut -d: -f2-|cut -d&#39; &#39; -f4</span>
00:0C:29:25:AE:54
<span class="token comment"># ifconfig eth0|grep &#39;HW&#39;|tr -s &#39; &#39;|cut -d&#39; &#39; -f5</span>
00:0C:29:B4:9E:4E

<span class="token comment"># ifconfig eth1|grep Bcast|cut -d: -f2|cut -d&#39; &#39; -f1</span>
<span class="token comment"># ifconfig eth1|grep Bcast|cut -d: -f2|tr -d &#39;[ a-zA-Z]&#39;</span>
<span class="token comment"># ifconfig eth1|grep Bcast|tr -d &#39;[:a-zA-Z]&#39;|tr &#39; &#39; &#39;@&#39;|tr -s &#39;@&#39;|tr &#39;@&#39; &#39;\n&#39;|grep -v ^$</span>
<span class="token comment"># ifconfig eth0|grep &#39;Bcast&#39;|tr -d [:alpha:]|tr &#39;[ :]&#39; &#39;\n&#39;|grep -v ^$</span>
<span class="token comment"># ifconfig eth1|grep HWaddr|cut -d &#39; &#39; -f11</span>
<span class="token comment"># ifconfig eth0|grep HWaddr|tr -s &#39; &#39;|cut -d&#39; &#39; -f5</span>
<span class="token comment"># ifconfig eth1|grep HWaddr|tr -s &#39; &#39;|cut -d&#39; &#39; -f5</span>
<span class="token comment"># ifconfig eth0|grep &#39;Bcast&#39;|tr -d &#39;a-zA-Z:&#39;|tr &#39; &#39; &#39;\n&#39;|grep -v &#39;^$&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol><li>将系统中所有普通用户的用户名、密码和默认shell保存到一个文件中，要求用户名密码和默认shell之间用tab键分割</li></ol><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># grep &#39;bash$&#39; passwd |grep -v &#39;root&#39;|cut -d: -f1,2,7|tr &#39;:&#39; &#39;\t&#39; |tee abc.txt</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h1 id="二、bash的特性" tabindex="-1"><a class="header-anchor" href="#二、bash的特性" aria-hidden="true">#</a> 二、bash的特性</h1><h2 id="_1、命令和文件自动补全" tabindex="-1"><a class="header-anchor" href="#_1、命令和文件自动补全" aria-hidden="true">#</a> 1、命令和文件自动补全</h2><p>Tab只能补全命令和文件 （RHEL6/Centos6）</p><h2 id="_2、常见的快捷键" tabindex="-1"><a class="header-anchor" href="#_2、常见的快捷键" aria-hidden="true">#</a> <strong>2、常见的快捷键</strong></h2><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>^c   			终止前台运行的程序
^z	  			将前台运行的程序挂起到后台<span class="token punctuation">(</span>暂停<span class="token punctuation">)</span>
^d   			退出 等价exit
^l   			清屏 
^a <span class="token operator">|</span>home  	光标移到命令行的最前端
^e <span class="token operator">|</span>end  	光标移到命令行的后端
^u   			删除光标前所有字符
^k   			删除光标后所有字符
^r	 			搜索历史命令
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>##3 、常用的通配符（重点）</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token number">1</span>. *:	匹配0或多个任意字符
<span class="token number">2</span>. ?:	匹配任意单个字符
<span class="token number">3</span>. <span class="token punctuation">[</span>list<span class="token punctuation">]</span>:	匹配<span class="token punctuation">[</span>list<span class="token punctuation">]</span>中的任意单个字符,或者一组单个字符   <span class="token punctuation">[</span>a-z<span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token number">0</span>-10,11<span class="token punctuation">]</span> -<span class="token operator">&gt;</span> <span class="token number">0</span>到10, 逗号, <span class="token number">1</span>, <span class="token number">1</span>
   <span class="token punctuation">[</span><span class="token operator">!</span>list<span class="token punctuation">]</span>: 匹配除list中的任意单个字符
<span class="token number">4</span>. <span class="token punctuation">{</span>string1,string2,<span class="token punctuation">..</span>.<span class="token punctuation">}</span>：匹配string1,string2或更多字符串
   <span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">..</span><span class="token number">100</span><span class="token punctuation">}</span>, 匹配1~100

<span class="token comment"># rm -f file*</span>
<span class="token comment"># cp *.conf  /dir1</span>
<span class="token comment"># touch file{1..5}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_4、bash中的引号-重点" tabindex="-1"><a class="header-anchor" href="#_4、bash中的引号-重点" aria-hidden="true">#</a> <strong>4、bash中的引号</strong>（重点）</h2><ul><li><em>双引号&quot;&quot;</em> :会把引号的内容当成整体来看待，<strong>允许通过$符号引用其他变量值(可以使用变量 echo &quot;$(hostname)&quot;)</strong></li><li><em>单引号&#39;&#39;</em> :会把引号的内容当成整体来看待，<strong>禁止引用其他变量值(不可以使用变量)</strong>，shell中特殊符号都被视为普通字符</li><li><em>反撇号``</em> :反撇号和$()一样，引号或括号里的命令会优先执行，如果存在嵌套，反撇号不能用</li></ul><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@MissHou  dir1<span class="token punctuation">]</span><span class="token comment"># echo &quot;$(hostname)&quot;		-&gt; localhost.localdomain</span>

<span class="token punctuation">[</span>root@MissHou  dir1<span class="token punctuation">]</span><span class="token comment"># echo &quot;`date +%F`&quot;			-&gt; 2020-12-08</span>

<span class="token punctuation">[</span>root@MissHou  dir1<span class="token punctuation">]</span><span class="token comment"># echo &#39;$(hostname)&#39;		-&gt; &#39;$(hostname)&#39;</span>
<span class="token punctuation">[</span>root@MissHou  dir1<span class="token punctuation">]</span><span class="token comment"># echo &quot;hello world&quot;</span>
hello world
<span class="token punctuation">[</span>root@MissHou  dir1<span class="token punctuation">]</span><span class="token comment"># echo &#39;hello world&#39;</span>
hello world

<span class="token punctuation">[</span>root@MissHou  dir1<span class="token punctuation">]</span><span class="token comment"># echo $(date +%F)</span>
<span class="token number">2018</span>-11-22
<span class="token punctuation">[</span>root@MissHou  dir1<span class="token punctuation">]</span><span class="token comment"># echo `echo $(date +%F)`</span>
<span class="token number">2018</span>-11-22
<span class="token punctuation">[</span>root@MissHou  dir1<span class="token punctuation">]</span><span class="token comment"># echo `date +%F`</span>
<span class="token number">2018</span>-11-22
<span class="token punctuation">[</span>root@MissHou  dir1<span class="token punctuation">]</span><span class="token comment"># echo `echo `date +%F``</span>
<span class="token function">date</span> +%F
<span class="token punctuation">[</span>root@MissHou  dir1<span class="token punctuation">]</span><span class="token comment"># echo $(echo `date +%F`)</span>
<span class="token number">2018</span>-11-22
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>一、SHELL介绍 <ul><li><ul><li><a href="https://note.youdao.com/md/preview.html?file=%2Fyws%2Fapi%2Fpersonal%2Ffile%2F8743C60B9CFA48FC8173CC49D03CADCA%3Fmethod%3Ddownload%26read%3Dtrue%26shareKey%3Db402ca42248d060e7bdd5ee145f47cc5#%E4%B8%80-%E4%BB%80%E4%B9%88%E6%98%AFshell%E8%84%9A%E6%9C%AC" target="_blank" rel="noopener noreferrer">㈠ 什么是shell脚本？<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li></ul></li><li><a href="https://note.youdao.com/md/preview.html?file=%2Fyws%2Fapi%2Fpersonal%2Ffile%2F8743C60B9CFA48FC8173CC49D03CADCA%3Fmethod%3Ddownload%26read%3Dtrue%26shareKey%3Db402ca42248d060e7bdd5ee145f47cc5#%E4%BA%8C-%E4%BB%80%E4%B9%88%E6%97%B6%E5%80%99%E7%94%A8%E5%88%B0%E8%84%9A%E6%9C%AC" target="_blank" rel="noopener noreferrer">㈡ 什么时候用到脚本?<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li><a href="https://note.youdao.com/md/preview.html?file=%2Fyws%2Fapi%2Fpersonal%2Ffile%2F8743C60B9CFA48FC8173CC49D03CADCA%3Fmethod%3Ddownload%26read%3Dtrue%26shareKey%3Db402ca42248d060e7bdd5ee145f47cc5#%E4%B8%89-shell%E8%84%9A%E6%9C%AC%E8%83%BD%E5%B9%B2%E5%95%A5" target="_blank" rel="noopener noreferrer">㈢ shell脚本能干啥?<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li><a href="https://note.youdao.com/md/preview.html?file=%2Fyws%2Fapi%2Fpersonal%2Ffile%2F8743C60B9CFA48FC8173CC49D03CADCA%3Fmethod%3Ddownload%26read%3Dtrue%26shareKey%3Db402ca42248d060e7bdd5ee145f47cc5#%E5%9B%9B-%E5%A6%82%E4%BD%95%E5%AD%A6%E4%B9%A0shell%E8%84%9A%E6%9C%AC" target="_blank" rel="noopener noreferrer">㈣ 如何学习shell脚本？<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li><a href="https://note.youdao.com/md/preview.html?file=%2Fyws%2Fapi%2Fpersonal%2Ffile%2F8743C60B9CFA48FC8173CC49D03CADCA%3Fmethod%3Ddownload%26read%3Dtrue%26shareKey%3Db402ca42248d060e7bdd5ee145f47cc5#%E4%BA%94-%E5%AD%A6%E4%B9%A0shell%E8%84%9A%E6%9C%AC%E7%9A%84%E7%A7%98%E8%AF%80" target="_blank" rel="noopener noreferrer">㈤ 学习shell脚本的秘诀<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li><a href="https://note.youdao.com/md/preview.html?file=%2Fyws%2Fapi%2Fpersonal%2Ffile%2F8743C60B9CFA48FC8173CC49D03CADCA%3Fmethod%3Ddownload%26read%3Dtrue%26shareKey%3Db402ca42248d060e7bdd5ee145f47cc5#%E5%85%AD-shell%E8%84%9A%E6%9C%AC%E7%9A%84%E5%9F%BA%E6%9C%AC%E5%86%99%E6%B3%95" target="_blank" rel="noopener noreferrer">㈥ shell脚本的基本写法<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li><a href="https://note.youdao.com/md/preview.html?file=%2Fyws%2Fapi%2Fpersonal%2Ffile%2F8743C60B9CFA48FC8173CC49D03CADCA%3Fmethod%3Ddownload%26read%3Dtrue%26shareKey%3Db402ca42248d060e7bdd5ee145f47cc5#%E4%B8%83-shell%E8%84%9A%E6%9C%AC%E7%9A%84%E6%89%A7%E8%A1%8C%E6%96%B9%E6%B3%95" target="_blank" rel="noopener noreferrer">㈦ shell脚本的执行方法<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li></ul></li><li>二、变量的定义 <ul><li><a href="https://note.youdao.com/md/preview.html?file=%2Fyws%2Fapi%2Fpersonal%2Ffile%2F8743C60B9CFA48FC8173CC49D03CADCA%3Fmethod%3Ddownload%26read%3Dtrue%26shareKey%3Db402ca42248d060e7bdd5ee145f47cc5#1-%E5%8F%98%E9%87%8F%E6%98%AF%E4%BB%80%E4%B9%88" target="_blank" rel="noopener noreferrer">1. 变量是什么？<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li><a href="https://note.youdao.com/md/preview.html?file=%2Fyws%2Fapi%2Fpersonal%2Ffile%2F8743C60B9CFA48FC8173CC49D03CADCA%3Fmethod%3Ddownload%26read%3Dtrue%26shareKey%3Db402ca42248d060e7bdd5ee145f47cc5#2-%E4%BB%80%E4%B9%88%E6%97%B6%E5%80%99%E9%9C%80%E8%A6%81%E5%AE%9A%E4%B9%89%E5%8F%98%E9%87%8F" target="_blank" rel="noopener noreferrer">2. 什么时候需要定义变量？<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li><a href="https://note.youdao.com/md/preview.html?file=%2Fyws%2Fapi%2Fpersonal%2Ffile%2F8743C60B9CFA48FC8173CC49D03CADCA%3Fmethod%3Ddownload%26read%3Dtrue%26shareKey%3Db402ca42248d060e7bdd5ee145f47cc5#3%E5%8F%98%E9%87%8F%E5%A6%82%E4%BD%95%E5%AE%9A%E4%B9%89" target="_blank" rel="noopener noreferrer">3.变量如何定义？<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li>\4. 变量的定义规则 <ul><li><a href="https://note.youdao.com/md/preview.html?file=%2Fyws%2Fapi%2Fpersonal%2Ffile%2F8743C60B9CFA48FC8173CC49D03CADCA%3Fmethod%3Ddownload%26read%3Dtrue%26shareKey%3Db402ca42248d060e7bdd5ee145f47cc5#%E4%B8%80-%E5%8F%98%E9%87%8F%E5%90%8D%E5%8C%BA%E5%88%86%E5%A4%A7%E5%B0%8F%E5%86%99" target="_blank" rel="noopener noreferrer">㈠ 变量名区分大小写<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li><a href="https://note.youdao.com/md/preview.html?file=%2Fyws%2Fapi%2Fpersonal%2Ffile%2F8743C60B9CFA48FC8173CC49D03CADCA%3Fmethod%3Ddownload%26read%3Dtrue%26shareKey%3Db402ca42248d060e7bdd5ee145f47cc5#%E4%BA%8C-%E5%8F%98%E9%87%8F%E5%90%8D%E4%B8%8D%E8%83%BD%E6%9C%89%E7%89%B9%E6%AE%8A%E7%AC%A6%E5%8F%B7" target="_blank" rel="noopener noreferrer">㈡ 变量名不能有特殊符号<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li><a href="https://note.youdao.com/md/preview.html?file=%2Fyws%2Fapi%2Fpersonal%2Ffile%2F8743C60B9CFA48FC8173CC49D03CADCA%3Fmethod%3Ddownload%26read%3Dtrue%26shareKey%3Db402ca42248d060e7bdd5ee145f47cc5#%E4%B8%89-%E5%8F%98%E9%87%8F%E5%90%8D%E4%B8%8D%E8%83%BD%E4%BB%A5%E6%95%B0%E5%AD%97%E5%BC%80%E5%A4%B4" target="_blank" rel="noopener noreferrer">㈢ 变量名不能以数字开头<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li><a href="https://note.youdao.com/md/preview.html?file=%2Fyws%2Fapi%2Fpersonal%2Ffile%2F8743C60B9CFA48FC8173CC49D03CADCA%3Fmethod%3Ddownload%26read%3Dtrue%26shareKey%3Db402ca42248d060e7bdd5ee145f47cc5#%E5%9B%9B-%E7%AD%89%E5%8F%B7%E4%B8%A4%E8%BE%B9%E4%B8%8D%E8%83%BD%E6%9C%89%E4%BB%BB%E4%BD%95%E7%A9%BA%E6%A0%BC" target="_blank" rel="noopener noreferrer">㈣ 等号两边不能有任何空格<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li><a href="https://note.youdao.com/md/preview.html?file=%2Fyws%2Fapi%2Fpersonal%2Ffile%2F8743C60B9CFA48FC8173CC49D03CADCA%3Fmethod%3Ddownload%26read%3Dtrue%26shareKey%3Db402ca42248d060e7bdd5ee145f47cc5#%E4%BA%94-%E5%8F%98%E9%87%8F%E5%90%8D%E5%B0%BD%E9%87%8F%E5%81%9A%E5%88%B0%E8%A7%81%E5%90%8D%E7%9F%A5%E6%84%8F" target="_blank" rel="noopener noreferrer">㈤ 变量名尽量做到见名知意<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li></ul></li><li>\5. 变量的定义方式有哪些？ <ul><li><a href="https://note.youdao.com/md/preview.html?file=%2Fyws%2Fapi%2Fpersonal%2Ffile%2F8743C60B9CFA48FC8173CC49D03CADCA%3Fmethod%3Ddownload%26read%3Dtrue%26shareKey%3Db402ca42248d060e7bdd5ee145f47cc5#%E4%B8%80-%E5%9F%BA%E6%9C%AC%E6%96%B9%E5%BC%8F" target="_blank" rel="noopener noreferrer">㈠ 基本方式<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li><a href="https://note.youdao.com/md/preview.html?file=%2Fyws%2Fapi%2Fpersonal%2Ffile%2F8743C60B9CFA48FC8173CC49D03CADCA%3Fmethod%3Ddownload%26read%3Dtrue%26shareKey%3Db402ca42248d060e7bdd5ee145f47cc5#%E4%BA%8C-%E5%91%BD%E4%BB%A4%E6%89%A7%E8%A1%8C%E7%BB%93%E6%9E%9C%E8%B5%8B%E5%80%BC%E7%BB%99%E5%8F%98%E9%87%8F" target="_blank" rel="noopener noreferrer">㈡ 命令执行结果赋值给变量<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li><a href="https://note.youdao.com/md/preview.html?file=%2Fyws%2Fapi%2Fpersonal%2Ffile%2F8743C60B9CFA48FC8173CC49D03CADCA%3Fmethod%3Ddownload%26read%3Dtrue%26shareKey%3Db402ca42248d060e7bdd5ee145f47cc5#%E4%B8%89-%E4%BA%A4%E4%BA%92%E5%BC%8F%E5%AE%9A%E4%B9%89%E5%8F%98%E9%87%8Fread" target="_blank" rel="noopener noreferrer">㈢ 交互式定义变量(read)<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li><a href="https://note.youdao.com/md/preview.html?file=%2Fyws%2Fapi%2Fpersonal%2Ffile%2F8743C60B9CFA48FC8173CC49D03CADCA%3Fmethod%3Ddownload%26read%3Dtrue%26shareKey%3Db402ca42248d060e7bdd5ee145f47cc5#%E5%9B%9B-%E5%AE%9A%E4%B9%89%E6%9C%89%E7%B1%BB%E5%9E%8B%E7%9A%84%E5%8F%98%E9%87%8Fdeclare" target="_blank" rel="noopener noreferrer">㈣ 定义有类型的变量(declare)<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li></ul></li><li>\6. 变量的分类 <ul><li><a href="https://note.youdao.com/md/preview.html?file=%2Fyws%2Fapi%2Fpersonal%2Ffile%2F8743C60B9CFA48FC8173CC49D03CADCA%3Fmethod%3Ddownload%26read%3Dtrue%26shareKey%3Db402ca42248d060e7bdd5ee145f47cc5#%E4%B8%80-%E6%9C%AC%E5%9C%B0%E5%8F%98%E9%87%8F" target="_blank" rel="noopener noreferrer">㈠ 本地变量<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li><a href="https://note.youdao.com/md/preview.html?file=%2Fyws%2Fapi%2Fpersonal%2Ffile%2F8743C60B9CFA48FC8173CC49D03CADCA%3Fmethod%3Ddownload%26read%3Dtrue%26shareKey%3Db402ca42248d060e7bdd5ee145f47cc5#%E4%BA%8C-%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F" target="_blank" rel="noopener noreferrer">㈡ 环境变量<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li><a href="https://note.youdao.com/md/preview.html?file=%2Fyws%2Fapi%2Fpersonal%2Ffile%2F8743C60B9CFA48FC8173CC49D03CADCA%3Fmethod%3Ddownload%26read%3Dtrue%26shareKey%3Db402ca42248d060e7bdd5ee145f47cc5#%E4%B8%89-%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8F" target="_blank" rel="noopener noreferrer">㈢ 全局变量<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li><a href="https://note.youdao.com/md/preview.html?file=%2Fyws%2Fapi%2Fpersonal%2Ffile%2F8743C60B9CFA48FC8173CC49D03CADCA%3Fmethod%3Ddownload%26read%3Dtrue%26shareKey%3Db402ca42248d060e7bdd5ee145f47cc5#%E5%9B%9B-%E7%B3%BB%E7%BB%9F%E5%8F%98%E9%87%8F" target="_blank" rel="noopener noreferrer">㈣ 系统变量<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li></ul></li></ul></li><li>三、简单四则运算 <ul><li><a href="https://note.youdao.com/md/preview.html?file=%2Fyws%2Fapi%2Fpersonal%2Ffile%2F8743C60B9CFA48FC8173CC49D03CADCA%3Fmethod%3Ddownload%26read%3Dtrue%26shareKey%3Db402ca42248d060e7bdd5ee145f47cc5#1-%E5%9B%9B%E5%88%99%E8%BF%90%E7%AE%97%E7%AC%A6%E5%8F%B7" target="_blank" rel="noopener noreferrer">1. 四则运算符号<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li><a href="https://note.youdao.com/md/preview.html?file=%2Fyws%2Fapi%2Fpersonal%2Ffile%2F8743C60B9CFA48FC8173CC49D03CADCA%3Fmethod%3Ddownload%26read%3Dtrue%26shareKey%3Db402ca42248d060e7bdd5ee145f47cc5#2%E4%BA%86%E8%A7%A3i%E5%92%8Ci" target="_blank" rel="noopener noreferrer">2.了解i和i<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li></ul></li><li>四、扩展补充 <ul><li>\1. 数组定义 <ul><li><a href="https://note.youdao.com/md/preview.html?file=%2Fyws%2Fapi%2Fpersonal%2Ffile%2F8743C60B9CFA48FC8173CC49D03CADCA%3Fmethod%3Ddownload%26read%3Dtrue%26shareKey%3Db402ca42248d060e7bdd5ee145f47cc5#%E4%B8%80-%E6%95%B0%E7%BB%84%E5%88%86%E7%B1%BB" target="_blank" rel="noopener noreferrer">㈠ 数组分类<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li><a href="https://note.youdao.com/md/preview.html?file=%2Fyws%2Fapi%2Fpersonal%2Ffile%2F8743C60B9CFA48FC8173CC49D03CADCA%3Fmethod%3Ddownload%26read%3Dtrue%26shareKey%3Db402ca42248d060e7bdd5ee145f47cc5#%E4%BA%8C-%E6%99%AE%E9%80%9A%E6%95%B0%E7%BB%84%E5%AE%9A%E4%B9%89" target="_blank" rel="noopener noreferrer">㈡ 普通数组定义<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li><a href="https://note.youdao.com/md/preview.html?file=%2Fyws%2Fapi%2Fpersonal%2Ffile%2F8743C60B9CFA48FC8173CC49D03CADCA%3Fmethod%3Ddownload%26read%3Dtrue%26shareKey%3Db402ca42248d060e7bdd5ee145f47cc5#%E4%B8%89-%E6%95%B0%E7%BB%84%E7%9A%84%E8%AF%BB%E5%8F%96" target="_blank" rel="noopener noreferrer">㈢ 数组的读取<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li>㈣ 关联数组定义 <ul><li><a href="https://note.youdao.com/md/preview.html?file=%2Fyws%2Fapi%2Fpersonal%2Ffile%2F8743C60B9CFA48FC8173CC49D03CADCA%3Fmethod%3Ddownload%26read%3Dtrue%26shareKey%3Db402ca42248d060e7bdd5ee145f47cc5#1%E9%A6%96%E5%85%88%E5%A3%B0%E6%98%8E%E5%85%B3%E8%81%94%E6%95%B0%E7%BB%84" target="_blank" rel="noopener noreferrer">①首先声明关联数组<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li><a href="https://note.youdao.com/md/preview.html?file=%2Fyws%2Fapi%2Fpersonal%2Ffile%2F8743C60B9CFA48FC8173CC49D03CADCA%3Fmethod%3Ddownload%26read%3Dtrue%26shareKey%3Db402ca42248d060e7bdd5ee145f47cc5#2-%E6%95%B0%E7%BB%84%E8%B5%8B%E5%80%BC" target="_blank" rel="noopener noreferrer">② 数组赋值<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li></ul></li></ul></li><li><a href="https://note.youdao.com/md/preview.html?file=%2Fyws%2Fapi%2Fpersonal%2Ffile%2F8743C60B9CFA48FC8173CC49D03CADCA%3Fmethod%3Ddownload%26read%3Dtrue%26shareKey%3Db402ca42248d060e7bdd5ee145f47cc5#2-%E5%85%B6%E4%BB%96%E5%8F%98%E9%87%8F%E5%AE%9A%E4%B9%89" target="_blank" rel="noopener noreferrer">2. 其他变量定义<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li></ul></li></ul><p>#SHELL编程模块课程目标</p><ul><li><p>① Shell的基本语法结构</p><p>如：变量定义、条件判断、循环语句(for、until、while)、分支语句、函数和数组等；</p><p>② 基本正则表达式的运用;</p><p>③ 文件处理三剑客：grep、sed、awk工具的使用；</p><p>④ 使用shell脚本完成一些较复杂的任务，如：服务搭建、批量处理等。</p><p>*<strong>说明：以上内容仅仅是基本要求，还有很多更深更难的语法需要扩充学习。*</strong></p></li><li><p><strong>本节目标</strong></p><ul><li>熟练掌握shell变量的定义和获取（重点）</li><li>能够进行shell简单的四则运算</li></ul></li></ul><h1 id="一、shell介绍" tabindex="-1"><a class="header-anchor" href="#一、shell介绍" aria-hidden="true">#</a> 一、SHELL介绍</h1><p><strong>前言：</strong></p><p>计算机只能认识（识别）机器语言(0和1)，如（11000000 这种）。但是，我们的程序猿们不能直接去写01这样的代码，所以，要想将程序猿所开发的代码在计算机上运行，就必须找&quot;人&quot;（工具）来翻译成机器语言，这个&quot;人&quot;(工具)就是我们常常所说的<strong>编译器</strong>或者<strong>解释器</strong>。</p><p>##1. 编程语言分类</p><ul><li><strong>编译型语言：</strong></li></ul><p>程序在执行之前需要一个专门的编译过程，把程序编译成为机器语言文件，运行时不需要重新翻译，直接使用编译的结果就行了。程序执行效率高，依赖编译器，跨平台性差些。如C、C++</p><ul><li><strong>解释型语言：</strong></li></ul><p>程序不需要编译，程序在运行时由<strong>解释器</strong>翻译成机器语言，每执行一次都要翻译一次。因此效率比较低。比如Python/JavaScript/ Perl /ruby/Shell等都是解释型语言。</p><p><img src="http://xn--kbry84hvqil0b.png/?ynotemdtimestamp=1607388071614" alt="./语言分类"></p><ul><li><strong>总结</strong></li></ul><p>编译型语言比解释型语言速度较快，但是不如解释型语言跨平台性好。如果做底层开发或者大型应用程序或者操作系开发一般都用编译型语言；如果是一些服务器脚本及一些辅助的接口，对速度要求不高、对各个平台的兼容性有要求的话则一般都用解释型语言。</p><p>##2. shell简介</p><p><strong>总结：</strong></p><ul><li>shell就是人机交互的一个桥梁</li><li>shell的种类</li></ul><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@MissHou ~<span class="token punctuation">]</span><span class="token comment"># cat /etc/shells </span>
/bin/sh				<span class="token comment">#是bash的一个快捷方式</span>
/bin/bash			<span class="token comment">#bash是大多数Linux默认的shell，包含的功能几乎可以涵盖shell所有的功能</span>

/sbin/nologin		<span class="token comment">#表示非交互，不能登录操作系统</span>
/bin/dash			<span class="token comment">#小巧，高效，功能相比少一些</span>

/bin/csh			<span class="token comment">#具有C语言风格的一种shell，具有许多特性，但也有一些缺陷</span>
/bin/tcsh			<span class="token comment">#是csh的增强版，完全兼容csh</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>思考：终端和shell有什么关系？</strong></p><ol><li>终端连接 另一台电脑的shell</li><li>shell程序接收到命令, 默认shell程序,</li><li>shell解释命令后, 执行命令, 操作shell所在主机</li></ol><h2 id="_3-shell脚本" tabindex="-1"><a class="header-anchor" href="#_3-shell脚本" aria-hidden="true">#</a> 3. shell脚本</h2><h3 id="一-什么是shell脚本" tabindex="-1"><a class="header-anchor" href="#一-什么是shell脚本" aria-hidden="true">#</a> ㈠ 什么是shell脚本？</h3><ul><li>一句话概括</li></ul><p>简单来说就是将需要执行的命令保存到文本中，按照顺序执行。它是解释型的，意味着不需要编译。</p><ul><li>准确叙述</li></ul><p><strong>若干命令 + 脚本的基本格式 + 脚本特定语法 + 思想= shell脚本</strong></p><h3 id="二-什么时候用到脚本" tabindex="-1"><a class="header-anchor" href="#二-什么时候用到脚本" aria-hidden="true">#</a> ㈡ 什么时候用到脚本?</h3><p><strong>重复化</strong>、复杂化的工作，通过把工作的命令写成脚本，以后仅仅需要执行脚本就能完成这些工作。</p><h3 id="三-shell脚本能干啥" tabindex="-1"><a class="header-anchor" href="#三-shell脚本能干啥" aria-hidden="true">#</a> ㈢ shell脚本能干啥?</h3><p>①自动化软件部署 LAMP/LNMP/Tomcat...</p><p>②自动化管理 系统初始化脚本、批量更改主机密码、推送公钥...</p><p>③自动化分析处理 统计网站访问量</p><p>④自动化备份 数据库备份、日志转储...</p><p>⑤自动化监控脚本</p><h3 id="四-如何学习shell脚本" tabindex="-1"><a class="header-anchor" href="#四-如何学习shell脚本" aria-hidden="true">#</a> ㈣ 如何学习shell脚本？</h3><ol><li>尽可能记忆更多的命令(记忆命令使用功能和场景)</li><li>掌握脚本的标准的格式（指定魔法字节、使用标准的执行方式运行脚本）</li><li>必须==<strong>熟悉掌握</strong>==脚本的基本语法（重点)</li></ol><h3 id="五-学习shell脚本的秘诀" tabindex="-1"><a class="header-anchor" href="#五-学习shell脚本的秘诀" aria-hidden="true">#</a> ㈤ 学习shell脚本的秘诀</h3><p>多看（看懂）——&gt;模仿（多练）——&gt;多思考（多写）</p><h3 id="六-shell脚本的基本写法" tabindex="-1"><a class="header-anchor" href="#六-shell脚本的基本写法" aria-hidden="true">#</a> ㈥ shell脚本的基本写法</h3><p>1）<strong>脚本第一行</strong>，魔法字符==<strong>#!</strong>==指定解释器【必写】</p><p><code>#!/bin/bash</code> 表示以下内容使用bash解释器解析</p><p><strong>注意：</strong> 如果直接将解释器路径写死在脚本里，可能在某些系统就会存在找不到解释器的兼容性问题，所以可以使用:<strong><code>#!/bin/env 解释器</code></strong> <strong><code>#!/bin/env bash</code></strong></p><p>2）<strong>脚本第二部分</strong>，注释(#号)说明，对脚本的基本信息进行描述【可选】</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>#!/bin/env bash

# 以下内容是对脚本的基本信息的描述
# Name: 名字
# Desc:描述describe
# Path:存放路径
# Usage:用法
# Update:更新时间

#下面就是脚本的具体内容
commands
...
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>3）<strong>脚本第三部分</strong>，脚本要实现的具体代码内容</p><h3 id="七-shell脚本的执行方法" tabindex="-1"><a class="header-anchor" href="#七-shell脚本的执行方法" aria-hidden="true">#</a> ㈦ shell脚本的执行方法</h3><ul><li>标准脚本执行方法（建议）</li></ul><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token number">1</span><span class="token punctuation">)</span> 编写人生第一个shell脚本
<span class="token punctuation">[</span>root@MissHou shell01<span class="token punctuation">]</span><span class="token comment"># cat first_shell.sh</span>
<span class="token comment">#!/bin/env bash</span>

<span class="token comment"># 以下内容是对脚本的基本信息的描述</span>
<span class="token comment"># Name: first_shell.sh</span>
<span class="token comment"># Desc: num1</span>
<span class="token comment"># Path: /shell01/first_shell.sh</span>
<span class="token comment"># Usage:/shell01/first_shell.sh</span>
<span class="token comment"># Update:2019-05-05</span>

<span class="token builtin class-name">echo</span> <span class="token string">&quot;hello world&quot;</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;hello world&quot;</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;hello world&quot;</span>

<span class="token number">2</span><span class="token punctuation">)</span> 脚本增加可执行权限
<span class="token punctuation">[</span>root@MissHou shell01<span class="token punctuation">]</span><span class="token comment"># chmod +x first_shell.sh</span>

<span class="token number">3</span><span class="token punctuation">)</span> 标准方式执行脚本
<span class="token punctuation">[</span>root@MissHou shell01<span class="token punctuation">]</span><span class="token comment"># pwd</span>
/shell01
<span class="token punctuation">[</span>root@MissHou shell01<span class="token punctuation">]</span><span class="token comment"># /shell01/first_shell.sh</span>
或者
<span class="token punctuation">[</span>root@MissHou shell01<span class="token punctuation">]</span><span class="token comment"># ./first_shell.sh</span>

注意：标准执行方式脚本必须要有可执行权限。
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>非标准的执行方法（不建议）</li></ul><ol><li>直接在命令行指定解释器执行</li></ol><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@MissHou shell01<span class="token punctuation">]</span><span class="token comment"># bash first_shell.sh</span>
<span class="token punctuation">[</span>root@MissHou shell01<span class="token punctuation">]</span><span class="token comment"># sh first_shell.sh</span>
<span class="token punctuation">[</span>root@MissHou shell01<span class="token punctuation">]</span><span class="token comment"># bash -x first_shell.sh</span>
+ <span class="token builtin class-name">echo</span> <span class="token string">&#39;hello world&#39;</span>
hello world
+ <span class="token builtin class-name">echo</span> <span class="token string">&#39;hello world&#39;</span>
hello world
+ <span class="token builtin class-name">echo</span> <span class="token string">&#39;hello world&#39;</span>
hello world
----------------
-x:一般用于排错，查看脚本的执行过程
-n:用来查看脚本的语法是否有问题
------------
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="2"><li>使用<code>source</code>命令读取脚本文件,执行文件里的代码</li></ol><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@MissHou shell01<span class="token punctuation">]</span><span class="token comment"># source first_shell.sh</span>
hello world
hello world
hello world
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>**小试牛刀：**写一个木有灵魂的脚本，要求如下：</p><ol><li><p>删除/tmp/目录下的所有文件</p></li><li><p>然后在/tmp目录里创建3个目录，分别是dir1~dir3</p></li><li><p>拷贝/etc/hosts文件到刚创建的dir1目录里</p></li><li><p>最后打印&quot;报告首长，任务已于2019-05-05 10:10:10时间完成&quot;内容</p><p><code>echo &quot;报告首长，任务已于$(date +&#39;%F %T&#39;)&quot;</code></p></li></ol><h1 id="二、变量的定义" tabindex="-1"><a class="header-anchor" href="#二、变量的定义" aria-hidden="true">#</a> 二、变量的定义</h1><h2 id="_1-变量是什么" tabindex="-1"><a class="header-anchor" href="#_1-变量是什么" aria-hidden="true">#</a> 1. 变量是什么？</h2><p>一句话概括：变量是用来临时保存数据的，该数据是可以变化的数据。</p><h2 id="_2-什么时候需要定义变量" tabindex="-1"><a class="header-anchor" href="#_2-什么时候需要定义变量" aria-hidden="true">#</a> 2. 什么时候需要定义变量？</h2><ul><li>如果某个内容需要多次使用，并且在代码中<strong>重复出现</strong>，那么可以用变量代表该内容。这样在修改内容的时候，仅仅需要修改变量的值。</li><li>在代码运作的过程中，可能会把某些命令的执行结果保存起来，后续代码需要使用这些结果，就可以直接使用这个变量。</li></ul><h2 id="_3-变量如何定义" tabindex="-1"><a class="header-anchor" href="#_3-变量如何定义" aria-hidden="true">#</a> 3.变量如何定义？</h2><p><strong>变量名=====变量值</strong></p><p>变量名：用来临时保存数据的</p><p>变量值：就是临时的可变化的数据</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>[root@MissHou ~]# A=hello			定义变量A
[root@MissHou ~]# echo $A			调用变量A，要给钱的，不是人民币是美元&quot;$&quot;
hello
[root@MissHou ~]# echo ${A}		还可以这样调用，不管你的姿势多优雅，总之要给钱
hello
[root@MissHou ~]# A=world			因为是变量所以可以变，移情别恋是常事
[root@MissHou ~]# echo $A			不管你是谁，只要调用就要给钱
world
[root@MissHou ~]# unset A			不跟你玩了，取消变量
[root@MissHou ~]# echo $A			从此，我单身了，你可以给我介绍任何人
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_4-变量的定义规则" tabindex="-1"><a class="header-anchor" href="#_4-变量的定义规则" aria-hidden="true">#</a> 4. 变量的定义规则</h2><p>虽然可以给变量（变量名）赋予任何值；但是，对于变量名也是要求的！😒</p><h3 id="一-变量名区分大小写" tabindex="-1"><a class="header-anchor" href="#一-变量名区分大小写" aria-hidden="true">#</a> ㈠ 变量名区分大小写</h3><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>[root@MissHou ~]# A=hello
[root@MissHou ~]# a=world
[root@MissHou ~]# echo $A
hello
[root@MissHou ~]# echo $a
world
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="二-变量名不能有特殊符号" tabindex="-1"><a class="header-anchor" href="#二-变量名不能有特殊符号" aria-hidden="true">#</a> ㈡ 变量名不能有特殊符号</h3><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>[root@MissHou ~]# *A=hello
-bash: *A=hello: command not found
[root@MissHou ~]# ?A=hello
-bash: ?A=hello: command not found
[root@MissHou ~]# @A=hello
-bash: @A=hello: command not found

特别说明：对于有空格的字符串给变量赋值时，要用引号引起来
[root@MissHou ~]# A=hello world
-bash: world: command not found
[root@MissHou ~]# A=&quot;hello world&quot;
[root@MissHou ~]# A=&#39;hello world&#39;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="三-变量名不能以数字开头" tabindex="-1"><a class="header-anchor" href="#三-变量名不能以数字开头" aria-hidden="true">#</a> ㈢ 变量名不能以数字开头</h3><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>[root@MissHou ~]# 1A=hello
-bash: 1A=hello: command not found
[root@MissHou ~]# A1=hello
注意：不能以数字开头并不代表变量名中不能包含数字呦。
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="四-等号两边不能有任何空格" tabindex="-1"><a class="header-anchor" href="#四-等号两边不能有任何空格" aria-hidden="true">#</a> ㈣ 等号两边不能有任何空格</h3><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>[root@MissHou ~]# A =123
-bash: A: command not found
[root@MissHou ~]# A= 123
-bash: 123: command not found
[root@MissHou ~]# A = 123
-bash: A: command not found
[root@MissHou ~]# A=123
[root@MissHou ~]# echo $A
123
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="五-变量名尽量做到见名知意" tabindex="-1"><a class="header-anchor" href="#五-变量名尽量做到见名知意" aria-hidden="true">#</a> ㈤ 变量名尽量做到见名知意</h3><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>NTP_IP=10.1.1.1
DIR=/u01/app1
TMP_FILE=/var/log/1.log
...

说明：一般变量名使用大写（小写也可以），不要同一个脚本中变量全是a,b,c等不容易阅读
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_5-变量的定义方式有哪些" tabindex="-1"><a class="header-anchor" href="#_5-变量的定义方式有哪些" aria-hidden="true">#</a> 5. 变量的定义方式有哪些？</h2><h3 id="一-基本方式" tabindex="-1"><a class="header-anchor" href="#一-基本方式" aria-hidden="true">#</a> ㈠ 基本方式</h3><blockquote><p>直接赋值给一个变量</p></blockquote><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@MissHou ~<span class="token punctuation">]</span><span class="token comment"># A=1234567</span>
<span class="token punctuation">[</span>root@MissHou ~<span class="token punctuation">]</span><span class="token comment"># echo $A</span>
<span class="token number">1234567</span>
<span class="token punctuation">[</span>root@MissHou ~<span class="token punctuation">]</span><span class="token comment"># echo ${A:2:4}		表示从A变量中第3个字符开始截取，截取4个字符</span>
<span class="token number">3456</span>

说明：
$变量名 和 <span class="token variable">${变量名}</span>的异同
相同点：都可以调用变量
不同点：<span class="token variable">${变量名}</span>可以只截取变量的一部分，而$变量名不可以
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="二-命令执行结果赋值给变量" tabindex="-1"><a class="header-anchor" href="#二-命令执行结果赋值给变量" aria-hidden="true">#</a> ㈡ 命令执行结果赋值给变量</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@MissHou ~<span class="token punctuation">]</span><span class="token comment"># B=`date +%F`</span>
<span class="token punctuation">[</span>root@MissHou ~<span class="token punctuation">]</span><span class="token comment"># echo $B</span>
<span class="token number">2019</span>-04-16
<span class="token punctuation">[</span>root@MissHou ~<span class="token punctuation">]</span><span class="token comment"># C=$(uname -r)</span>
<span class="token punctuation">[</span>root@MissHou ~<span class="token punctuation">]</span><span class="token comment"># echo $C</span>
<span class="token number">2.6</span>.32-696.el6.x86_64
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="三-交互式定义变量-read" tabindex="-1"><a class="header-anchor" href="#三-交互式定义变量-read" aria-hidden="true">#</a> ㈢ 交互式定义变量(read)</h3><p>**目的：**让用户自己给变量赋值，比较灵活。</p><p><strong>语法：</strong><code>read [选项] 变量名</code></p><p><strong>常见选项：</strong></p><table><thead><tr><th>选项</th><th>释义</th></tr></thead><tbody><tr><td>-p</td><td>定义提示用户的信息</td></tr><tr><td>-n</td><td>定义字符数（限制变量值的长度）</td></tr><tr><td>-s</td><td>不显示（不显示用户输入的内容）</td></tr><tr><td>-t</td><td>定义超时时间，默认单位为秒（限制用户输入变量值的超时时间）</td></tr></tbody></table><p><strong>举例说明：</strong></p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>用法1：用户自己定义变量值
<span class="token punctuation">[</span>root@MissHou ~<span class="token punctuation">]</span><span class="token comment"># read name</span>
harry
<span class="token punctuation">[</span>root@MissHou ~<span class="token punctuation">]</span><span class="token comment"># echo $name</span>
harry
<span class="token punctuation">[</span>root@MissHou ~<span class="token punctuation">]</span><span class="token comment"># read -p &quot;Input your name:&quot; name</span>
Input your name:tom
<span class="token punctuation">[</span>root@MissHou ~<span class="token punctuation">]</span><span class="token comment"># echo $name</span>
tom
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>用法2：变量值来自文件</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@MissHou ~<span class="token punctuation">]</span><span class="token comment"># cat 1.txt </span>
<span class="token number">10.1</span>.1.1 <span class="token number">255.255</span>.255.0

<span class="token punctuation">[</span>root@MissHou ~<span class="token punctuation">]</span><span class="token comment"># read ip mask &lt; 1.txt </span>
<span class="token punctuation">[</span>root@MissHou ~<span class="token punctuation">]</span><span class="token comment"># echo $ip</span>
<span class="token number">10.1</span>.1.1
<span class="token punctuation">[</span>root@MissHou ~<span class="token punctuation">]</span><span class="token comment"># echo $mask</span>
<span class="token number">255.255</span>.255.0
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="四-定义有类型的变量-declare" tabindex="-1"><a class="header-anchor" href="#四-定义有类型的变量-declare" aria-hidden="true">#</a> ㈣ 定义有类型的变量(declare)</h3><p><strong>目的：</strong> 给变量做一些限制，固定变量的类型，比如：整型、只读</p><p><strong>用法：</strong><code>declare 选项 变量名=变量值</code></p><p><strong>常用选项：</strong></p><table><thead><tr><th>选项</th><th>释义</th><th>举例</th></tr></thead><tbody><tr><td>-i</td><td>将变量看成整数</td><td>declare -i A=123</td></tr><tr><td>-r</td><td>定义只读变量</td><td>declare -r B=hello</td></tr><tr><td>-a</td><td>定义普通数组；查看普通数组</td><td></td></tr><tr><td>-A</td><td>定义关联数组；查看关联数组</td><td></td></tr><tr><td>-x</td><td>将变量通过环境导出</td><td>declare -x AAA=123456 等于 export AAA=123456</td></tr></tbody></table><p><strong>举例说明：</strong></p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>[root@MissHou ~]# declare -i A=123
[root@MissHou ~]# echo $A
123
[root@MissHou ~]# A=hello
[root@MissHou ~]# echo $A
0

[root@MissHou ~]# declare -r B=hello
[root@MissHou ~]# echo $B
hello
[root@MissHou ~]# B=world
-bash: B: readonly variable
[root@MissHou ~]# unset B
-bash: unset: B: cannot unset: readonly variable
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_6-变量的分类" tabindex="-1"><a class="header-anchor" href="#_6-变量的分类" aria-hidden="true">#</a> <strong>6. 变量的分类</strong></h2><h3 id="一-本地变量" tabindex="-1"><a class="header-anchor" href="#一-本地变量" aria-hidden="true">#</a> ㈠ 本地变量</h3><ul><li><strong>本地变量</strong>：当前用户自定义的变量。当前进程中有效，其他进程及当前进程的子进程无效。</li></ul><h3 id="二-环境变量" tabindex="-1"><a class="header-anchor" href="#二-环境变量" aria-hidden="true">#</a> ㈡ 环境变量</h3><h4 id="_2、环境变量的分类" tabindex="-1"><a class="header-anchor" href="#_2、环境变量的分类" aria-hidden="true">#</a> 2、环境变量的分类</h4><p>1）按生效的范围分类。</p><p><strong>系统环境变量</strong>：公共的，对全部的用户都生效。</p><p><strong>用户环境变量</strong>：用户私有的、自定义的个性化设置，只对该用户生效。</p><p>2）按生存周期分类。</p><p><strong>永久环境变量</strong>：在环境变量脚本文件中配置，用户每次登录时会自动执行这些脚本，相当于永久生效。</p><p><strong>临时环境变量</strong>：使用时在Shell中临时定义，退出Shell后失效。</p><ul><li><p>环境变量 (也是和程序绑定的, 程序结束时, 动态设置的环境变量也就结束)</p><p>：当前进程有效，并且能够被子进程调用, 反之不行(子进程环境变量的设置对父进程无效)。</p><p>​ <em>1. 环境变量的值由用户决定, 和Windows的用户环境变量一样. 即使用户qpyue 使用su 切换root用户,echo $USER依旧是以前的用户名称(qpyue), 环境变量的值依旧不变.(除了$HOME)</em></p><p>​ <em>2. 即使两个qpyue用户同时登录, 他们的环境变量都会重新从配置文件刷新, 单独存储, 所以环境变量的值互不影响(在两个bash程序存在过程中, 任意一方环境变量变化不影响另一方)</em></p><ul><li><code>env</code>查看当前用户的环境变量</li><li><code>set</code>查询当前用户的所有变量(临时变量与环境变量)</li><li><code>export 变量名=变量值</code> 或者 <code>变量名=变量值；export 变量名</code></li></ul></li></ul><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@MissHou ~<span class="token punctuation">]</span><span class="token comment"># export A=hello		临时将一个本地变量（临时变量）变成环境变量</span>
<span class="token punctuation">[</span>root@MissHou ~<span class="token punctuation">]</span><span class="token comment"># env|grep ^A</span>
<span class="token assign-left variable">A</span><span class="token operator">=</span>hello

永久生效：
<span class="token function">vim</span> /etc/profile 或者 ~/.bashrc
<span class="token builtin class-name">export</span> <span class="token assign-left variable">A</span><span class="token operator">=</span>hello
或者
<span class="token assign-left variable">A</span><span class="token operator">=</span>hello
<span class="token builtin class-name">export</span> A

说明：系统中有一个变量<span class="token environment constant">PATH</span>，环境变量
<span class="token builtin class-name">export</span> <span class="token assign-left variable"><span class="token environment constant">PATH</span></span><span class="token operator">=</span>/usr/local/mysql/bin:<span class="token environment constant">$PATH</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="三-全局变量" tabindex="-1"><a class="header-anchor" href="#三-全局变量" aria-hidden="true">#</a> ㈢ 全局变量</h3><ul><li><strong>全局变量</strong>：<em>全局所有的用户和程序都能调用</em>(文件配置)，且继承，新建的用户也默认能调用.</li><li><strong>解读相关配置文件</strong></li></ul><table><thead><tr><th>文件名</th><th>说明</th><th>备注</th></tr></thead><tbody><tr><td>$HOME/.bashrc</td><td>当前用户的bash信息,用户登录时读取</td><td>定义别名、umask、函数等</td></tr><tr><td>$HOME/.bash_profile</td><td>当前用户的环境变量，用户登录时读取</td><td></td></tr><tr><td>$HOME/.bash_logout</td><td>当前用户退出当前shell时最后读取</td><td>定义用户退出时执行的程序等</td></tr><tr><td>/etc/bashrc</td><td>全局的bash信息，所有用户都生效</td><td></td></tr><tr><td>/etc/profile</td><td>全局环境变量信息</td><td>系统和所有用户都生效</td></tr><tr><td>$HOME/.bash_history</td><td>用户的历史命令</td><td>history -w 保存历史记录 history -c 清空历史记录</td></tr></tbody></table><p>**说明：**以上文件修改后，都需要<em>重新source</em>让其生效或者退出重新登录。</p><ul><li><p>用户登录系统后, 读取相关文件的顺序</p><ol><li><code>/etc/profile</code></li></ol></li></ul><ol start="2"><li><code>$HOME/.bash_profile</code> 3. <code>$HOME/.bashrc</code></li><li><code>/etc/bashrc</code> 5. <code>$HOME/.bash_logout</code></li></ol><h3 id="四-系统变量" tabindex="-1"><a class="header-anchor" href="#四-系统变量" aria-hidden="true">#</a> ㈣ 系统变量</h3><ul><li><strong>系统变量(内置bash中变量)</strong> ： shell本身已经固定好了它的名字和作用.</li></ul><p>./02.sh a b c -&gt; (3个参数)</p><table><thead><tr><th>内置变量</th><th>含义</th></tr></thead><tbody><tr><td>$?</td><td>上一条命令执行后返回的状态；状态值为0表示执行正常，非0表示执行异常或错误</td></tr><tr><td>$0</td><td>当前执行的程序或脚本名 (./02.sh)</td></tr><tr><td>$#</td><td>脚本后面接的参数的个数 3个</td></tr><tr><td>$*</td><td>脚本后面所有参数，参数当成一个整体输出，每一个变量参数之间以空格隔开 (参数数组a b c)</td></tr><tr><td>$@</td><td>脚本后面所有参数，参数是独立的，也是全部输出 (参数数组a b c)</td></tr><tr><td>$1~$9</td><td>脚本后面的位置参数，$1表示第1个位置参数，依次类推</td></tr><tr><td>${10}~${n}</td><td>扩展位置参数,第10个位置变量必须用{}大括号括起来(2位数字以上扩起来)</td></tr><tr><td>$$</td><td>当前所在进程的进程号，如<code>echo $$</code></td></tr><tr><td>$！</td><td>后台运行的最后一个进程号 测试: sleep 400 &amp;(后台运行)/sleep 400(ctrl+z 暂停运行), 再运行jobs, 查看当前进程的后台子进程.</td></tr><tr><td>!$</td><td>调用最后一条命令历史中的参数</td></tr></tbody></table><ul><li>进一步了解位置参数<code>$1~${n}</code></li></ul><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>#!/bin/bash
#了解shell内置变量中的位置参数含义
echo &quot;\$0 = $0&quot;
echo &quot;\$# = $#&quot;
echo &quot;\$* = $*&quot;
echo &quot;\$@ = $@&quot;
echo &quot;\$1 = $1&quot; 
echo &quot;\$2 = $2&quot; 
echo &quot;\$3 = $3&quot; 
echo &quot;\$11 = ${11}&quot; 
echo &quot;\$12 = ${12}&quot; 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>进一步了解$*和$@的区别</li></ul><p><code>$*</code>：表示将变量看成一个整体 <code>$@</code>：表示变量是独立的</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token shebang important">#!/bin/bash</span>
<span class="token keyword">for</span> <span class="token for-or-select variable">i</span> <span class="token keyword">in</span> <span class="token string">&quot;<span class="token variable">$@</span>&quot;</span>
<span class="token keyword">do</span>
<span class="token builtin class-name">echo</span> <span class="token variable">$i</span>
<span class="token keyword">done</span>

<span class="token builtin class-name">echo</span> <span class="token string">&quot;======我是分割线=======&quot;</span>

<span class="token keyword">for</span> <span class="token for-or-select variable">i</span> <span class="token keyword">in</span> <span class="token string">&quot;<span class="token variable">$*</span>&quot;</span>
<span class="token keyword">do</span>
<span class="token builtin class-name">echo</span> <span class="token variable">$i</span>
<span class="token keyword">done</span>

<span class="token punctuation">[</span>root@MissHou ~<span class="token punctuation">]</span><span class="token comment"># bash 3.sh a b c</span>
a
b
c
<span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span>我是分割线<span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">=</span>
a b c
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="三、简单四则运算" tabindex="-1"><a class="header-anchor" href="#三、简单四则运算" aria-hidden="true">#</a> 三、简单四则运算</h1><p>算术运算：默认情况下，shell就只能支持简单的整数运算</p><p>运算内容：加(+)、减(-)、乘(*)、除(/)、求余数（%）</p><h2 id="_1-四则运算符号" tabindex="-1"><a class="header-anchor" href="#_1-四则运算符号" aria-hidden="true">#</a> <strong>1. 四则运算符号</strong></h2><table><thead><tr><th>表达式</th><th>举例</th></tr></thead><tbody><tr><td>$(( ))</td><td>echo $((1+1))</td></tr><tr><td>$[ ]</td><td>echo $[10-5]</td></tr><tr><td>expr</td><td>expr 10 / 5</td></tr><tr><td>let</td><td>n=1;let n+=1 等价于 let n=n+1</td></tr></tbody></table><h2 id="_2-了解i和i" tabindex="-1"><a class="header-anchor" href="#_2-了解i和i" aria-hidden="true">#</a> 2.了解i和i</h2><ul><li>对变量的值的影响</li></ul><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@MissHou ~<span class="token punctuation">]</span><span class="token comment"># i=1</span>
<span class="token punctuation">[</span>root@MissHou ~<span class="token punctuation">]</span><span class="token comment"># let i++</span>
<span class="token punctuation">[</span>root@MissHou ~<span class="token punctuation">]</span><span class="token comment"># echo $i</span>
<span class="token number">2</span>
<span class="token punctuation">[</span>root@MissHou ~<span class="token punctuation">]</span><span class="token comment"># j=1</span>
<span class="token punctuation">[</span>root@MissHou ~<span class="token punctuation">]</span><span class="token comment"># let ++j</span>
<span class="token punctuation">[</span>root@MissHou ~<span class="token punctuation">]</span><span class="token comment"># echo $j</span>
<span class="token number">2</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>对表达式的值的影响</li></ul><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@MissHou ~<span class="token punctuation">]</span><span class="token comment"># unset i j</span>
<span class="token punctuation">[</span>root@MissHou ~<span class="token punctuation">]</span><span class="token comment"># i=1;j=1</span>
<span class="token punctuation">[</span>root@MissHou ~<span class="token punctuation">]</span><span class="token comment"># let x=i++         先赋值，再运算</span>
<span class="token punctuation">[</span>root@MissHou ~<span class="token punctuation">]</span><span class="token comment"># let y=++j         先运算，再赋值</span>
<span class="token punctuation">[</span>root@MissHou ~<span class="token punctuation">]</span><span class="token comment"># echo $i</span>
<span class="token number">2</span>
<span class="token punctuation">[</span>root@MissHou ~<span class="token punctuation">]</span><span class="token comment"># echo $j</span>
<span class="token number">2</span>
<span class="token punctuation">[</span>root@MissHou ~<span class="token punctuation">]</span><span class="token comment"># echo $x</span>
<span class="token number">1</span>
<span class="token punctuation">[</span>root@MissHou ~<span class="token punctuation">]</span><span class="token comment"># echo $y</span>
<span class="token number">2</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="四、扩展补充" tabindex="-1"><a class="header-anchor" href="#四、扩展补充" aria-hidden="true">#</a> 四、扩展补充</h1><h2 id="_1-数组定义" tabindex="-1"><a class="header-anchor" href="#_1-数组定义" aria-hidden="true">#</a> <strong>1. 数组定义</strong></h2><h3 id="一-数组分类" tabindex="-1"><a class="header-anchor" href="#一-数组分类" aria-hidden="true">#</a> ㈠ 数组分类</h3><ul><li>普通数组：只能使用整数作为数组索引(元素的下标)</li><li>关联数组：可以使用字符串作为数组索引(元素的下标)</li></ul><h3 id="二-普通数组定义" tabindex="-1"><a class="header-anchor" href="#二-普通数组定义" aria-hidden="true">#</a> ㈡ 普通数组定义</h3><ul><li>一次赋予一个值</li></ul><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>数组名<span class="token punctuation">[</span>索引下标<span class="token punctuation">]</span><span class="token operator">=</span>值
array<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">=</span>v1
array<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">=</span>v2
array<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token operator">=</span>v3
array<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token operator">=</span>v4
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>一次赋予多个值</li></ul><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>数组名<span class="token operator">=</span><span class="token punctuation">(</span>值1 值2 值3 <span class="token punctuation">..</span>.<span class="token punctuation">)</span>
<span class="token assign-left variable">array</span><span class="token operator">=</span><span class="token punctuation">(</span>var1 var2 var3 var4<span class="token punctuation">)</span>

<span class="token assign-left variable">array1</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token variable"><span class="token variable">`</span><span class="token function">cat</span> /etc/passwd<span class="token variable">`</span></span><span class="token punctuation">)</span>			将文件中每一行赋值给array1数组
<span class="token assign-left variable">array2</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token variable"><span class="token variable">`</span><span class="token function">ls</span> /root<span class="token variable">`</span></span><span class="token punctuation">)</span>
<span class="token assign-left variable">array3</span><span class="token operator">=</span><span class="token punctuation">(</span>harry amy jack <span class="token string">&quot;Miss Hou&quot;</span><span class="token punctuation">)</span>
<span class="token assign-left variable">array4</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">1</span> <span class="token number">2</span> <span class="token number">3</span> <span class="token number">4</span> <span class="token string">&quot;hello world&quot;</span> <span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token operator">=</span>linux<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="三-数组的读取" tabindex="-1"><a class="header-anchor" href="#三-数组的读取" aria-hidden="true">#</a> ㈢ 数组的读取</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token variable">${数组名<span class="token punctuation">[</span>元素下标<span class="token punctuation">]</span>}</span>

<span class="token builtin class-name">echo</span> <span class="token variable">${array<span class="token punctuation">[</span>0<span class="token punctuation">]</span>}</span>			获取数组里第一个元素
<span class="token builtin class-name">echo</span> <span class="token variable">${array<span class="token punctuation">[</span>*<span class="token punctuation">]</span>}</span>			获取数组里的所有元素
<span class="token builtin class-name">echo</span> <span class="token variable">${<span class="token operator">#</span>array<span class="token punctuation">[</span>*<span class="token punctuation">]</span>}</span>			获取数组里所有元素个数
<span class="token builtin class-name">echo</span> <span class="token variable">${<span class="token operator">!</span>array<span class="token punctuation">[</span>@<span class="token punctuation">]</span>}</span>    	获取数组元素的索引下标
<span class="token builtin class-name">echo</span> <span class="token variable">${array<span class="token punctuation">[</span>@<span class="token punctuation">]</span><span class="token operator">:</span>1<span class="token operator">:</span>2}</span>    访问指定的元素；1代表从下标为1的元素开始获取；2代表获取后面几个元素

查看普通数组信息：
<span class="token punctuation">[</span>root@MissHou ~<span class="token punctuation">]</span><span class="token comment"># declare -a</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="四-关联数组定义" tabindex="-1"><a class="header-anchor" href="#四-关联数组定义" aria-hidden="true">#</a> ㈣ 关联数组定义</h3><h4 id="_1首先声明关联数组" tabindex="-1"><a class="header-anchor" href="#_1首先声明关联数组" aria-hidden="true">#</a> ①首先声明关联数组</h4><p>declare -A asso_array1</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>declare -A asso_array1
declare -A asso_array2
declare -A asso_array3
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_2-数组赋值" tabindex="-1"><a class="header-anchor" href="#_2-数组赋值" aria-hidden="true">#</a> ② 数组赋值</h4><ul><li>一次赋一个值</li></ul><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>数组名<span class="token punctuation">[</span>索引or下标<span class="token punctuation">]</span><span class="token operator">=</span>变量值
<span class="token comment"># asso_array1[linux]=one</span>
<span class="token comment"># asso_array1[java]=two</span>
<span class="token comment"># asso_array1[php]=three</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>一次赋多个值</li></ul><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># asso_array2=([name1]=harry [name2]=jack [name3]=amy [name4]=&quot;Miss Hou&quot;)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>查看关联数组</li></ul><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># declare -A</span>
<span class="token builtin class-name">declare</span> <span class="token parameter variable">-A</span> <span class="token assign-left variable">asso_array1</span><span class="token operator">=</span><span class="token string">&#39;([php]=&quot;three&quot; [java]=&quot;two&quot; [linux]=&quot;one&quot; )&#39;</span>
<span class="token builtin class-name">declare</span> <span class="token parameter variable">-A</span> <span class="token assign-left variable">asso_array2</span><span class="token operator">=</span><span class="token string">&#39;([name3]=&quot;amy&quot; [name2]=&quot;jack&quot; [name1]=&quot;harry&quot; [name4]=&quot;Miss Hou&quot; )&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>获取关联数组值</li></ul><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># echo ${asso_array1[linux]}</span>
one
<span class="token comment"># echo ${asso_array1[php]}</span>
three
<span class="token comment"># echo ${asso_array1[*]}</span>
three two one
<span class="token comment"># echo ${!asso_array1[*]}</span>
php <span class="token function">java</span> linux
<span class="token comment"># echo ${#asso_array1[*]}</span>
<span class="token number">3</span>
<span class="token comment"># echo ${#asso_array2[*]}</span>
<span class="token number">4</span>
<span class="token comment"># echo ${!asso_array2[*]}</span>
name3 name2 name1 name4
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>其他定义方式</li></ul><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@MissHou shell05<span class="token punctuation">]</span><span class="token comment"># declare -A books</span>
<span class="token punctuation">[</span>root@MissHou shell05<span class="token punctuation">]</span><span class="token comment"># let books[linux]++</span>
<span class="token punctuation">[</span>root@MissHou shell05<span class="token punctuation">]</span><span class="token comment"># declare -A|grep books</span>
<span class="token builtin class-name">declare</span> <span class="token parameter variable">-A</span> <span class="token assign-left variable">books</span><span class="token operator">=</span><span class="token string">&#39;([linux]=&quot;1&quot; )&#39;</span>
<span class="token punctuation">[</span>root@MissHou shell05<span class="token punctuation">]</span><span class="token comment"># let books[linux]++</span>
<span class="token punctuation">[</span>root@MissHou shell05<span class="token punctuation">]</span><span class="token comment"># declare -A|grep books</span>
<span class="token builtin class-name">declare</span> <span class="token parameter variable">-A</span> <span class="token assign-left variable">books</span><span class="token operator">=</span><span class="token string">&#39;([linux]=&quot;2&quot; )&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_2-其他变量定义" tabindex="-1"><a class="header-anchor" href="#_2-其他变量定义" aria-hidden="true">#</a> 2. 其他变量定义</h2><ul><li>取出一个目录下的目录和文件：<code>dirname</code>和 <code>basename</code></li></ul><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code># A=/root/Desktop/shell/mem.txt 
# echo $A
/root/Desktop/shell/mem.txt
# dirname $A   取出目录
/root/Desktop/shell
# basename $A  取出文件
mem.txt
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>-变量&quot;内容&quot;的删除和替换</li></ul><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>一个“%”代表从右往左删除
两个“%%”代表从右往左去掉最多
一个“#”代表从左往右去掉删除
两个“##”代表从左往右去掉最多

举例说明：
# url=www.taobao.com
# echo ${#url}		     获取变量的长度
# echo ${url#*.}
# echo ${url##*.}
# echo ${url%.*}
# echo ${url%%.*}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>以下了解，自己完成</li></ul><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>替换：/ 和 //
 1015  echo ${url/ao/AO}  用AO代替ao（从左往右第一个）
 1017  echo ${url//ao/AO}   贪婪替换（替代所有）
 
替代： - 和 :-  +和:+
 1019  echo ${abc-123}
 1020  abc=hello
 1021  echo ${abc-444}
 1022  echo $abc
 1024  abc=
 1025  echo ${abc-222}

${变量名-新的变量值} 或者 ${变量名=新的变量值}
变量没有被赋值：会使用“新的变量值“ 替代
变量有被赋值（包括空值）： 不会被替代

 1062  echo ${ABC:-123}
 1063  ABC=HELLO
 1064  echo ${ABC:-123}
 1065  ABC=
 1066  echo ${ABC:-123}

${变量名:-新的变量值} 或者 ${变量名:=新的变量值}
变量没有被赋值或者赋空值：会使用“新的变量值“ 替代
变量有被赋值： 不会被替代

 1116  echo ${abc=123}
 1118  echo ${abc:=123}

[root@MissHou ~]# unset abc
[root@MissHou ~]# echo ${abc:+123}

[root@MissHou ~]# abc=hello
[root@MissHou ~]# echo ${abc:+123}
123
[root@MissHou ~]# abc=
[root@MissHou ~]# echo ${abc:+123}

${变量名+新的变量值}
变量没有被赋值或者赋空值：不会使用“新的变量值“ 替代
变量有被赋值： 会被替代
[root@MissHou ~]# unset abc
[root@MissHou ~]# echo ${abc+123}

[root@MissHou ~]# abc=hello
[root@MissHou ~]# echo ${abc+123}
123
[root@MissHou ~]# abc=
[root@MissHou ~]# echo ${abc+123}
123
${变量名:+新的变量值}
变量没有被赋值：不会使用“新的变量值“ 替代
变量有被赋值（包括空值）： 会被替代

[root@MissHou ~]# unset abc
[root@MissHou ~]# echo ${abc?123}
-bash: abc: 123

[root@MissHou ~]# abc=hello
[root@MissHou ~]# echo ${abc?123}
hello
[root@MissHou ~]# abc=
[root@MissHou ~]# echo ${abc?123}

${变量名?新的变量值}
变量没有被赋值:提示错误信息
变量被赋值（包括空值）：不会使用“新的变量值“ 替代

[root@MissHou ~]# unset abc
[root@MissHou ~]# echo ${abc:?123}
-bash: abc: 123
[root@MissHou ~]# abc=hello
[root@MissHou ~]# echo ${abc:?123}
hello
[root@MissHou ~]# abc=
[root@MissHou ~]# echo ${abc:?123}
-bash: abc: 123

${变量名:?新的变量值}
变量没有被赋值或者赋空值时:提示错误信息
变量被赋值：不会使用“新的变量值“ 替代

说明：?主要是当变量没有赋值提示错误信息的，没有赋值功能
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><a href="https://note.youdao.com/md/preview.html?file=%2Fyws%2Fapi%2Fpersonal%2Ffile%2F0367BDF68CCB4774B3846EE70F9B5237%3Fmethod%3Ddownload%26read%3Dtrue%26shareKey%3Db402ca42248d060e7bdd5ee145f47cc5#%E6%9C%AC%E8%8A%82%E8%AF%BE%E7%A8%8B%E7%9B%AE%E6%A0%87" target="_blank" rel="noopener noreferrer">本节课程目标<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li>一、条件判断语法结构 <ul><li>\2. 条件判断相关参数 <ul><li><a href="https://note.youdao.com/md/preview.html?file=%2Fyws%2Fapi%2Fpersonal%2Ffile%2F0367BDF68CCB4774B3846EE70F9B5237%3Fmethod%3Ddownload%26read%3Dtrue%26shareKey%3Db402ca42248d060e7bdd5ee145f47cc5#%E4%B8%80-%E5%88%A4%E6%96%AD%E6%96%87%E4%BB%B6%E7%B1%BB%E5%9E%8B" target="_blank" rel="noopener noreferrer">㈠ 判断文件类型<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li><a href="https://note.youdao.com/md/preview.html?file=%2Fyws%2Fapi%2Fpersonal%2Ffile%2F0367BDF68CCB4774B3846EE70F9B5237%3Fmethod%3Ddownload%26read%3Dtrue%26shareKey%3Db402ca42248d060e7bdd5ee145f47cc5#%E4%BA%8C-%E5%88%A4%E6%96%AD%E6%96%87%E4%BB%B6%E6%9D%83%E9%99%90" target="_blank" rel="noopener noreferrer">㈡ 判断文件权限<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li><a href="https://note.youdao.com/md/preview.html?file=%2Fyws%2Fapi%2Fpersonal%2Ffile%2F0367BDF68CCB4774B3846EE70F9B5237%3Fmethod%3Ddownload%26read%3Dtrue%26shareKey%3Db402ca42248d060e7bdd5ee145f47cc5#%E4%B8%89-%E5%88%A4%E6%96%AD%E6%96%87%E4%BB%B6%E6%96%B0%E6%97%A7" target="_blank" rel="noopener noreferrer">㈢ 判断文件新旧<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li><a href="https://note.youdao.com/md/preview.html?file=%2Fyws%2Fapi%2Fpersonal%2Ffile%2F0367BDF68CCB4774B3846EE70F9B5237%3Fmethod%3Ddownload%26read%3Dtrue%26shareKey%3Db402ca42248d060e7bdd5ee145f47cc5#%E5%9B%9B-%E5%88%A4%E6%96%AD%E6%95%B4%E6%95%B0" target="_blank" rel="noopener noreferrer">㈣ 判断整数<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li><a href="https://note.youdao.com/md/preview.html?file=%2Fyws%2Fapi%2Fpersonal%2Ffile%2F0367BDF68CCB4774B3846EE70F9B5237%3Fmethod%3Ddownload%26read%3Dtrue%26shareKey%3Db402ca42248d060e7bdd5ee145f47cc5#%E4%BA%94-%E5%88%A4%E6%96%AD%E5%AD%97%E7%AC%A6%E4%B8%B2" target="_blank" rel="noopener noreferrer">㈤ 判断字符串<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li>㈥ 多重条件判断 <ul><li><a href="https://note.youdao.com/md/preview.html?file=%2Fyws%2Fapi%2Fpersonal%2Ffile%2F0367BDF68CCB4774B3846EE70F9B5237%3Fmethod%3Ddownload%26read%3Dtrue%26shareKey%3Db402ca42248d060e7bdd5ee145f47cc5#1-%E4%B8%BE%E4%BE%8B%E8%AF%B4%E6%98%8E" target="_blank" rel="noopener noreferrer">① 举例说明<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li><a href="https://note.youdao.com/md/preview.html?file=%2Fyws%2Fapi%2Fpersonal%2Ffile%2F0367BDF68CCB4774B3846EE70F9B5237%3Fmethod%3Ddownload%26read%3Dtrue%26shareKey%3Db402ca42248d060e7bdd5ee145f47cc5#2-%E9%80%BB%E8%BE%91%E8%BF%90%E7%AE%97%E7%AC%A6%E6%80%BB%E7%BB%93" target="_blank" rel="noopener noreferrer">② 逻辑运算符总结<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li></ul></li></ul></li></ul></li><li>二、流程控制语句 <ul><li>\1. 基本语法结构 <ul><li><a href="https://note.youdao.com/md/preview.html?file=%2Fyws%2Fapi%2Fpersonal%2Ffile%2F0367BDF68CCB4774B3846EE70F9B5237%3Fmethod%3Ddownload%26read%3Dtrue%26shareKey%3Db402ca42248d060e7bdd5ee145f47cc5#%E4%B8%80-if%E7%BB%93%E6%9E%84" target="_blank" rel="noopener noreferrer">㈠ if结构<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li><a href="https://note.youdao.com/md/preview.html?file=%2Fyws%2Fapi%2Fpersonal%2Ffile%2F0367BDF68CCB4774B3846EE70F9B5237%3Fmethod%3Ddownload%26read%3Dtrue%26shareKey%3Db402ca42248d060e7bdd5ee145f47cc5#%E4%BA%8C-ifelse%E7%BB%93%E6%9E%84" target="_blank" rel="noopener noreferrer">㈡ if...else结构<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li><a href="https://note.youdao.com/md/preview.html?file=%2Fyws%2Fapi%2Fpersonal%2Ffile%2F0367BDF68CCB4774B3846EE70F9B5237%3Fmethod%3Ddownload%26read%3Dtrue%26shareKey%3Db402ca42248d060e7bdd5ee145f47cc5#%E4%B8%89-ifelifelse%E7%BB%93%E6%9E%84" target="_blank" rel="noopener noreferrer">㈢ if...elif...else结构<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li><a href="https://note.youdao.com/md/preview.html?file=%2Fyws%2Fapi%2Fpersonal%2Ffile%2F0367BDF68CCB4774B3846EE70F9B5237%3Fmethod%3Ddownload%26read%3Dtrue%26shareKey%3Db402ca42248d060e7bdd5ee145f47cc5#%E5%9B%9B-%E5%B1%82%E5%B1%82%E5%B5%8C%E5%A5%97%E7%BB%93%E6%9E%84" target="_blank" rel="noopener noreferrer">㈣ 层层嵌套结构<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li></ul></li><li>\2. 应用案例 <ul><li>㈠ 判断两台主机是否ping通 <ul><li><a href="https://note.youdao.com/md/preview.html?file=%2Fyws%2Fapi%2Fpersonal%2Ffile%2F0367BDF68CCB4774B3846EE70F9B5237%3Fmethod%3Ddownload%26read%3Dtrue%26shareKey%3Db402ca42248d060e7bdd5ee145f47cc5#1-%E6%80%9D%E8%B7%AF" target="_blank" rel="noopener noreferrer">① 思路<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li><a href="https://note.youdao.com/md/preview.html?file=%2Fyws%2Fapi%2Fpersonal%2Ffile%2F0367BDF68CCB4774B3846EE70F9B5237%3Fmethod%3Ddownload%26read%3Dtrue%26shareKey%3Db402ca42248d060e7bdd5ee145f47cc5#2-%E8%90%BD%E5%9C%B0%E5%AE%9E%E7%8E%B0" target="_blank" rel="noopener noreferrer">② 落地实现<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li></ul></li><li>㈡ 判断一个进程是否存在 <ul><li><a href="https://note.youdao.com/md/preview.html?file=%2Fyws%2Fapi%2Fpersonal%2Ffile%2F0367BDF68CCB4774B3846EE70F9B5237%3Fmethod%3Ddownload%26read%3Dtrue%26shareKey%3Db402ca42248d060e7bdd5ee145f47cc5#1-%E6%80%9D%E8%B7%AF-2" target="_blank" rel="noopener noreferrer">① 思路<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li><a href="https://note.youdao.com/md/preview.html?file=%2Fyws%2Fapi%2Fpersonal%2Ffile%2F0367BDF68CCB4774B3846EE70F9B5237%3Fmethod%3Ddownload%26read%3Dtrue%26shareKey%3Db402ca42248d060e7bdd5ee145f47cc5#2-%E8%90%BD%E5%9C%B0%E5%AE%9E%E7%8E%B0-2" target="_blank" rel="noopener noreferrer">② 落地实现<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li><a href="https://note.youdao.com/md/preview.html?file=%2Fyws%2Fapi%2Fpersonal%2Ffile%2F0367BDF68CCB4774B3846EE70F9B5237%3Fmethod%3Ddownload%26read%3Dtrue%26shareKey%3Db402ca42248d060e7bdd5ee145f47cc5#3-%E8%A1%A5%E5%85%85%E5%91%BD%E4%BB%A4" target="_blank" rel="noopener noreferrer">③ 补充命令<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li></ul></li><li>㈢ 判断一个服务是否正常 <ul><li><a href="https://note.youdao.com/md/preview.html?file=%2Fyws%2Fapi%2Fpersonal%2Ffile%2F0367BDF68CCB4774B3846EE70F9B5237%3Fmethod%3Ddownload%26read%3Dtrue%26shareKey%3Db402ca42248d060e7bdd5ee145f47cc5#1-%E6%80%9D%E8%B7%AF-3" target="_blank" rel="noopener noreferrer">① 思路<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li><a href="https://note.youdao.com/md/preview.html?file=%2Fyws%2Fapi%2Fpersonal%2Ffile%2F0367BDF68CCB4774B3846EE70F9B5237%3Fmethod%3Ddownload%26read%3Dtrue%26shareKey%3Db402ca42248d060e7bdd5ee145f47cc5#2-%E8%90%BD%E5%9C%B0%E5%AE%9E%E7%8E%B0-3" target="_blank" rel="noopener noreferrer">② 落地实现<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li></ul></li><li><a href="https://note.youdao.com/md/preview.html?file=%2Fyws%2Fapi%2Fpersonal%2Ffile%2F0367BDF68CCB4774B3846EE70F9B5237%3Fmethod%3Ddownload%26read%3Dtrue%26shareKey%3Db402ca42248d060e7bdd5ee145f47cc5#%E4%B8%80-%E5%88%A4%E6%96%AD%E7%94%A8%E6%88%B7%E6%98%AF%E5%90%A6%E5%AD%98%E5%9C%A8" target="_blank" rel="noopener noreferrer">㈠ 判断用户是否存在<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li><a href="https://note.youdao.com/md/preview.html?file=%2Fyws%2Fapi%2Fpersonal%2Ffile%2F0367BDF68CCB4774B3846EE70F9B5237%3Fmethod%3Ddownload%26read%3Dtrue%26shareKey%3Db402ca42248d060e7bdd5ee145f47cc5#%E4%BA%8C-%E5%88%A4%E6%96%AD%E8%BD%AF%E4%BB%B6%E5%8C%85%E6%98%AF%E5%90%A6%E5%AE%89%E8%A3%85" target="_blank" rel="noopener noreferrer">㈡ 判断软件包是否安装<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li><a href="https://note.youdao.com/md/preview.html?file=%2Fyws%2Fapi%2Fpersonal%2Ffile%2F0367BDF68CCB4774B3846EE70F9B5237%3Fmethod%3Ddownload%26read%3Dtrue%26shareKey%3Db402ca42248d060e7bdd5ee145f47cc5#%E4%B8%89-%E5%88%A4%E6%96%AD%E5%BD%93%E5%89%8D%E4%B8%BB%E6%9C%BA%E7%9A%84%E5%86%85%E6%A0%B8%E7%89%88%E6%9C%AC" target="_blank" rel="noopener noreferrer">㈢ 判断当前主机的内核版本<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li></ul></li></ul></li></ul><h1 id="本节课程目标" tabindex="-1"><a class="header-anchor" href="#本节课程目标" aria-hidden="true">#</a> 本节课程目标</h1><ul><li>熟悉条件判断语句，如判断整数、判断字符串等</li><li>熟悉流程控制语句基本语法，如if…else…</li></ul><h1 id="一、条件判断语法结构" tabindex="-1"><a class="header-anchor" href="#一、条件判断语法结构" aria-hidden="true">#</a> 一、条件判断语法结构</h1><p><strong>思考：何为真(true)？何为假(false)？</strong></p><h2 id="_1-条件判断语法格式" tabindex="-1"><a class="header-anchor" href="#_1-条件判断语法格式" aria-hidden="true">#</a> <strong>1. 条件判断语法格式</strong></h2><ul><li>格式1： <strong>test</strong> 条件表达式</li><li>格式2： <strong>[</strong> 条件表达式 ]</li><li>格式3： <strong>[[</strong> 条件表达式 ]] 支持正则 =~</li></ul><p><strong>特别说明：</strong></p><p>1）[ 亲亲，我两边都有空格，不空打死你呦 ] 👿</p><p>2）[[ 亲亲，我两边都有空格，不空打死你呦 ]]👿</p><ol><li>更多判断，<code>man test</code>去查看，很多的参数都用来进行条件判断</li></ol><h2 id="_2-条件判断相关参数" tabindex="-1"><a class="header-anchor" href="#_2-条件判断相关参数" aria-hidden="true">#</a> 2. 条件判断相关参数</h2><p>问：你要判断什么？</p><p>答：我要判断文件类型，判断文件新旧，判断字符串是否相等，判断权限等等...</p><h3 id="一-判断文件类型" tabindex="-1"><a class="header-anchor" href="#一-判断文件类型" aria-hidden="true">#</a> ㈠ 判断文件类型</h3><ol><li><table><thead><tr><th>判断参数</th><th>含义</th><th>说明</th></tr></thead><tbody><tr><td>-e</td><td>判断文件是否存在（link文件指向的也必须存在）</td><td>exists</td></tr><tr><td>-f</td><td>判断文件是否存在并且是一个普通文件</td><td>file</td></tr><tr><td>-d</td><td>判断文件是否存在并且是一个目录</td><td>directory</td></tr><tr><td>-L</td><td>判断文件是否存在并且是一个软连接文件</td><td>soft link</td></tr><tr><td>-b</td><td>判断文件是否存在并且是一个块设备文件</td><td>block</td></tr><tr><td>-S</td><td>判断文件是否存在并且是一个套接字文件</td><td>socket</td></tr><tr><td>-c</td><td>判断文件是否存在并且是一个字符设备文件</td><td>char</td></tr><tr><td>-p</td><td>判断文件是否存在并且是一个命名管道文件</td><td>pipe</td></tr><tr><td>-s</td><td>判断文件是否存在并且是一个非空文件（有内容）</td><td>is not empty</td></tr></tbody></table></li></ol><p><strong>举例说明：</strong></p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token builtin class-name">test</span> <span class="token parameter variable">-e</span> <span class="token function">file</span>					只要文件存在条件为真
<span class="token punctuation">[</span> <span class="token parameter variable">-d</span> /shell01/dir1 <span class="token punctuation">]</span>		 	判断目录是否存在，存在条件为真
<span class="token punctuation">[</span> <span class="token operator">!</span> <span class="token parameter variable">-d</span> /shell01/dir1 <span class="token punctuation">]</span>		判断目录是否存在,不存在条件为真
<span class="token punctuation">[</span><span class="token punctuation">[</span> <span class="token parameter variable">-f</span> /shell01/1.sh <span class="token punctuation">]</span><span class="token punctuation">]</span>		判断文件是否存在，并且是一个普通的文件
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="二-判断文件权限" tabindex="-1"><a class="header-anchor" href="#二-判断文件权限" aria-hidden="true">#</a> ㈡ 判断文件权限</h3><table><thead><tr><th>判断参数</th><th>含义</th></tr></thead><tbody><tr><td>-r</td><td>当前用户对其是否可读</td></tr><tr><td>-w</td><td>当前用户对其是否可写</td></tr><tr><td>-x</td><td>当前用户对其是否可执行</td></tr><tr><td>-u</td><td>是否有suid，高级权限冒险位</td></tr><tr><td>-g</td><td>是否sgid，高级权限强制位</td></tr><tr><td>-k</td><td>是否有t位，高级权限粘滞位 (创建者/root才能删除)</td></tr></tbody></table><h3 id="三-判断文件新旧" tabindex="-1"><a class="header-anchor" href="#三-判断文件新旧" aria-hidden="true">#</a> ㈢ 判断文件新旧</h3><p>说明：这里的新旧指的是文件的修改时间。</p><table><thead><tr><th>判断参数</th><th>含义</th></tr></thead><tbody><tr><td>file1 -nt file2</td><td>比较file1是否比file2新</td></tr><tr><td>file1 -ot file2</td><td>比较file1是否比file2旧</td></tr><tr><td>file1 -ef file2</td><td>比较是否为同一个文件，或者用于判断硬连接，是否指向同一个inode</td></tr></tbody></table><h3 id="四-判断整数" tabindex="-1"><a class="header-anchor" href="#四-判断整数" aria-hidden="true">#</a> ㈣ 判断整数</h3><table><thead><tr><th>判断参数</th><th>含义</th></tr></thead><tbody><tr><td>-eq ==</td><td>相等</td></tr><tr><td>-ne &lt;&gt; !=</td><td>不等</td></tr><tr><td>-gt</td><td>大于</td></tr><tr><td>-lt</td><td>小于</td></tr><tr><td>-ge</td><td>大于等于</td></tr><tr><td>-le</td><td>小于等于</td></tr></tbody></table><h3 id="五-判断字符串" tabindex="-1"><a class="header-anchor" href="#五-判断字符串" aria-hidden="true">#</a> ㈤ 判断字符串</h3><table><thead><tr><th>判断参数</th><th>含义</th></tr></thead><tbody><tr><td>-z</td><td>判断是否为空字符串，字符串长度为0则成立</td></tr><tr><td>-n</td><td>判断是否为非空字符串，字符串长度不为0则成立</td></tr><tr><td>string1 = string2</td><td>判断字符串是否相等</td></tr><tr><td>string1 != string2</td><td>判断字符串是否相不等</td></tr></tbody></table><h3 id="六-多重条件判断" tabindex="-1"><a class="header-anchor" href="#六-多重条件判断" aria-hidden="true">#</a> ㈥ 多重条件判断</h3><table><thead><tr><th>判断符号</th><th>含义</th><th>举例</th></tr></thead><tbody><tr><td>-a 和 &amp;&amp;</td><td>逻辑与</td><td>[ 1 -eq 1 -a 1 -ne 0 ] [ 1 -eq 1 ] &amp;&amp; [ 1 -ne 0 ]</td></tr><tr><td>-o 和 ||</td><td>逻辑或</td><td>[ 1 -eq 1 -o 1 -ne 1 ]</td></tr></tbody></table><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span> <span class="token number">33</span> <span class="token operator">&lt;&gt;</span> <span class="token number">55</span> <span class="token parameter variable">-a</span> <span class="token number">33</span> <span class="token parameter variable">-gt</span> $<span class="token punctuation">[</span><span class="token number">300</span>/10<span class="token punctuation">]</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token builtin class-name">echo</span> <span class="token variable">$?</span>
<span class="token punctuation">[</span> <span class="token number">33</span> <span class="token parameter variable">-le</span> <span class="token number">44</span> <span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">[</span> <span class="token number">33</span> <span class="token parameter variable">-gt</span> $<span class="token punctuation">[</span><span class="token number">999</span>/100<span class="token punctuation">]</span> <span class="token punctuation">]</span> <span class="token punctuation">;</span> <span class="token builtin class-name">echo</span> <span class="token variable">$?</span>


</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>特别说明：</strong></p><p>&amp;&amp; 前面的表达式为真，才会执行后面的代码</p><p>|| 前面的表达式为假，才会执行后面的代码</p><p>; 只用于分割命令或表达式</p><h4 id="_1-举例说明" tabindex="-1"><a class="header-anchor" href="#_1-举例说明" aria-hidden="true">#</a> ① 举例说明</h4><ul><li>数值比较</li></ul><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@server ~<span class="token punctuation">]</span><span class="token comment"># [ $(id -u) -eq 0 ] &amp;&amp; echo &quot;the user is admin&quot;</span>
<span class="token punctuation">[</span>root@server ~<span class="token punctuation">]</span>$ <span class="token punctuation">[</span> <span class="token variable"><span class="token variable">$(</span><span class="token function">id</span> <span class="token parameter variable">-u</span><span class="token variable">)</span></span> <span class="token parameter variable">-ne</span> <span class="token number">0</span> <span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> <span class="token builtin class-name">echo</span> <span class="token string">&quot;the user is not admin&quot;</span>
<span class="token punctuation">[</span>root@server ~<span class="token punctuation">]</span>$ <span class="token punctuation">[</span> <span class="token variable"><span class="token variable">$(</span><span class="token function">id</span> <span class="token parameter variable">-u</span><span class="token variable">)</span></span> <span class="token parameter variable">-eq</span> <span class="token number">0</span> <span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> <span class="token builtin class-name">echo</span> <span class="token string">&quot;the user is admin&quot;</span> <span class="token operator">||</span> <span class="token builtin class-name">echo</span> <span class="token string">&quot;the user is not admin&quot;</span>

<span class="token punctuation">[</span>root@server ~<span class="token punctuation">]</span><span class="token comment"># uid=`id -u`</span>
<span class="token punctuation">[</span>root@server ~<span class="token punctuation">]</span><span class="token comment"># test $uid -eq 0 &amp;&amp; echo this is admin</span>
this is admin
<span class="token punctuation">[</span>root@server ~<span class="token punctuation">]</span><span class="token comment"># [ $(id -u) -ne 0 ]  || echo this is admin</span>
this is admin
<span class="token punctuation">[</span>root@server ~<span class="token punctuation">]</span><span class="token comment"># [ $(id -u) -eq 0 ]  &amp;&amp; echo this is admin || echo this is not admin</span>
this is admin
<span class="token punctuation">[</span>root@server ~<span class="token punctuation">]</span><span class="token comment"># su - stu1</span>
<span class="token punctuation">[</span>stu1@server ~<span class="token punctuation">]</span>$ <span class="token punctuation">[</span> <span class="token variable"><span class="token variable">$(</span><span class="token function">id</span> <span class="token parameter variable">-u</span><span class="token variable">)</span></span> <span class="token parameter variable">-eq</span> <span class="token number">0</span> <span class="token punctuation">]</span>  <span class="token operator">&amp;&amp;</span> <span class="token builtin class-name">echo</span> this is admin <span class="token operator">||</span> <span class="token builtin class-name">echo</span> this is not admin
this is not admin

 <span class="token punctuation">[</span> <span class="token variable"><span class="token variable">$(</span><span class="token function">id</span> <span class="token parameter variable">-u</span><span class="token variable">)</span></span> <span class="token parameter variable">-eq</span> <span class="token number">0</span> <span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> <span class="token builtin class-name">echo</span> <span class="token string">&#39;root用户&#39;</span> <span class="token operator">||</span> <span class="token builtin class-name">echo</span> <span class="token string">&#39;普通用户&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>类C风格的<strong>数值</strong>比较</li></ul><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>注意：在<span class="token variable"><span class="token punctuation">((</span> <span class="token punctuation">))</span></span>中，<span class="token operator">=</span>表示赋值；<span class="token operator">==</span>表示判断
<span class="token punctuation">[</span>root@server ~<span class="token punctuation">]</span><span class="token comment"># ((1==2));echo $?</span>
<span class="token punctuation">[</span>root@server ~<span class="token punctuation">]</span><span class="token comment"># ((1&lt;2));echo $?</span>
<span class="token punctuation">[</span>root@server ~<span class="token punctuation">]</span><span class="token comment"># ((2&gt;=1));echo $?</span>
<span class="token punctuation">[</span>root@server ~<span class="token punctuation">]</span><span class="token comment"># ((2!=1));echo $?</span>
<span class="token punctuation">[</span>root@server ~<span class="token punctuation">]</span><span class="token comment"># ((`id -u`==0));echo $?</span>
 
<span class="token punctuation">[</span>root@server ~<span class="token punctuation">]</span><span class="token comment"># ((a=123));echo $a</span>
<span class="token punctuation">[</span>root@server ~<span class="token punctuation">]</span><span class="token comment"># unset a</span>
<span class="token punctuation">[</span>root@server ~<span class="token punctuation">]</span><span class="token comment"># ((a==123));echo $?</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>字符串比较</li></ul><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>注意：双引号引起来，看作一个整体；<span class="token operator">=</span> 和 <span class="token operator">==</span> 在 <span class="token punctuation">[</span> 字符串 <span class="token punctuation">]</span> 比较中都表示判断
<span class="token punctuation">[</span>root@server ~<span class="token punctuation">]</span><span class="token comment"># a=&#39;hello world&#39;;b=world</span>
<span class="token punctuation">[</span>root@server ~<span class="token punctuation">]</span><span class="token comment"># [ $a = $b ];echo $?</span>
<span class="token punctuation">[</span>root@server ~<span class="token punctuation">]</span><span class="token comment"># [ &quot;$a&quot; = &quot;$b&quot; ];echo $?</span>
<span class="token punctuation">[</span>root@server ~<span class="token punctuation">]</span><span class="token comment"># [ &quot;$a&quot; != &quot;$b&quot; ];echo $?</span>
<span class="token punctuation">[</span>root@server ~<span class="token punctuation">]</span><span class="token comment"># [ &quot;$a&quot; !== &quot;$b&quot; ];echo $?        错误</span>
<span class="token punctuation">[</span>root@server ~<span class="token punctuation">]</span><span class="token comment"># [ &quot;$a&quot; == &quot;$b&quot; ];echo $?</span>
<span class="token punctuation">[</span>root@server ~<span class="token punctuation">]</span><span class="token comment"># test &quot;$a&quot; != &quot;$b&quot;;echo $?</span>


<span class="token builtin class-name">test</span>  表达式
<span class="token punctuation">[</span> 表达式 <span class="token punctuation">]</span>
<span class="token punctuation">[</span><span class="token punctuation">[</span> 表达式 <span class="token punctuation">]</span><span class="token punctuation">]</span>

思考：<span class="token punctuation">[</span> <span class="token punctuation">]</span> 和 <span class="token punctuation">[</span><span class="token punctuation">[</span> <span class="token punctuation">]</span><span class="token punctuation">]</span> 有什么区别？
单个 <span class="token punctuation">[</span>  <span class="token punctuation">]</span> 使用字符串对字符串必须加双引号
两个 <span class="token punctuation">[</span><span class="token punctuation">[</span>  <span class="token punctuation">]</span><span class="token punctuation">]</span> 不用对字符串变量加双引号
两个 <span class="token punctuation">[</span><span class="token punctuation">[</span>  <span class="token punctuation">]</span><span class="token punctuation">]</span> 里面可以使用 <span class="token operator">&amp;&amp;</span>,<span class="token operator">||</span>, 而单个不行
两个 <span class="token punctuation">[</span><span class="token punctuation">[</span>  <span class="token punctuation">]</span><span class="token punctuation">]</span> 支持c风格
如:
	<span class="token assign-left variable">a</span><span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span> <span class="token assign-left variable">b</span><span class="token operator">=</span><span class="token number">2</span>
	<span class="token punctuation">[</span><span class="token punctuation">[</span> <span class="token variable">$a</span> <span class="token operator">&gt;</span> <span class="token variable">$b</span> <span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> <span class="token builtin class-name">echo</span> <span class="token variable">$a</span> <span class="token operator">||</span> <span class="token builtin class-name">echo</span> <span class="token variable">$b</span>

<span class="token punctuation">[</span>root@server ~<span class="token punctuation">]</span><span class="token comment"># a=</span>
<span class="token punctuation">[</span>root@server ~<span class="token punctuation">]</span><span class="token comment"># test -z $a;echo $?</span>
<span class="token punctuation">[</span>root@server ~<span class="token punctuation">]</span><span class="token comment"># a=hello</span>
<span class="token punctuation">[</span>root@server ~<span class="token punctuation">]</span><span class="token comment"># test -z $a;echo $?</span>
<span class="token punctuation">[</span>root@server ~<span class="token punctuation">]</span><span class="token comment"># test -n $a;echo $?</span>
<span class="token punctuation">[</span>root@server ~<span class="token punctuation">]</span><span class="token comment"># test -n &quot;$a&quot;;echo $?</span>

<span class="token comment"># [ &#39;&#39; = $a ];echo $?</span>
-bash: <span class="token punctuation">[</span>: <span class="token builtin class-name">:</span> unary operator expected
<span class="token number">2</span>
<span class="token comment"># [[ &#39;&#39; = $a ]];echo $?</span>
<span class="token number">0</span>


<span class="token punctuation">[</span>root@server ~<span class="token punctuation">]</span><span class="token comment"># [ 1 -eq 0 -a 1 -ne 0 ];echo $?</span>
<span class="token punctuation">[</span>root@server ~<span class="token punctuation">]</span><span class="token comment"># [ 1 -eq 0 &amp;&amp; 1 -ne 0 ];echo $?</span>
<span class="token punctuation">[</span>root@server ~<span class="token punctuation">]</span><span class="token comment"># [[ 1 -eq 0 &amp;&amp; 1 -ne 0 ]];echo $?</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_2-逻辑运算符总结" tabindex="-1"><a class="header-anchor" href="#_2-逻辑运算符总结" aria-hidden="true">#</a> ② 逻辑运算符总结</h4><ol><li><p>test exp1</p></li><li><p>[ exp1 ]</p></li><li><p>[[ exp1 ]]</p></li><li><p>(( 整数表达式exp1 ))</p></li><li><p>-s 判断文件不为空</p></li><li><p>符号;和&amp;&amp;和||都可以用来分割命令或者表达式</p></li><li><p>分号（;）完全不考虑前面的语句是否正确执行，都会执行;号后面的内容</p></li><li><p><code>&amp;&amp;</code>符号，需要考虑&amp;&amp;前面的语句的正确性，前面语句正确执行才会执行&amp;&amp;后的内容；反之亦然</p></li><li><p><code>||</code>符号，需要考虑||前面的语句的非正确性，前面语句执行错误才会执行||后内容；反之亦然</p></li><li><p>如果&amp;&amp;和||一起出现，从左往右依次看，按照以上原则</p></li></ol><h1 id="二、流程控制语句" tabindex="-1"><a class="header-anchor" href="#二、流程控制语句" aria-hidden="true">#</a> 二、流程控制语句</h1><p><strong>关键词：选择（人生漫漫长路，我该何去何从🚦）</strong></p><h2 id="_1-基本语法结构" tabindex="-1"><a class="header-anchor" href="#_1-基本语法结构" aria-hidden="true">#</a> 1. 基本语法结构</h2><h3 id="一-if结构" tabindex="-1"><a class="header-anchor" href="#一-if结构" aria-hidden="true">#</a> ㈠ if结构</h3><p><strong>箴言1：只要正确，就要一直向前冲✌️</strong></p><p><strong>F</strong>:表示false，为假</p><p><strong>T</strong>:表示true，为真</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token keyword">if</span> <span class="token punctuation">[</span> condition <span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">then</span>
		<span class="token builtin class-name">command</span>
		<span class="token builtin class-name">command</span>
<span class="token keyword">fi</span>

<span class="token keyword">if</span> <span class="token builtin class-name">test</span> 条件<span class="token punctuation">;</span><span class="token keyword">then</span>
	命令
<span class="token keyword">fi</span>

<span class="token keyword">if</span> <span class="token punctuation">[</span><span class="token punctuation">[</span> 条件 <span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">then</span>
	命令
<span class="token keyword">fi</span>

<span class="token punctuation">[</span> 条件 <span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> <span class="token builtin class-name">command</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="http://./流程判断1.png?ynotemdtimestamp=1607388105444" alt="流程判断1"></p><h3 id="二-if-else结构" tabindex="-1"><a class="header-anchor" href="#二-if-else结构" aria-hidden="true">#</a> ㈡ if...else结构</h3><p><strong>箴言2：分叉路口，二选一</strong></p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token keyword">if</span> <span class="token punctuation">[</span> condition <span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">then</span>
		command1
	<span class="token keyword">else</span>
		command2
<span class="token keyword">fi</span>

<span class="token punctuation">[</span> 条件 <span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> command1 <span class="token operator">||</span> command2
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="http://xn--2-ke8a231dx9gztq.png/?ynotemdtimestamp=1607388105444" alt="流程判断2"></p><p><strong>小试牛刀：</strong></p><p>让用户自己输入字符串，如果用户输入的是hello，请打印world，否则打印“请输入hello”</p><ol><li><code>read定义变量</code></li><li>if....else...</li></ol><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token shebang important">#!/bin/env bash</span>

<span class="token builtin class-name">read</span> <span class="token parameter variable">-p</span> <span class="token string">&#39;请输入一个字符串:&#39;</span> str
<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token string">&quot;<span class="token variable">$str</span>&quot;</span> <span class="token operator">=</span> <span class="token string">&#39;hello&#39;</span> <span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">then</span>
    <span class="token builtin class-name">echo</span> <span class="token string">&#39;world&#39;</span>
 <span class="token keyword">else</span>
    <span class="token builtin class-name">echo</span> <span class="token string">&#39;请输入hello!&#39;</span>
<span class="token keyword">fi</span>

  <span class="token number">1</span> <span class="token comment">#!/bin/env bash</span>
  <span class="token number">2</span>
  <span class="token number">3</span> <span class="token builtin class-name">read</span> <span class="token parameter variable">-p</span> <span class="token string">&quot;请输入一个字符串:&quot;</span> str
  <span class="token number">4</span> <span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token string">&quot;<span class="token variable">$str</span>&quot;</span> <span class="token operator">=</span> <span class="token string">&quot;hello&quot;</span> <span class="token punctuation">]</span>
  <span class="token number">5</span> <span class="token keyword">then</span>
  <span class="token number">6</span>     <span class="token builtin class-name">echo</span> world
  <span class="token number">7</span> <span class="token keyword">else</span>
  <span class="token number">8</span>     <span class="token builtin class-name">echo</span> <span class="token string">&quot;请输入hello!&quot;</span>
  <span class="token number">9</span> <span class="token keyword">fi</span>
  
  <span class="token builtin class-name">echo</span> <span class="token string">&quot;该脚本需要传递参数&quot;</span>
  <span class="token number">1</span> <span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">$1</span> <span class="token operator">=</span> hello <span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">then</span>
  <span class="token number">2</span>         <span class="token builtin class-name">echo</span> <span class="token string">&quot;hello&quot;</span>
  <span class="token number">3</span> <span class="token keyword">else</span>
  <span class="token number">4</span>         <span class="token builtin class-name">echo</span> <span class="token string">&quot;请输入hello&quot;</span>
  <span class="token number">5</span> <span class="token keyword">fi</span>

<span class="token comment">#!/bin/env bash</span>

<span class="token assign-left variable">A</span><span class="token operator">=</span>hello
<span class="token assign-left variable">B</span><span class="token operator">=</span>world
<span class="token assign-left variable">C</span><span class="token operator">=</span>hello

<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token string">&quot;<span class="token variable">$1</span>&quot;</span> <span class="token operator">=</span> <span class="token string">&quot;<span class="token variable">$A</span>&quot;</span> <span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">then</span>
        <span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$B</span>&quot;</span>
    <span class="token keyword">else</span>
        <span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$C</span>&quot;</span>
<span class="token keyword">fi</span>


<span class="token builtin class-name">read</span> <span class="token parameter variable">-p</span> <span class="token string">&#39;请输入一个字符串:&#39;</span> str<span class="token punctuation">;</span>
 <span class="token punctuation">[</span> <span class="token string">&quot;<span class="token variable">$str</span>&quot;</span> <span class="token operator">=</span> <span class="token string">&#39;hello&#39;</span> <span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> <span class="token builtin class-name">echo</span> <span class="token string">&#39;world&#39;</span> <span class="token operator">||</span>  <span class="token builtin class-name">echo</span> <span class="token string">&#39;请输入hello!&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="三-if-elif-else结构" tabindex="-1"><a class="header-anchor" href="#三-if-elif-else结构" aria-hidden="true">#</a> ㈢ if...elif...else结构</h3><p><strong>箴言3：选择很多，能走的只有一条</strong></p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token keyword">if</span> <span class="token punctuation">[</span> condition1 <span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">then</span>
		command1  	结束
	<span class="token keyword">elif</span> <span class="token punctuation">[</span> condition2 <span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">then</span>
		command2   	结束
	<span class="token keyword">else</span>
		command3
<span class="token keyword">fi</span>
注释：
如果条件1满足，执行命令1后结束；如果条件1不满足，再看条件2，如果条件2满足执行命令2后结束；如果条件1和条件2都不满足执行命令3结束.
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="http://xn--3-ke8a231dx9gztq.png/?ynotemdtimestamp=1607388105444" alt="流程判断3"></p><h3 id="四-层层嵌套结构" tabindex="-1"><a class="header-anchor" href="#四-层层嵌套结构" aria-hidden="true">#</a> ㈣ 层层嵌套结构</h3><p><strong>箴言4：多次判断，带你走出人生迷雾。</strong></p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token keyword">if</span> <span class="token punctuation">[</span> condition1 <span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">then</span>
		command1		
		<span class="token keyword">if</span> <span class="token punctuation">[</span> condition2 <span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">then</span>
			command2
		<span class="token keyword">fi</span>
 <span class="token keyword">else</span>
		<span class="token keyword">if</span> <span class="token punctuation">[</span> condition3 <span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">then</span>
			command3
		<span class="token keyword">elif</span> <span class="token punctuation">[</span> condition4 <span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">then</span>
			command4
		<span class="token keyword">else</span>
			command5
		<span class="token keyword">fi</span>
<span class="token keyword">fi</span>
注释：
如果条件1满足，执行命令1；如果条件2也满足执行命令2，如果不满足就只执行命令1结束；
如果条件1不满足，不看条件2；直接看条件3，如果条件3满足执行命令3；如果不满足则看条件4，如果条件4满足执行命令4；否则执行命令5
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="http://xn--4-ke8a231dx9gztq.png/?ynotemdtimestamp=1607388105444" alt="流程判断4"></p><h2 id="_2-应用案例" tabindex="-1"><a class="header-anchor" href="#_2-应用案例" aria-hidden="true">#</a> 2. 应用案例</h2><h3 id="一-判断两台主机是否ping通" tabindex="-1"><a class="header-anchor" href="#一-判断两台主机是否ping通" aria-hidden="true">#</a> ㈠ 判断两台主机是否ping通</h3><p>**需求：**判断当前主机是否和远程主机是否ping通</p><h4 id="_1-思路" tabindex="-1"><a class="header-anchor" href="#_1-思路" aria-hidden="true">#</a> ① 思路</h4><ol><li>使用哪个命令实现 <code>ping -c次数</code></li><li>根据命令的执行结果状态来判断是否通<code>$?</code></li><li>根据逻辑和语法结构来编写脚本(条件判断或者流程控制)</li></ol><h4 id="_2-落地实现" tabindex="-1"><a class="header-anchor" href="#_2-落地实现" aria-hidden="true">#</a> ② 落地实现</h4><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token shebang important">#!/bin/env bash</span>
<span class="token comment"># 该脚本用于判断当前主机是否和远程指定主机互通</span>

<span class="token comment"># 交互式定义变量，让用户自己决定ping哪个主机</span>
<span class="token builtin class-name">read</span> <span class="token parameter variable">-p</span> <span class="token string">&quot;请输入你要ping的主机的IP:&quot;</span> <span class="token function">ip</span>

<span class="token comment"># 使用ping程序判断主机是否互通</span>
<span class="token function">ping</span> <span class="token parameter variable">-c1</span> <span class="token variable">$ip</span> <span class="token operator">&amp;&gt;</span>/dev/null

<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">$?</span> <span class="token parameter variable">-eq</span> <span class="token number">0</span> <span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">then</span>
	<span class="token builtin class-name">echo</span> <span class="token string">&quot;当前主机和远程主机<span class="token variable">$ip</span>是互通的&quot;</span>
 <span class="token keyword">else</span>
 	<span class="token builtin class-name">echo</span> <span class="token string">&quot;当前主机和远程主机<span class="token variable">$ip</span>不通的&quot;</span>
<span class="token keyword">fi</span>

逻辑运算符
<span class="token builtin class-name">test</span> <span class="token variable">$?</span> <span class="token parameter variable">-eq</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span>  <span class="token builtin class-name">echo</span> <span class="token string">&quot;当前主机和远程主机<span class="token variable">$ip</span>是互通的&quot;</span> <span class="token operator">||</span> <span class="token builtin class-name">echo</span> <span class="token string">&quot;当前主机和远程主机<span class="token variable">$ip</span>不通的&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="二-判断一个进程是否存在" tabindex="-1"><a class="header-anchor" href="#二-判断一个进程是否存在" aria-hidden="true">#</a> ㈡ 判断一个进程是否存在</h3><p>**需求：**判断web服务器中httpd进程是否存在</p><h4 id="_1-思路-1" tabindex="-1"><a class="header-anchor" href="#_1-思路-1" aria-hidden="true">#</a> ① 思路</h4><ol><li>查看进程的相关命令 ps pgrep</li><li>根据命令的返回状态值来判断进程是否存在</li><li>根据逻辑用脚本语言实现</li></ol><h4 id="_2-落地实现-1" tabindex="-1"><a class="header-anchor" href="#_2-落地实现-1" aria-hidden="true">#</a> ② 落地实现</h4><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token shebang important">#!/bin/env bash</span>
<span class="token comment"># 判断一个程序(httpd)的进程是否存在</span>
pgrep httpd <span class="token operator">&amp;&gt;</span>/dev/null
<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">$?</span> <span class="token parameter variable">-ne</span> <span class="token number">0</span> <span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">then</span>
	<span class="token builtin class-name">echo</span> <span class="token string">&quot;当前httpd进程不存在&quot;</span>
<span class="token keyword">else</span>
	<span class="token builtin class-name">echo</span> <span class="token string">&quot;当前httpd进程存在&quot;</span>
<span class="token keyword">fi</span>

或者
<span class="token builtin class-name">test</span> <span class="token variable">$?</span> <span class="token parameter variable">-eq</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> <span class="token builtin class-name">echo</span> <span class="token string">&quot;当前httpd进程存在&quot;</span> <span class="token operator">||</span> <span class="token builtin class-name">echo</span> <span class="token string">&quot;当前httpd进程不存在&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_3-补充命令" tabindex="-1"><a class="header-anchor" href="#_3-补充命令" aria-hidden="true">#</a> ③ 补充命令</h4><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>pgrep命令：以名称为依据从运行进程队列中查找进程，并显示查找到的进程id
选项
-o：仅显示找到的最小（起始）进程号<span class="token punctuation">;</span>
-n：仅显示找到的最大（结束）进程号；
-l：显示进程名称；
-P：指定父进程号；pgrep <span class="token parameter variable">-p</span> <span class="token number">4764</span>  查看父进程下的子进程id
-g：指定进程组；
-t：指定开启进程的终端；
-u：指定进程的有效用户ID。
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="三-判断一个服务是否正常" tabindex="-1"><a class="header-anchor" href="#三-判断一个服务是否正常" aria-hidden="true">#</a> ㈢ 判断一个服务是否正常</h3><p>**需求：**判断门户网站是否能够正常访问</p><h4 id="_1-思路-2" tabindex="-1"><a class="header-anchor" href="#_1-思路-2" aria-hidden="true">#</a> ① 思路</h4><ol><li><p>可以判断进程是否存在，用/etc/init.d/httpd status判断状态等方法</p></li><li><p>最好的方法是</p><p>直接去访问</p><p>一下，通过访问成功和失败的返回值来判断</p><ul><li>Linux环境，**wget curl ** <em>elinks -dump</em></li></ul></li></ol><h4 id="_2-落地实现-2" tabindex="-1"><a class="header-anchor" href="#_2-落地实现-2" aria-hidden="true">#</a> ② 落地实现</h4><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token shebang important">#!/bin/env bash</span>
<span class="token comment"># 判断门户网站是否能够正常提供服务</span>

<span class="token comment">#定义变量</span>
<span class="token assign-left variable">web_server</span><span class="token operator">=</span>www.itcast.cn
<span class="token comment">#访问网站</span>
<span class="token function">wget</span> <span class="token parameter variable">-P</span> /shell/ <span class="token variable">$web_server</span> <span class="token operator">&amp;&gt;</span>/dev/null
<span class="token punctuation">[</span> <span class="token variable">$?</span> <span class="token parameter variable">-eq</span> <span class="token number">0</span> <span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> <span class="token builtin class-name">echo</span> <span class="token string">&quot;当前网站服务是ok&quot;</span> <span class="token operator">&amp;&amp;</span> <span class="token function">rm</span> <span class="token parameter variable">-f</span> /shell/index.* <span class="token operator">||</span> <span class="token builtin class-name">echo</span> <span class="token string">&quot;当前网站服务不ok，请立刻处理&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_3-课堂练习" tabindex="-1"><a class="header-anchor" href="#_3-课堂练习" aria-hidden="true">#</a> 3. 课堂练习</h2><h3 id="一-判断用户是否存在" tabindex="-1"><a class="header-anchor" href="#一-判断用户是否存在" aria-hidden="true">#</a> ㈠ 判断用户是否存在</h3><p>**需求1：**输入一个用户，用脚本判断该用户是否存在</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code> <span class="token comment">#!/bin/env bash</span>
  <span class="token number">2</span> <span class="token builtin class-name">read</span> <span class="token parameter variable">-p</span> <span class="token string">&quot;请输入一个用户名：&quot;</span> user_name
  <span class="token number">3</span> <span class="token function">id</span> <span class="token variable">$user_name</span> <span class="token operator">&amp;&gt;</span>/dev/null
  <span class="token number">4</span> <span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">$?</span> <span class="token parameter variable">-eq</span> <span class="token number">0</span> <span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">then</span>
  <span class="token number">6</span>     <span class="token builtin class-name">echo</span> <span class="token string">&quot;该用户存在！&quot;</span>
  <span class="token number">7</span> <span class="token keyword">else</span>
  <span class="token number">8</span>     <span class="token builtin class-name">echo</span> <span class="token string">&quot;用户不存在！&quot;</span>
  <span class="token number">9</span> <span class="token keyword">fi</span>
  
  
<span class="token comment">#!/bin/bash</span>
<span class="token comment"># 判断 用户（id） 是否存在</span>
<span class="token builtin class-name">read</span> <span class="token parameter variable">-p</span> <span class="token string">&quot;输入壹个用户：&quot;</span> <span class="token function">id</span>
<span class="token function">id</span> <span class="token variable">$id</span> <span class="token operator">&amp;&gt;</span> /dev/null
<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">$?</span> <span class="token parameter variable">-eq</span> <span class="token number">0</span> <span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">then</span>
        <span class="token builtin class-name">echo</span> <span class="token string">&quot;该用户存在&quot;</span>
<span class="token keyword">else</span>
        <span class="token builtin class-name">echo</span> <span class="token string">&quot;该用户不存在&quot;</span>
<span class="token keyword">fi</span>

<span class="token comment">#!/bin/env bash</span>
<span class="token builtin class-name">read</span> <span class="token parameter variable">-p</span> <span class="token string">&quot;请输入你要查询的用户名:&quot;</span> username
<span class="token function">grep</span> <span class="token parameter variable">-w</span> <span class="token variable">$username</span> /etc/passwd <span class="token operator">&amp;&gt;</span>/dev/null
<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">$?</span> <span class="token parameter variable">-eq</span> <span class="token number">0</span> <span class="token punctuation">]</span>
<span class="token keyword">then</span>
    <span class="token builtin class-name">echo</span> <span class="token string">&quot;该用户已存在&quot;</span>
<span class="token keyword">else</span>
    <span class="token builtin class-name">echo</span> <span class="token string">&quot;该用户不存在&quot;</span>
<span class="token keyword">fi</span>

<span class="token comment">#!/bin/bash</span>
<span class="token builtin class-name">read</span> <span class="token parameter variable">-p</span> <span class="token string">&quot;请输入你要检查的用户名：&quot;</span> name
<span class="token function">id</span> <span class="token variable">$name</span> <span class="token operator">&amp;&gt;</span>/dev/null
<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">$?</span> <span class="token parameter variable">-eq</span> <span class="token number">0</span> <span class="token punctuation">]</span>
<span class="token keyword">then</span>
<span class="token builtin class-name">echo</span> 用户<span class="token string">&quot;<span class="token variable">$name</span>&quot;</span>已经存在
<span class="token keyword">else</span>
<span class="token builtin class-name">echo</span> 用户<span class="token string">&quot;<span class="token variable">$name</span>&quot;</span>不存在
<span class="token keyword">fi</span>

<span class="token comment">#!/bin/env bash</span>
<span class="token comment">#判断用户是否存在</span>
<span class="token builtin class-name">read</span> <span class="token parameter variable">-p</span> <span class="token string">&quot;请写出用户名&quot;</span> <span class="token function">id</span>
<span class="token function">id</span> <span class="token variable">$id</span>
<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">$?</span> <span class="token parameter variable">-eq</span> <span class="token number">0</span> <span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">then</span>
        <span class="token builtin class-name">echo</span> <span class="token string">&quot;用户存在&quot;</span>
<span class="token keyword">else</span>
        <span class="token builtin class-name">echo</span> <span class="token string">&quot;用户不存在&quot;</span>
<span class="token keyword">fi</span>

<span class="token comment">#!/bin/env bash</span>
<span class="token builtin class-name">read</span> <span class="token parameter variable">-p</span> <span class="token string">&#39;请输入用户名:&#39;</span> username
<span class="token function">id</span> <span class="token variable">$username</span> <span class="token operator">&amp;&gt;</span>/dev/null
<span class="token punctuation">[</span> <span class="token variable">$?</span> <span class="token parameter variable">-eq</span> <span class="token number">0</span> <span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> <span class="token builtin class-name">echo</span> <span class="token string">&#39;用户存在&#39;</span> <span class="token operator">||</span> <span class="token builtin class-name">echo</span> <span class="token string">&#39;不存在&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="二-判断软件包是否安装" tabindex="-1"><a class="header-anchor" href="#二-判断软件包是否安装" aria-hidden="true">#</a> ㈡ 判断软件包是否安装</h3><p>**需求2：**用脚本判断一个软件包是否安装，如果没安装则安装它（假设本地yum已配合）</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code> <span class="token comment">#!/bin/env bash</span>

 <span class="token builtin class-name">read</span> <span class="token parameter variable">-p</span> <span class="token string">&#39;请输入要查询的软件: &#39;</span> soft
 <span class="token function">rpm</span> -qa<span class="token operator">|</span><span class="token function">grep</span> <span class="token variable">$soft</span>

<span class="token keyword">if</span> <span class="token punctuation">[</span><span class="token punctuation">[</span> <span class="token variable">$?</span> <span class="token operator">==</span> <span class="token number">0</span> <span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
    <span class="token builtin class-name">echo</span> <span class="token string">&quot;软件 <span class="token variable">$soft</span> 已经安装&quot;</span>
<span class="token keyword">else</span> 
    <span class="token builtin class-name">echo</span> <span class="token string">&quot;======准备安装软件 <span class="token variable">$soft</span>&quot;</span>
    <span class="token function">sudo</span> yum <span class="token function">install</span> <span class="token parameter variable">-y</span> <span class="token variable">$soft</span>
    <span class="token builtin class-name">echo</span> <span class="token string">&quot;======软件 <span class="token variable">$soft</span> 安装完成&quot;</span>
<span class="token keyword">fi</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="三-判断当前主机的内核版本" tabindex="-1"><a class="header-anchor" href="#三-判断当前主机的内核版本" aria-hidden="true">#</a> ㈢ 判断当前主机的内核版本</h3><p>**需求3：**判断当前内核主版本是否为2，且次版本是否大于等于6；如果都满足则输出当前内核版本</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>思路：
<span class="token number">1</span>. 先查看内核的版本号	<span class="token function">uname</span> <span class="token parameter variable">-r</span>
<span class="token number">2</span>. 先将内核的版本号保存到一个变量里，然后再根据需求截取出该变量的一部分：主版本和次版本
<span class="token number">3</span>. 根据需求进步判断


<span class="token comment">#!/bin/bash</span>
<span class="token assign-left variable">kernel</span><span class="token operator">=</span><span class="token variable"><span class="token variable">`</span><span class="token function">uname</span> <span class="token parameter variable">-r</span><span class="token variable">`</span></span>
<span class="token assign-left variable">var1</span><span class="token operator">=</span><span class="token variable"><span class="token variable">`</span><span class="token builtin class-name">echo</span> $kernel<span class="token operator">|</span><span class="token function">cut</span> -d. <span class="token parameter variable">-f1</span><span class="token variable">`</span></span>
<span class="token assign-left variable">var2</span><span class="token operator">=</span><span class="token variable"><span class="token variable">`</span><span class="token builtin class-name">echo</span> $kernel<span class="token operator">|</span><span class="token function">cut</span> -d. <span class="token parameter variable">-f2</span><span class="token variable">`</span></span>
<span class="token builtin class-name">test</span> <span class="token variable">$var1</span> <span class="token parameter variable">-eq</span> <span class="token number">2</span> <span class="token parameter variable">-a</span> <span class="token variable">$var2</span> <span class="token parameter variable">-ge</span> <span class="token number">6</span> <span class="token operator">&amp;&amp;</span> <span class="token builtin class-name">echo</span> <span class="token variable">$kernel</span> <span class="token operator">||</span> <span class="token builtin class-name">echo</span> <span class="token string">&quot;当前内核版本不符合要求&quot;</span>
或者
<span class="token punctuation">[</span> <span class="token variable">$var1</span> <span class="token parameter variable">-eq</span> <span class="token number">2</span> <span class="token parameter variable">-a</span> <span class="token variable">$var2</span> <span class="token parameter variable">-ge</span> <span class="token number">6</span> <span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> <span class="token builtin class-name">echo</span> <span class="token variable">$kernel</span> <span class="token operator">||</span> <span class="token builtin class-name">echo</span> <span class="token string">&quot;当前内核版本不符合要求&quot;</span>
或者
<span class="token punctuation">[</span><span class="token punctuation">[</span> <span class="token variable">$var1</span> <span class="token parameter variable">-eq</span> <span class="token number">2</span> <span class="token operator">&amp;&amp;</span> <span class="token variable">$var2</span> <span class="token parameter variable">-ge</span> <span class="token number">6</span> <span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> <span class="token builtin class-name">echo</span> <span class="token variable">$kernel</span> <span class="token operator">||</span> <span class="token builtin class-name">echo</span> <span class="token string">&quot;当前内核版本不符合要求&quot;</span>

或者
<span class="token comment">#!/bin/bash</span>
<span class="token assign-left variable">kernel</span><span class="token operator">=</span><span class="token variable"><span class="token variable">`</span><span class="token function">uname</span> <span class="token parameter variable">-r</span><span class="token variable">`</span></span>
<span class="token builtin class-name">test</span> <span class="token variable">${kernel<span class="token operator">:</span>0<span class="token operator">:</span>1}</span> <span class="token parameter variable">-eq</span> <span class="token number">2</span> <span class="token parameter variable">-a</span> <span class="token variable">${kernel<span class="token operator">:</span>2<span class="token operator">:</span>1}</span> <span class="token parameter variable">-ge</span> <span class="token number">6</span> <span class="token operator">&amp;&amp;</span> <span class="token builtin class-name">echo</span> <span class="token variable">$kernel</span> <span class="token operator">||</span> <span class="token builtin class-name">echo</span> <span class="token string">&#39;不符合要求&#39;</span>

其他命令参考：
<span class="token function">uname</span> -r<span class="token operator">|</span><span class="token function">grep</span> ^2.<span class="token punctuation">[</span><span class="token number">6</span>-9<span class="token punctuation">]</span> <span class="token operator">||</span> <span class="token builtin class-name">echo</span> <span class="token string">&#39;不符合要求&#39;</span>

<span class="token comment"># 自己实现</span>
<span class="token comment">#!/bin/env bash</span>

<span class="token comment"># 判断内核版本是否 3.10, 或者传入需要的内核版本</span>

<span class="token assign-left variable">mainVersion</span><span class="token operator">=</span><span class="token number">3</span>
<span class="token assign-left variable">minorVersion</span><span class="token operator">=</span><span class="token number">10</span>

<span class="token keyword">if</span> <span class="token punctuation">[</span><span class="token punctuation">[</span> <span class="token parameter variable">-n</span> <span class="token variable">$1</span> <span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span> 
    <span class="token assign-left variable">mainVersion</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">echo</span> $1<span class="token operator">|</span><span class="token function">cut</span> -d. <span class="token parameter variable">-f1</span><span class="token variable">)</span></span>&quot;</span>
    <span class="token assign-left variable">minorVersion</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">echo</span> $1<span class="token operator">|</span><span class="token function">cut</span> -d. <span class="token parameter variable">-f2</span><span class="token variable">)</span></span>&quot;</span>
<span class="token keyword">fi</span>

<span class="token assign-left variable">kernel</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">uname</span> <span class="token parameter variable">-r</span><span class="token variable">)</span></span>

<span class="token assign-left variable">var1</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">echo</span> $kernel<span class="token operator">|</span><span class="token function">cut</span> -d. <span class="token parameter variable">-f1</span><span class="token variable">)</span></span>
<span class="token assign-left variable">var2</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">echo</span> $kernel<span class="token operator">|</span><span class="token function">cut</span> -d. <span class="token parameter variable">-f2</span><span class="token variable">)</span></span>

<span class="token punctuation">[</span><span class="token punctuation">[</span> <span class="token variable">$var1</span> <span class="token operator">==</span> <span class="token string">&quot;<span class="token variable">$mainVersion</span>&quot;</span> <span class="token operator">&amp;&amp;</span> <span class="token variable">$var2</span> <span class="token operator">==</span> <span class="token string">&quot;<span class="token variable">$minorVersion</span>&quot;</span> <span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> <span class="token builtin class-name">echo</span> <span class="token string">&quot;当前内核 <span class="token variable">$var1</span>.<span class="token variable">$var2</span> 符合要求&quot;</span>  <span class="token operator">||</span> <span class="token builtin class-name">echo</span> <span class="token string">&quot;当前内核 <span class="token variable">$var1</span>.<span class="token variable">$var2</span> 不符合要求, 需要 <span class="token variable">$mainVersion</span>.<span class="token variable">$minorVersion</span> &quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>一、for循环语句 <ul><li>\1. for循环语法结构 <ul><li><a href="https://note.youdao.com/md/preview.html?file=%2Fyws%2Fapi%2Fpersonal%2Ffile%2F57E7E4739A804C0DA2FE8B40062A8D88%3Fmethod%3Ddownload%26read%3Dtrue%26shareKey%3Db402ca42248d060e7bdd5ee145f47cc5#%E4%B8%80-%E5%88%97%E8%A1%A8%E5%BE%AA%E7%8E%AF" target="_blank" rel="noopener noreferrer">㈠ 列表循环<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li><a href="https://note.youdao.com/md/preview.html?file=%2Fyws%2Fapi%2Fpersonal%2Ffile%2F57E7E4739A804C0DA2FE8B40062A8D88%3Fmethod%3Ddownload%26read%3Dtrue%26shareKey%3Db402ca42248d060e7bdd5ee145f47cc5#%E4%BA%8C-%E4%B8%8D%E5%B8%A6%E5%88%97%E8%A1%A8%E5%BE%AA%E7%8E%AF" target="_blank" rel="noopener noreferrer">㈡ 不带列表循环<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li><a href="https://note.youdao.com/md/preview.html?file=%2Fyws%2Fapi%2Fpersonal%2Ffile%2F57E7E4739A804C0DA2FE8B40062A8D88%3Fmethod%3Ddownload%26read%3Dtrue%26shareKey%3Db402ca42248d060e7bdd5ee145f47cc5#%E4%B8%89-%E7%B1%BBc%E9%A3%8E%E6%A0%BC%E7%9A%84for%E5%BE%AA%E7%8E%AF" target="_blank" rel="noopener noreferrer">㈢ 类C风格的for循环<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li></ul></li><li>\2. 应用案例 <ul><li>㈠ 脚本计算1-100奇数和 <ul><li><a href="https://note.youdao.com/md/preview.html?file=%2Fyws%2Fapi%2Fpersonal%2Ffile%2F57E7E4739A804C0DA2FE8B40062A8D88%3Fmethod%3Ddownload%26read%3Dtrue%26shareKey%3Db402ca42248d060e7bdd5ee145f47cc5#1-%E6%80%9D%E8%B7%AF" target="_blank" rel="noopener noreferrer">① 思路<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li><a href="https://note.youdao.com/md/preview.html?file=%2Fyws%2Fapi%2Fpersonal%2Ffile%2F57E7E4739A804C0DA2FE8B40062A8D88%3Fmethod%3Ddownload%26read%3Dtrue%26shareKey%3Db402ca42248d060e7bdd5ee145f47cc5#2-%E8%90%BD%E5%9C%B0%E5%AE%9E%E7%8E%B0%E6%9D%A1%E6%9D%A1%E5%A4%A7%E8%B7%AF%E9%80%9A%E7%BD%97%E9%A9%AC" target="_blank" rel="noopener noreferrer">② 落地实现（条条大路通罗马）<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li><a href="https://note.youdao.com/md/preview.html?file=%2Fyws%2Fapi%2Fpersonal%2Ffile%2F57E7E4739A804C0DA2FE8B40062A8D88%3Fmethod%3Ddownload%26read%3Dtrue%26shareKey%3Db402ca42248d060e7bdd5ee145f47cc5#3-%E5%BE%AA%E7%8E%AF%E6%8E%A7%E5%88%B6%E8%AF%AD%E5%8F%A5" target="_blank" rel="noopener noreferrer">③ 循环控制语句<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li></ul></li><li>㈡ 判断所输整数是否为质数 <ul><li><a href="https://note.youdao.com/md/preview.html?file=%2Fyws%2Fapi%2Fpersonal%2Ffile%2F57E7E4739A804C0DA2FE8B40062A8D88%3Fmethod%3Ddownload%26read%3Dtrue%26shareKey%3Db402ca42248d060e7bdd5ee145f47cc5#1-%E6%80%9D%E8%B7%AF-2" target="_blank" rel="noopener noreferrer">① 思路<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li><a href="https://note.youdao.com/md/preview.html?file=%2Fyws%2Fapi%2Fpersonal%2Ffile%2F57E7E4739A804C0DA2FE8B40062A8D88%3Fmethod%3Ddownload%26read%3Dtrue%26shareKey%3Db402ca42248d060e7bdd5ee145f47cc5#2-%E8%90%BD%E5%9C%B0%E5%AE%9E%E7%8E%B0" target="_blank" rel="noopener noreferrer">② 落地实现<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li></ul></li><li>㈢ 批量创建用户 <ul><li><a href="https://note.youdao.com/md/preview.html?file=%2Fyws%2Fapi%2Fpersonal%2Ffile%2F57E7E4739A804C0DA2FE8B40062A8D88%3Fmethod%3Ddownload%26read%3Dtrue%26shareKey%3Db402ca42248d060e7bdd5ee145f47cc5#1-%E6%80%9D%E8%B7%AF-3" target="_blank" rel="noopener noreferrer">① 思路<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li><a href="https://note.youdao.com/md/preview.html?file=%2Fyws%2Fapi%2Fpersonal%2Ffile%2F57E7E4739A804C0DA2FE8B40062A8D88%3Fmethod%3Ddownload%26read%3Dtrue%26shareKey%3Db402ca42248d060e7bdd5ee145f47cc5#2-%E8%90%BD%E5%9C%B0%E5%AE%9E%E7%8E%B0-2" target="_blank" rel="noopener noreferrer">② 落地实现<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li></ul></li></ul></li><li>\3. 课堂练习 <ul><li><a href="https://note.youdao.com/md/preview.html?file=%2Fyws%2Fapi%2Fpersonal%2Ffile%2F57E7E4739A804C0DA2FE8B40062A8D88%3Fmethod%3Ddownload%26read%3Dtrue%26shareKey%3Db402ca42248d060e7bdd5ee145f47cc5#%E4%B8%80-%E6%89%B9%E9%87%8F%E5%88%9B%E5%BB%BA%E7%94%A8%E6%88%B7" target="_blank" rel="noopener noreferrer">㈠ 批量创建用户<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li><a href="https://note.youdao.com/md/preview.html?file=%2Fyws%2Fapi%2Fpersonal%2Ffile%2F57E7E4739A804C0DA2FE8B40062A8D88%3Fmethod%3Ddownload%26read%3Dtrue%26shareKey%3Db402ca42248d060e7bdd5ee145f47cc5#%E4%BA%8C-%E5%B1%80%E5%9F%9F%E7%BD%91%E5%86%85%E8%84%9A%E6%9C%AC%E6%A3%80%E6%9F%A5%E4%B8%BB%E6%9C%BA%E7%BD%91%E7%BB%9C%E9%80%9A%E8%AE%AF" target="_blank" rel="noopener noreferrer">㈡ 局域网内脚本检查主机网络通讯<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li><a href="https://note.youdao.com/md/preview.html?file=%2Fyws%2Fapi%2Fpersonal%2Ffile%2F57E7E4739A804C0DA2FE8B40062A8D88%3Fmethod%3Ddownload%26read%3Dtrue%26shareKey%3Db402ca42248d060e7bdd5ee145f47cc5#%E4%B8%89-%E5%88%A4%E6%96%AD%E9%97%B0%E5%B9%B4" target="_blank" rel="noopener noreferrer">㈢ 判断闰年<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li></ul></li><li>\2. 应用案例 <ul><li><a href="https://note.youdao.com/md/preview.html?file=%2Fyws%2Fapi%2Fpersonal%2Ffile%2F57E7E4739A804C0DA2FE8B40062A8D88%3Fmethod%3Ddownload%26read%3Dtrue%26shareKey%3Db402ca42248d060e7bdd5ee145f47cc5#%E4%B8%80-%E8%84%9A%E6%9C%AC%E8%AE%A1%E7%AE%971-50%E5%81%B6%E6%95%B0%E5%92%8C" target="_blank" rel="noopener noreferrer">㈠ 脚本计算1-50偶数和<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li>㈡ 脚本同步系统时间 <ul><li><a href="https://note.youdao.com/md/preview.html?file=%2Fyws%2Fapi%2Fpersonal%2Ffile%2F57E7E4739A804C0DA2FE8B40062A8D88%3Fmethod%3Ddownload%26read%3Dtrue%26shareKey%3Db402ca42248d060e7bdd5ee145f47cc5#1-%E5%85%B7%E4%BD%93%E9%9C%80%E6%B1%82" target="_blank" rel="noopener noreferrer">① 具体需求<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li><a href="https://note.youdao.com/md/preview.html?file=%2Fyws%2Fapi%2Fpersonal%2Ffile%2F57E7E4739A804C0DA2FE8B40062A8D88%3Fmethod%3Ddownload%26read%3Dtrue%26shareKey%3Db402ca42248d060e7bdd5ee145f47cc5#2-%E6%80%9D%E8%B7%AF" target="_blank" rel="noopener noreferrer">② 思路<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li><a href="https://note.youdao.com/md/preview.html?file=%2Fyws%2Fapi%2Fpersonal%2Ffile%2F57E7E4739A804C0DA2FE8B40062A8D88%3Fmethod%3Ddownload%26read%3Dtrue%26shareKey%3Db402ca42248d060e7bdd5ee145f47cc5#3-%E8%90%BD%E5%9C%B0%E5%AE%9E%E7%8E%B0" target="_blank" rel="noopener noreferrer">③ 落地实现<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li></ul></li></ul></li><li><a href="https://note.youdao.com/md/preview.html?file=%2Fyws%2Fapi%2Fpersonal%2Ffile%2F57E7E4739A804C0DA2FE8B40062A8D88%3Fmethod%3Ddownload%26read%3Dtrue%26shareKey%3Db402ca42248d060e7bdd5ee145f47cc5#1-until%E8%AF%AD%E6%B3%95%E7%BB%93%E6%9E%84" target="_blank" rel="noopener noreferrer">1. until语法结构<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li>\2. 应用案例 <ul><li><a href="https://note.youdao.com/md/preview.html?file=%2Fyws%2Fapi%2Fpersonal%2Ffile%2F57E7E4739A804C0DA2FE8B40062A8D88%3Fmethod%3Ddownload%26read%3Dtrue%26shareKey%3Db402ca42248d060e7bdd5ee145f47cc5#%E4%BA%8C-%E6%80%9D%E8%B7%AF" target="_blank" rel="noopener noreferrer">㈡ 思路<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li><a href="https://note.youdao.com/md/preview.html?file=%2Fyws%2Fapi%2Fpersonal%2Ffile%2F57E7E4739A804C0DA2FE8B40062A8D88%3Fmethod%3Ddownload%26read%3Dtrue%26shareKey%3Db402ca42248d060e7bdd5ee145f47cc5#%E4%B8%89-%E8%90%BD%E5%9C%B0%E5%AE%9E%E7%8E%B0" target="_blank" rel="noopener noreferrer">㈢ 落地实现<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li></ul></li></ul></li><li><a href="https://note.youdao.com/md/preview.html?file=%2Fyws%2Fapi%2Fpersonal%2Ffile%2F57E7E4739A804C0DA2FE8B40062A8D88%3Fmethod%3Ddownload%26read%3Dtrue%26shareKey%3Db402ca42248d060e7bdd5ee145f47cc5#%E5%9B%9B-%E8%AF%BE%E5%90%8E%E4%BD%9C%E4%B8%9A" target="_blank" rel="noopener noreferrer">四、课后作业<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li></ul><p>#本机课程目标</p><ul><li>掌握for循环语句的基本语法结构</li><li>掌握while和until循环语句的基本语法结构</li></ul><h1 id="一、for循环语句" tabindex="-1"><a class="header-anchor" href="#一、for循环语句" aria-hidden="true">#</a> 一、for循环语句</h1><p><strong>关键词：爱的魔力转圈圈</strong>😇</p><h2 id="_1-for循环语法结构" tabindex="-1"><a class="header-anchor" href="#_1-for循环语法结构" aria-hidden="true">#</a> 1. for循环语法结构</h2><h3 id="一-列表循环" tabindex="-1"><a class="header-anchor" href="#一-列表循环" aria-hidden="true">#</a> ㈠ 列表循环</h3><blockquote><p>列表for循环：用于将一组命令执行<strong>已知的次数</strong></p></blockquote><ul><li><strong>基本语法格式</strong></li></ul><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token keyword">for</span> <span class="token for-or-select variable">variable</span> <span class="token keyword">in</span> <span class="token punctuation">{</span>list<span class="token punctuation">}</span>
     <span class="token keyword">do</span>
          <span class="token builtin class-name">command</span> 
          <span class="token builtin class-name">command</span>
          …
     <span class="token keyword">done</span>
或者
<span class="token keyword">for</span> <span class="token for-or-select variable">variable</span> <span class="token keyword">in</span> a b c
     <span class="token keyword">do</span>
         <span class="token builtin class-name">command</span>
         <span class="token builtin class-name">command</span>
     <span class="token keyword">done</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><strong>举例说明</strong></li></ul><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code># for var in {1..10};do echo $var;done
# for var in 1 2 3 4 5;do echo $var;done
# for var in `seq 10`;do echo $var;done
# for var in $(seq 10);do echo $var;done
# for var in {0..10..2};do echo $var;done
# for var in {2..10..2};do echo $var;done
# for var in {10..1};do echo $var;done
# for var in {10..1..-2};do echo $var;done
# for var in `seq 10 -2 1`;do echo $var;done
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="二-不带列表循环" tabindex="-1"><a class="header-anchor" href="#二-不带列表循环" aria-hidden="true">#</a> ㈡ 不带列表循环</h3><blockquote><p>不带列表的for循环执行时由<strong>用户指定参数和参数的个数</strong></p></blockquote><ul><li><strong>基本语法格式</strong></li></ul><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>for variable
    do
        command 
        command
        …
   done
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><strong>举例说明</strong></li></ul><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>#!/bin/bash
for var
do
echo $var
done

echo &quot;脚本后面有$#个参数&quot;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="三-类c风格的for循环" tabindex="-1"><a class="header-anchor" href="#三-类c风格的for循环" aria-hidden="true">#</a> ㈢ 类C风格的for循环</h3><ul><li><strong>基本语法结构</strong></li></ul><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>for(( expr1;expr2;expr3 ))
	do
		command
		command
		…
	done
for (( i=1;i&lt;=5;i++))
	do
		echo $i
	done


expr1：定义变量并赋初值
expr2：决定是否进行循环（条件）
expr3：决定循环变量如何改变，决定循环什么时候退出
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><strong>举例说明</strong></li></ul><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code> # for ((i=1;i&lt;=5;i++));do echo $i;done
 # for ((i=1;i&lt;=10;i+=2));do echo $i;done
 # for ((i=2;i&lt;=10;i+=2));do echo $i;done
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_2-应用案例-1" tabindex="-1"><a class="header-anchor" href="#_2-应用案例-1" aria-hidden="true">#</a> 2. 应用案例</h2><h3 id="一-脚本计算1-100奇数和" tabindex="-1"><a class="header-anchor" href="#一-脚本计算1-100奇数和" aria-hidden="true">#</a> ㈠ 脚本计算1-100奇数和</h3><h4 id="_1-思路-3" tabindex="-1"><a class="header-anchor" href="#_1-思路-3" aria-hidden="true">#</a> ① 思路</h4><ol><li>定义一个变量来保存奇数的和 sum=0</li><li>找出1-100的奇数，保存到另一个变量里 i=遍历出来的奇数</li><li>从1-100中找出奇数后，再相加，然后将和赋值给变量 循环变量 for</li><li>遍历完毕后，将sum的值打印出来</li></ol><h4 id="_2-落地实现-条条大路通罗马" tabindex="-1"><a class="header-anchor" href="#_2-落地实现-条条大路通罗马" aria-hidden="true">#</a> ② 落地实现（条条大路通罗马）</h4><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>#!/bin/env bash
# 计算1-100的奇数和
# 定义变量来保存奇数和
sum=0

#for循环遍历1-100的奇数，并且相加，把结果重新赋值给sum

for i in {1..100..2}
do
	let sum=$sum+$i
done
#打印所有奇数的和
echo &quot;1-100的奇数和是:$sum&quot;


方法1：
#!/bin/bash
sum=0
for i in {1..100..2}
do
	sum=$[$i+$sum]
done
echo &quot;1-100的奇数和为:$sum&quot;

方法2：
#!/bin/bash
sum=0
for ((i=1;i&lt;=100;i+=2))
do
	let sum=$i+$sum
done
echo &quot;1-100的奇数和为:$sum&quot;

方法3：
#!/bin/bash
sum=0
for ((i=1;i&lt;=100;i++))
do
	if [ $[$i%2] -ne 0 ];then
	let sum=$sum+$i
	fi
或者
test $[$i%2] -ne 0 &amp;&amp; let sum=$sum+$i

done
echo &quot;1-100的奇数和为:$sum&quot;

方法4：
sum=0
for ((i=1;i&lt;=100;i++))
do
	if [ $[$i%2] -eq 0 ];then
	continue
	else
	let sum=$sum+$i
	fi
done
echo &quot;1-100的奇数和为:$sum&quot;

#!/bin/bash
sum=0
for ((i=1;i&lt;=100;i++))
do
	test $[$i%2] -eq 0 &amp;&amp; continue || let sum=sum+$i
done
echo &quot;1-100的奇数和是:$sum&quot;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_3-循环控制语句" tabindex="-1"><a class="header-anchor" href="#_3-循环控制语句" aria-hidden="true">#</a> ③ 循环控制语句</h4><p><strong>循环体：</strong> do....done之间的内容</p><ul><li>continue：继续；表示循环体内下面的代码不执行，重新开始下一次循环</li><li>break：打断；马上停止执行本次循环，执行循环体后面的代码</li><li>exit：表示直接跳出程序</li></ul><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>[root@server ~]# cat for5.sh 
#!/bin/bash
for i in {1..5}
do
	test $i -eq 2 &amp;&amp; break || touch /tmp/file$i
done
echo hello hahahah
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="二-判断所输整数是否为质数" tabindex="-1"><a class="header-anchor" href="#二-判断所输整数是否为质数" aria-hidden="true">#</a> ㈡ 判断所输整数是否为质数</h3><p>**质数(素数)：**只能被1和它本身整除的数叫质数。 2 3 5 7 11 13 17 19 23 29 31 37 41 43 47 53 59 61 67 71 73 79 83 89 97</p><h4 id="_1-思路-4" tabindex="-1"><a class="header-anchor" href="#_1-思路-4" aria-hidden="true">#</a> ① 思路</h4><ol><li>让用户输入一个数，保存到一个变量里</li><li>如果能被其他数整除就不是质数——&gt;<code>$num%$i</code>是否等于0 <code>$i=2到$num-1</code></li><li>如果输入的数是1或者2取模根据上面判断又不符合，所以先排除1和2</li><li>测试序列从2开始，输入的数是4——&gt;得出结果<code>$num</code>不能和<code>$i</code>相等，并且<code>$num</code>不能小于<code>$i</code></li></ol><h4 id="_2-落地实现-3" tabindex="-1"><a class="header-anchor" href="#_2-落地实现-3" aria-hidden="true">#</a> ② 落地实现</h4><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>#!/bin/bash
read -p &quot;请输入一个正整数字:&quot; number

[ $number -eq 1 ] &amp;&amp; echo &quot;$number不是质数&quot; &amp;&amp; exit
[ $number -eq 2 ] &amp;&amp; echo &quot;$number是质数&quot; &amp;&amp; exit

for i in `seq 2 $[$number-1]`
	do
	 [ $[$number%$i] -eq 0 ] &amp;&amp; echo &quot;$number不是质数&quot; &amp;&amp; exit
	done
echo &quot;$number是质数&quot; &amp;&amp; exit
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="三-批量创建用户" tabindex="-1"><a class="header-anchor" href="#三-批量创建用户" aria-hidden="true">#</a> ㈢ 批量创建用户</h3><p>**需求：**批量加5个新用户，以u1到u5命名，并统一加一个新组，组名为class,统一改密码为123</p><h4 id="_1-思路-5" tabindex="-1"><a class="header-anchor" href="#_1-思路-5" aria-hidden="true">#</a> ① 思路</h4><ol><li>添加用户的命令</li><li>判断class组是否存在</li><li>根据题意，判断该脚本循环5次来添加用户</li><li>给用户设置密码，应该放到循环体里面</li></ol><h4 id="_2-落地实现-4" tabindex="-1"><a class="header-anchor" href="#_2-落地实现-4" aria-hidden="true">#</a> ② 落地实现</h4><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>方法一：
#!/bin/bash
#判断class组是否存在
grep -w class /etc/group &amp;&gt;/dev/null
[ $? -ne 0 ] &amp;&amp; groupadd class
#批量创建5个用户
for i in {1..5}
do
	useradd -G class u$i
	echo 123|passwd --stdin u$i
done

方法二：
#!/bin/bash
#判断class组是否存在
cut -d: -f1 /etc/group|grep -w class &amp;&gt;/dev/null
[ $? -ne 0 ] &amp;&amp; groupadd class

#循环增加用户，循环次数5次，for循环,给用户设定密码
for ((i=1;i&lt;=5;i++))
do
	useradd u$i -G class
	echo 123|passwd --stdin u$i
done


方法三：
#!/bin/bash
grep -w class /etc/group &amp;&gt;/dev/null
test $? -ne 0 &amp;&amp; groupadd class
或者
groupadd class &amp;&gt;/dev/null

for ((i=1;i&lt;=5;i++))
do
useradd -G class u$i &amp;&amp; echo 123|passwd --stdin u$i
done
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_3-课堂练习-1" tabindex="-1"><a class="header-anchor" href="#_3-课堂练习-1" aria-hidden="true">#</a> 3. 课堂练习</h2><h3 id="一-批量创建用户" tabindex="-1"><a class="header-anchor" href="#一-批量创建用户" aria-hidden="true">#</a> ㈠ 批量创建用户</h3><p>**需求1:**批量新建5个用户stu1~stu5，要求这几个用户的家目录都在/rhome.</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>#!/bin/bash
#判断/rhome是否存在
[ -f /rhome ] &amp;&amp; mv /rhome /rhome.bak
test ! -f /rhome -a ! -d /rhome &amp;&amp; mkdir /rhome
或者
[ -f /rhome ] &amp;&amp; mv /rhome /rhome.bak || [ ! -d /rhome ] &amp;&amp; mkdir /rhome 
#创建用户，循环5次
for ((i=1;i&lt;=5;i++))
do
	useradd -d /rhome/stu$i stu$i
	echo 123|passwd --stdin stu$i
done
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="二-局域网内脚本检查主机网络通讯" tabindex="-1"><a class="header-anchor" href="#二-局域网内脚本检查主机网络通讯" aria-hidden="true">#</a> ㈡ 局域网内脚本检查主机网络通讯</h3><p><strong>需求2：</strong></p><p>写一个脚本，局域网内，把能ping通的IP和不能ping通的IP分类，并保存到两个文本文件里</p><p>以10.1.1.1~10.1.1.10为例</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>#!/bin/bash
#定义变量
ip=10.1.1
#循环去ping主机的IP
for ((i=1;i&lt;=10;i++))
do
	ping -c1 $ip.$i &amp;&gt;/dev/null
	if [ $? -eq 0 ];then
		echo &quot;$ip.$i is ok&quot; &gt;&gt; /tmp/ip_up.txt
	else
		echo &quot;$ip.$i is down&quot; &gt;&gt; /tmp/ip_down.txt
	fi
	或者
	[ $? -eq 0 ] &amp;&amp; echo &quot;$ip.$i is ok&quot; &gt;&gt; /tmp/ip_up.txt || echo &quot;$ip.$i is down&quot; &gt;&gt; /tmp/ip_down.txt
done

[root@server shell03]# time ./ping.sh         

real    0m24.129s
user    0m0.006s
sys     0m0.005s
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>延伸扩展：shell脚本并发</strong></p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>并行执行：
{程序}&amp;表示将程序放到后台并行执行，如果需要等待程序执行完毕再进行下面内容，需要加wait

#!/bin/bash
#定义变量
ip=10.1.1
#循环去ping主机的IP
for ((i=1;i&lt;=10;i++))
do
{

        ping -c1 $ip.$i &amp;&gt;/dev/null
        if [ $? -eq 0 ];then
                echo &quot;$ip.$i is ok&quot; &gt;&gt; /tmp/ip_up.txt
        else
                echo &quot;$ip.$i is down&quot; &gt;&gt; /tmp/ip_down.txt
        fi
}&amp;
done
wait
echo &quot;ip is ok....&quot;

[root@server ~]# time ./ping.sh 
ip is ok...

real    0m3.091s
user    0m0.001s
sys     0m0.008s
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="三-判断闰年" tabindex="-1"><a class="header-anchor" href="#三-判断闰年" aria-hidden="true">#</a> ㈢ 判断闰年</h3><p><strong>需求3：</strong></p><p>输入一个年份，判断是否是润年（能被4整除但不能被100整除，或能被400整除的年份即为闰年）</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>#!/bin/bash
read -p &quot;Please input year:(2017)&quot; year
if [ $[$year%4] -eq 0 -a $[$year%100] -ne 0 ];then
	echo &quot;$year is leap year&quot;
elif [ $[$year%400] -eq 0 ];then
	echo &quot;$year is leap year&quot;
else
	echo &quot;$year is not leap year&quot;
fi
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>##4. 总结</p><ul><li>FOR循环语法结构</li><li>FOR循环可以结合条件判断和流程控制语句 <ul><li>do ......done 循环体</li><li>循环体里可以是命令集合，再加上条件判断以及流程控制</li></ul></li><li>控制循环语句 <ul><li>continue 继续，跳过本次循环，继续下一次循环</li><li>break 打断，跳出循环，执行循环体外的代码</li><li>exit 退出，直接退出程序</li></ul></li></ul><p>#二、while循环语句</p><p>**特点：**条件为真就进入循环；条件为假就退出循环</p><p>##1. while循环语法结构</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>while 表达式
	do
		command...
	done
	
while  [ 1 -eq 1 ] 或者 (( 1 &gt; 2 ))
  do
     command
     command
     ...
 done
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>循环打印1-5数字</strong></p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>FOR循环打印：
for ((i=1;i&lt;=5;i++))
do
	echo $i
done

while循环打印：
i=1
while [ $i -le 5 ]
do
	echo $i
	let i++
done
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_2-应用案例-2" tabindex="-1"><a class="header-anchor" href="#_2-应用案例-2" aria-hidden="true">#</a> 2. 应用案例</h2><h3 id="一-脚本计算1-50偶数和" tabindex="-1"><a class="header-anchor" href="#一-脚本计算1-50偶数和" aria-hidden="true">#</a> ㈠ 脚本计算1-50偶数和</h3><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>#!/bin/bash
#定义变量
sum=0
i=2
#循环打印1-50的偶数和并且计算后重新赋值给sum
while [ $i -le 50 ]
do
	let sum=sum+i
	let i+=2
done
#打印sum的值
echo &quot;1-50的偶数和为:$sum&quot;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="二-脚本同步系统时间" tabindex="-1"><a class="header-anchor" href="#二-脚本同步系统时间" aria-hidden="true">#</a> ㈡ 脚本同步系统时间</h3><h4 id="_1-具体需求" tabindex="-1"><a class="header-anchor" href="#_1-具体需求" aria-hidden="true">#</a> ① 具体需求</h4><ol><li>写一个脚本，30秒同步一次系统时间，时间同步服务器10.1.1.1</li><li>如果同步失败，则进行邮件报警,每次失败都报警</li><li>同步成功,也进行邮件通知,但是成功100次才通知一次</li></ol><h4 id="_2-思路" tabindex="-1"><a class="header-anchor" href="#_2-思路" aria-hidden="true">#</a> ② 思路</h4><ol><li>每个30s同步一次时间，该脚本是一个死循环</li><li>同步失败发送邮件</li><li>同步成功100次发送邮件</li></ol><h4 id="_3-落地实现" tabindex="-1"><a class="header-anchor" href="#_3-落地实现" aria-hidden="true">#</a> ③ 落地实现</h4><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>#!/bin/bash
#定义变量
count=0
ntp_server=10.1.1.1
while true
do
	rdate -s $ntp-server &amp;&gt;/dev/null
	if [ $? -ne 0 ];then
		echo &quot;system date failed&quot; |mail -s &#39;check system date&#39;  root@localhost	
	else
		let count++
		if [ $[$count%100] -eq 0 ];then
		echo &quot;system date successfull&quot; |mail -s &#39;check system date&#39;  root@localhost &amp;&amp; count=0
		fi
	fi
sleep 3
done

以上脚本还有更多的写法，课后自己完成
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>#三、until循环</p><p><strong>特点</strong>：条件为假就进入循环；条件为真就退出循环</p><h2 id="_1-until语法结构" tabindex="-1"><a class="header-anchor" href="#_1-until语法结构" aria-hidden="true">#</a> 1. until语法结构</h2><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>until expression   [ 1 -eq 1 ]  (( 1 &gt;= 1 ))
	do
		command
		command
		...
	done
	
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>打印1-5数字</strong></p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>i=1
while [ $i -le 5 ]
do
	echo $i
	let i++
done

i=1
until [ $i -gt 5 ]
do
	echo $i
	let i++
done
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_2-应用案例-3" tabindex="-1"><a class="header-anchor" href="#_2-应用案例-3" aria-hidden="true">#</a> 2. 应用案例</h2><p>###㈠ 具体需求</p><ol><li>使用until语句批量创建10个用户，要求stu1—stu5用户的UID分别为1001—1005；</li><li>stu6~stu10用户的家目录分别在/rhome/stu6—/rhome/stu10</li></ol><h3 id="二-思路" tabindex="-1"><a class="header-anchor" href="#二-思路" aria-hidden="true">#</a> ㈡ 思路</h3><h3 id="三-落地实现" tabindex="-1"><a class="header-anchor" href="#三-落地实现" aria-hidden="true">#</a> ㈢ 落地实现</h3><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>#!/bin/bash
i=1
until [ $i -gt 10 ]
do
	if [ $i -le 5 ];then
		useradd -u $[1000+$i] stu$i &amp;&amp; echo 123|passwd --stdin stu$i
	else
		[ ! -d /rhome ] &amp;&amp; mkdir /rhome
		useradd -d /rhome/stu$i stu$i &amp;&amp; echo 123|passwd --stdin stu$i		
	fi
let i++
done
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="四、课后作业" tabindex="-1"><a class="header-anchor" href="#四、课后作业" aria-hidden="true">#</a> 四、课后作业</h1><ol><li>判断/tmp/run目录是否存在，如果不存在就建立，如果存在就删除目录里所有文件</li><li>输入一个路径，判断路径是否存在，而且输出是文件还是目录，如果是链接文件，还得输出是 有效的连接还是无效的连接</li><li>交互模式要求输入一个ip，然后脚本判断这个IP 对应的主机是否 能ping 通，输出结果类似于： Server 10.1.1.20 is Down! 最后要求把结果邮件到本地管理员root@localhost mail01@localhost</li><li>写一个脚本/home/program，要求当给脚本输入参数hello时，脚本返回world,给脚本输入参数world时，脚本返回hello。而脚本没有参数或者参数错误时，屏幕上输出“usage:/home/program hello or world”</li><li>写一个脚本自动搭建nfs服务</li></ol><ul><li>一、随机数 <ul><li><a href="https://note.youdao.com/md/preview.html?file=%2Fyws%2Fapi%2Fpersonal%2Ffile%2FDE68AFB232754CC3B69719EA221D1357%3Fmethod%3Ddownload%26read%3Dtrue%26shareKey%3Db402ca42248d060e7bdd5ee145f47cc5#1-%E5%A6%82%E4%BD%95%E7%94%9F%E6%88%90%E9%9A%8F%E6%9C%BA%E6%95%B0" target="_blank" rel="noopener noreferrer">1. 如何生成随机数？<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li>\2. 实战案例 <ul><li>㈠ 随机产生以139开头的电话号码 <ul><li><a href="https://note.youdao.com/md/preview.html?file=%2Fyws%2Fapi%2Fpersonal%2Ffile%2FDE68AFB232754CC3B69719EA221D1357%3Fmethod%3Ddownload%26read%3Dtrue%26shareKey%3Db402ca42248d060e7bdd5ee145f47cc5#1-%E6%80%9D%E8%B7%AF" target="_blank" rel="noopener noreferrer">① 思路<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li><a href="https://note.youdao.com/md/preview.html?file=%2Fyws%2Fapi%2Fpersonal%2Ffile%2FDE68AFB232754CC3B69719EA221D1357%3Fmethod%3Ddownload%26read%3Dtrue%26shareKey%3Db402ca42248d060e7bdd5ee145f47cc5#2-%E8%90%BD%E5%9C%B0%E5%AE%9E%E7%8E%B0" target="_blank" rel="noopener noreferrer">② 落地实现<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li></ul></li><li>㈡ 随机抽出5位幸运观众 <ul><li><a href="https://note.youdao.com/md/preview.html?file=%2Fyws%2Fapi%2Fpersonal%2Ffile%2FDE68AFB232754CC3B69719EA221D1357%3Fmethod%3Ddownload%26read%3Dtrue%26shareKey%3Db402ca42248d060e7bdd5ee145f47cc5#1-%E6%80%9D%E8%B7%AF-2" target="_blank" rel="noopener noreferrer">① 思路<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li><a href="https://note.youdao.com/md/preview.html?file=%2Fyws%2Fapi%2Fpersonal%2Ffile%2FDE68AFB232754CC3B69719EA221D1357%3Fmethod%3Ddownload%26read%3Dtrue%26shareKey%3Db402ca42248d060e7bdd5ee145f47cc5#2-%E8%90%BD%E5%9C%B0%E5%AE%9E%E7%8E%B0-2" target="_blank" rel="noopener noreferrer">② 落地实现<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li></ul></li><li>㈢ 批量创建用户(密码随机产生) <ul><li><a href="https://note.youdao.com/md/preview.html?file=%2Fyws%2Fapi%2Fpersonal%2Ffile%2FDE68AFB232754CC3B69719EA221D1357%3Fmethod%3Ddownload%26read%3Dtrue%26shareKey%3Db402ca42248d060e7bdd5ee145f47cc5#1-%E6%80%9D%E8%B7%AF-3" target="_blank" rel="noopener noreferrer">① 思路<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li><a href="https://note.youdao.com/md/preview.html?file=%2Fyws%2Fapi%2Fpersonal%2Ffile%2FDE68AFB232754CC3B69719EA221D1357%3Fmethod%3Ddownload%26read%3Dtrue%26shareKey%3Db402ca42248d060e7bdd5ee145f47cc5#2-%E8%90%BD%E5%9C%B0%E5%AE%9E%E7%8E%B0-3" target="_blank" rel="noopener noreferrer">② 落地实现<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li></ul></li></ul></li></ul></li><li>二、嵌套循环 <ul><li><ul><li><a href="https://note.youdao.com/md/preview.html?file=%2Fyws%2Fapi%2Fpersonal%2Ffile%2FDE68AFB232754CC3B69719EA221D1357%3Fmethod%3Ddownload%26read%3Dtrue%26shareKey%3Db402ca42248d060e7bdd5ee145f47cc5#%E4%B8%80-%E6%89%93%E5%8D%B0%E6%8C%87%E5%AE%9A%E5%9B%BE%E6%A1%88" target="_blank" rel="noopener noreferrer">㈠ 打印指定图案<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li></ul></li><li><a href="https://note.youdao.com/md/preview.html?file=%2Fyws%2Fapi%2Fpersonal%2Ffile%2FDE68AFB232754CC3B69719EA221D1357%3Fmethod%3Ddownload%26read%3Dtrue%26shareKey%3Db402ca42248d060e7bdd5ee145f47cc5#%E4%BA%8C-%E8%90%BD%E5%9C%B0%E5%AE%9E%E7%8E%B01" target="_blank" rel="noopener noreferrer">㈡ 落地实现1<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li><a href="https://note.youdao.com/md/preview.html?file=%2Fyws%2Fapi%2Fpersonal%2Ffile%2FDE68AFB232754CC3B69719EA221D1357%3Fmethod%3Ddownload%26read%3Dtrue%26shareKey%3Db402ca42248d060e7bdd5ee145f47cc5#%E4%B8%89-%E8%90%BD%E5%9C%B0%E5%AE%9E%E7%8E%B02" target="_blank" rel="noopener noreferrer">㈢ 落地实现2<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li></ul></li><li>三、阶段性补充总结 <ul><li><a href="https://note.youdao.com/md/preview.html?file=%2Fyws%2Fapi%2Fpersonal%2Ffile%2FDE68AFB232754CC3B69719EA221D1357%3Fmethod%3Ddownload%26read%3Dtrue%26shareKey%3Db402ca42248d060e7bdd5ee145f47cc5#1-%E5%8F%98%E9%87%8F%E5%AE%9A%E4%B9%89" target="_blank" rel="noopener noreferrer">1、变量定义<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li><a href="https://note.youdao.com/md/preview.html?file=%2Fyws%2Fapi%2Fpersonal%2Ffile%2FDE68AFB232754CC3B69719EA221D1357%3Fmethod%3Ddownload%26read%3Dtrue%26shareKey%3Db402ca42248d060e7bdd5ee145f47cc5#2-%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6%E8%AF%AD%E5%8F%A5" target="_blank" rel="noopener noreferrer">2. 流程控制语句<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li><a href="https://note.youdao.com/md/preview.html?file=%2Fyws%2Fapi%2Fpersonal%2Ffile%2FDE68AFB232754CC3B69719EA221D1357%3Fmethod%3Ddownload%26read%3Dtrue%26shareKey%3Db402ca42248d060e7bdd5ee145f47cc5#3-%E5%BE%AA%E7%8E%AF%E8%AF%AD%E5%8F%A5" target="_blank" rel="noopener noreferrer">3. 循环语句<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li>\4. 影响shell程序的内置命令 <ul><li><a href="https://note.youdao.com/md/preview.html?file=%2Fyws%2Fapi%2Fpersonal%2Ffile%2FDE68AFB232754CC3B69719EA221D1357%3Fmethod%3Ddownload%26read%3Dtrue%26shareKey%3Db402ca42248d060e7bdd5ee145f47cc5#%E4%B8%80-%E5%85%B7%E4%BD%93%E9%9C%80%E6%B1%82" target="_blank" rel="noopener noreferrer">㈠ 具体需求<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li>㈢ 落地实现 <ul><li><a href="https://note.youdao.com/md/preview.html?file=%2Fyws%2Fapi%2Fpersonal%2Ffile%2FDE68AFB232754CC3B69719EA221D1357%3Fmethod%3Ddownload%26read%3Dtrue%26shareKey%3Db402ca42248d060e7bdd5ee145f47cc5#2-%E6%9C%80%E7%BB%88%E5%AE%9E%E7%8E%B0" target="_blank" rel="noopener noreferrer">② 最终实现<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li></ul></li></ul></li></ul></li></ul><p>#课程目标</p><ul><li>掌握for循环语句的基本语法结构</li><li>掌握while和until循环语句的基本语法结构</li><li>能会使用RANDOM产生随机数</li><li>理解嵌套循环</li></ul><h1 id="一、随机数" tabindex="-1"><a class="header-anchor" href="#一、随机数" aria-hidden="true">#</a> 一、随机数</h1><p><strong>关键词：一切都是未知数，永远不知道明天会抽什么风</strong>🎐😅</p><h2 id="_1-如何生成随机数" tabindex="-1"><a class="header-anchor" href="#_1-如何生成随机数" aria-hidden="true">#</a> 1. 如何生成随机数？</h2><p><strong>系统变量</strong>：<strong>RANDOM</strong>，默认会产生0~32767的随机整数</p><p>**前言：**要想调用变量，不管你是什么变量都要给钱，而且是美元💲</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>打印一个随机数
echo $RANDOM
查看系统上一次生成的随机数
# set|grep RANDOM
RANDOM=28325

产生0~1之间的随机数
echo $[$RANDOM%2]

产生0~2之间的随机数
echo $[$RANDOM%3]

产生0~3之间的随机数
echo $[$RANDOM%4]

产生0~9内的随机数
echo $[$RANDOM%10]

产生0~100内的随机数
echo $[$RANDOM%101]


产生50-100之内的随机数
echo $[$RANDOM%51+50]

产生三位数的随机数
echo $[$RANDOM%900+100]
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_2-实战案例" tabindex="-1"><a class="header-anchor" href="#_2-实战案例" aria-hidden="true">#</a> 2. 实战案例</h2><h3 id="一-随机产生以139开头的电话号码" tabindex="-1"><a class="header-anchor" href="#一-随机产生以139开头的电话号码" aria-hidden="true">#</a> ㈠ 随机产生以139开头的电话号码</h3><p><strong>具体需求1：</strong></p><p>写一个脚本，产生一个phonenum.txt文件，随机产生以139开头的手机号1000个，每个一行。</p><h4 id="_1-思路-6" tabindex="-1"><a class="header-anchor" href="#_1-思路-6" aria-hidden="true">#</a> ① 思路</h4><ol><li>产生1000个电话号码，脚本需要循环1000次 <code>FOR WHILE UNTIL</code></li><li>139+8位,后8位随机产生，可以让每一位数字都随机产生 <code>echo $[$RANDOM%10]</code></li><li>将随机产生的数字分别保存到变量里，然后加上139保存到文件里</li></ol><h4 id="_2-落地实现-5" tabindex="-1"><a class="header-anchor" href="#_2-落地实现-5" aria-hidden="true">#</a> ② 落地实现</h4><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>#!/bin/env bash
#产生1000个以139开头的电话号码并保存文件phonenum.txt
file=/shell03/phonenum.txt
for ((i=1;i&lt;=1000;i++))
do
	n1=$[$RANDOM%10]
	n2=$[$RANDOM%10]
	n3=$[$RANDOM%10]
	n4=$[$RANDOM%10]
	n5=$[$RANDOM%10]
	n6=$[$RANDOM%10]
	n7=$[$RANDOM%10]
	n8=$[$RANDOM%10]
	echo &quot;139$n1$n2$n3$n4$n5$n6$n7$n8&quot; &gt;&gt; $file
done


#!/bin/bash
# random phonenum
# 循环1000次产生电话号码并保存到文件
for i in {1..1000}
do
	n1=$[RANDOM%10]
	n2=$[RANDOM%10]
	n3=$[RANDOM%10]
	n4=$[RANDOM%10]
	n5=$[RANDOM%10]
	n6=$[RANDOM%10]
	n7=$[RANDOM%10]
	n8=$[RANDOM%10]
	echo &quot;139$n1$n2$n3$n4$n5$n6$n7$n8&quot; &gt;&gt; phonenum.txt
done

#!/bin/bash
i=1
while [ $i -le 1000 ]
do
	n1=$[$RANDOM%10]
	n2=$[$RANDOM%10]
	n3=$[$RANDOM%10]
	n4=$[$RANDOM%10]
	n5=$[$RANDOM%10]
	n6=$[$RANDOM%10]
	n7=$[$RANDOM%10]
	n8=$[$RANDOM%10]
	echo &quot;139$n1$n2$n3$n4$n5$n6$n7$n8&quot; &gt;&gt; phonenum.txt
	let i++
done

continue:继续，跳过本次循环，执行下一次循环
break:打断，执行循环体外的代码do..done外
exit:退出程序


#!/bin/bash
for i in {1..1000}
do
	n1=$[$RANDOM%10]
	n2=$[$RANDOM%10]
	n3=$[$RANDOM%10]
	n4=$[$RANDOM%10]
	n5=$[$RANDOM%10]
	n6=$[$RANDOM%10]
	n7=$[$RANDOM%10]
	n8=$[$RANDOM%10]
	echo &quot;139$n1$n2$n3$n4$n5$n6$n7$n8&quot; &gt;&gt; phonenum.txt
done

#!/bin/bash
#create phone num file
for ((i=1;i&lt;=1000;i++))
do
	n1=$[$RANDOM%10]
	n2=$[$RANDOM%10]
	n3=$[$RANDOM%10]
	n4=$[$RANDOM%10]
	n5=$[$RANDOM%10]
	n6=$[$RANDOM%10]
	n7=$[$RANDOM%10]
	n8=$[$RANDOM%10]
	echo &quot;139$n1$n2$n3$n4$n5$n6$n7$n8&quot; |tee -a phonenum.txt
done

#!/bin/bash
count=0
while true
do
	n1=$[$RANDOM%10]
	n2=$[$RANDOM%10]
	n3=$[$RANDOM%10]
	n4=$[$RANDOM%10]
	n5=$[$RANDOM%10]
	n6=$[$RANDOM%10]
	n7=$[$RANDOM%10]
	n8=$[$RANDOM%10]
	echo &quot;139$n1$n2$n3$n4$n5$n6$n7$n8&quot; |tee -a phonenum.txt &amp;&amp; let count++
	if [ $count -eq 1000 ];then
		break
	fi
done
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="二-随机抽出5位幸运观众" tabindex="-1"><a class="header-anchor" href="#二-随机抽出5位幸运观众" aria-hidden="true">#</a> ㈡ 随机抽出5位幸运观众</h3><p><strong>具体需求：</strong></p><ol><li>在上面的1000个手机号里抽奖5个幸运观众，显示出这5个幸运观众。</li><li>但只显示头3个数和尾号的4个数，中间的都用*代替</li></ol><h4 id="_1-思路-7" tabindex="-1"><a class="header-anchor" href="#_1-思路-7" aria-hidden="true">#</a> ① 思路</h4><ol><li>确定幸运观众所在的行 <code>0-1000 随机找出一个数字 $[$RANDOM%1000+1]</code></li><li>将电话号码提取出来 <code>head -随机产生行号 phonenum.txt |tail -1</code></li><li>显示前3个和后4个数到屏幕 <code>echo 139****</code></li></ol><h4 id="_2-落地实现-6" tabindex="-1"><a class="header-anchor" href="#_2-落地实现-6" aria-hidden="true">#</a> ② 落地实现</h4><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>#!/bin/bash
#定义变量
phone=/shell03/phonenum.txt
#循环抽出5位幸运观众
for ((i=1;i&lt;=5;i++))
do
	#定位幸运观众所在行号
	line=`wc -l $phone |cut -d&#39; &#39; -f1`
	luck_line=$[RANDOM%$line+1]
	#取出幸运观众所在行的电话号码
	luck_num=`head -$luck_line $phone|tail -1`
	#显示到屏幕
	echo &quot;139****${luck_num:7:4}&quot;
	echo $luck_num &gt;&gt; luck.txt
	#删除已经被抽取的幸运观众号码
	#sed -i &quot;/$luck_num/d&quot; $phone
done


#!/bin/bash
file=/shell04/phonenum.txt
for i in {1..5}
do
	file_num=`wc -l $file |cut -d&#39; &#39; -f1`
	line=`echo $[$RANDOM%$file_num+1]`
	luck=`head -n $line  $file|tail -1`
	echo &quot;139****${luck:7:4}&quot; &amp;&amp; echo $luck &gt;&gt; /shell04/luck_num.txt
done


#!/bin/bash
for ((i=1;i&lt;=5;i++))
do
file=phonenum.txt
line=`cat phonenum.txt |wc -l`	1000
luckline=$[$RANDOM%$line+1]
phone=`cat $file|head -$luckline|tail -1`
echo &quot;幸运观众为:139****${phone:7:4}&quot;
done


或者
#!/bin/bash
# choujiang
phone=phonenum.txt
for ((i=1;i&lt;=5;i++))
do
	num=`wc -l phonenum.txt |cut -d&#39; &#39; -f1`
	line=`echo $[$RANDOM%$num+1]`
	luck=`head -$line $phone |tail -1`
	sed -i &quot;/$luck/d&quot; $phone
	echo &quot;幸运观众是:139****${luck:7:4}&quot;
done
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="三-批量创建用户-密码随机产生" tabindex="-1"><a class="header-anchor" href="#三-批量创建用户-密码随机产生" aria-hidden="true">#</a> ㈢ 批量创建用户(密码随机产生)</h3><p>**需求：**批量创建5个用户，每个用户的密码为一个随机数</p><h4 id="_1-思路-8" tabindex="-1"><a class="header-anchor" href="#_1-思路-8" aria-hidden="true">#</a> ① 思路</h4><ol><li>循环5次创建用户</li><li>产生一个密码文件来保存用户的随机密码</li><li>从密码文件中取出随机密码赋值给用户</li></ol><h4 id="_2-落地实现-7" tabindex="-1"><a class="header-anchor" href="#_2-落地实现-7" aria-hidden="true">#</a> ② 落地实现</h4><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>#!/bin/bash
#crate user and set passwd
#产生一个保存用户名和密码的文件
echo user0{1..5}:itcast$[$RANDOM%9000+1000]#@~|tr &#39; &#39; &#39;\n&#39;&gt;&gt; user_pass.file

#循环创建5个用户
for ((i=1;i&lt;=5;i++))
do
	user=`head -$i user_pass.file|tail -1|cut -d: -f1`
	pass=`head -$i user_pass.file|tail -1|cut -d: -f2`
	useradd $user
	echo $pass|passwd --stdin $user
done

或者
for i in `cat user_pass.file`
do
	user=`echo $i|cut -d: -f1`
	pass=`echo $i|cut -d: -f2`
	useradd $user
	echo $pass|passwd --stdin $user
done

#!/bin/bash
#crate user and set passwd
#产生一个保存用户名和密码的文件
echo user0{1..3}:itcast$[$RANDOM%9000+1000]#@~|tr &#39; &#39; &#39;\n&#39;|tr &#39;:&#39; &#39; &#39; &gt;&gt; user_pass.file
#循环创建5个用户
while read user pass
do
useradd $user
echo $pass|passwd --stdin $user
done &lt; user_pass.file


pwgen工具产生随机密码：
[root@server shell04]# pwgen -cn1 12
Meep5ob1aesa
[root@server shell04]# echo user0{1..3}:$(pwgen -cn1 12)
user01:Bahqu9haipho user02:Feiphoh7moo4 user03:eilahj5eth2R
[root@server shell04]# echo user0{1..3}:$(pwgen -cn1 12)|tr &#39; &#39; &#39;\n&#39;
user01:eiwaShuZo5hi
user02:eiDeih7aim9k
user03:aeBahwien8co
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="二、嵌套循环" tabindex="-1"><a class="header-anchor" href="#二、嵌套循环" aria-hidden="true">#</a> 二、嵌套循环</h1><p><strong>关键字：大圈套小圈</strong></p><p>🕒<strong>时钟</strong>：分针与秒针，秒针转⼀圈（60格），分针转1格。循环嵌套就是外层循环⼀次，内层循环⼀轮。</p><ol><li>一个循环体内又包含另一个<strong>完整</strong>的循环结构，称为循环的嵌套。</li><li>每次外部循环都会触发内部循环，直至内部循环完成，才接着执行下一次的外部循环。</li><li>for循环、while循环和until循环可以<strong>相互</strong>嵌套。</li></ol><p>##1. 应用案例</p><h3 id="一-打印指定图案" tabindex="-1"><a class="header-anchor" href="#一-打印指定图案" aria-hidden="true">#</a> ㈠ 打印指定图案</h3><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>1
12
123
1234
12345

5
54
543
5432
54321
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="二-落地实现1" tabindex="-1"><a class="header-anchor" href="#二-落地实现1" aria-hidden="true">#</a> ㈡ 落地实现1</h3><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>X轴：
for ((i=1;i&lt;=5;i++));do echo -n $i;done
Y轴：
负责打印换行

#!/bin/bash
for ((y=1;y&lt;=5;y++))
do
	for ((x=1;x&lt;=$y;x++))
	do
		echo -n $x
	done
echo
done

#!/bin/bash
for ((y=1;y&lt;=5;y++))
do
	x=1
	while [ $x -le $y ]
		do
		echo -n $x
		let x++
		done
echo
done
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="三-落地实现2" tabindex="-1"><a class="header-anchor" href="#三-落地实现2" aria-hidden="true">#</a> ㈢ 落地实现2</h3><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>Y轴：打印换行
X轴：打印数字 5-1

#!/bin/bash
y=5
while (( $y &gt;= 1 ))
do
	for ((x=5;x&gt;=$y;x--))
	do
		echo -n $x
	done
echo
let y--
done


#!/bin/bash
for (( y=5;y&gt;=1;y--))
do
	for (( x=5;x&gt;=$y;x--))
	do
	echo -n $x
	done
echo
done

#!/bin/bash
y=5
while [ $y -ge 1 ]
do
	for ((x=5;x&gt;=$y;x--))
	do
	echo -n $x
	done
echo
let y--
done


#!/bin/bash
y=1
until (( $y &gt;5 ))
do
	x=1
	while (( $x &lt;= $y ))
	do
	echo -n $[6-$x]
	let x++
	done	
echo
let y++
done


课后打印：
54321
5432
543
54
5
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>##2. 课堂练习</p><p><strong>打印九九乘法表（三种方法）</strong></p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>1*1=1

1*2=2   2*2=4

1*3=3   2*3=6   3*3=9

1*4=4   2*4=8   3*4=12  4*4=16

1*5=5   2*5=10  3*5=15  4*5=20  5*5=25

1*6=6   2*6=12  3*6=18  4*6=24  5*6=30  6*6=36

1*7=7   2*7=14  3*7=21  4*7=28  5*7=35  6*7=42  7*7=49

1*8=8   2*8=16  3*8=24  4*8=32  5*8=40  6*8=48  7*8=56  8*8=64

1*9=9   2*9=18  3*9=27  4*9=36  5*9=45  6*9=54  7*9=63  8*9=72  9*9=81


Y轴：循环9次，打印9行空行
X轴：循环次数和Y轴相关；打印的是X和Y轴乘积 $[] $(())

#!/bin/bash
for ((y=1;y&lt;=9;y++))
do
	for ((x=1;x&lt;=$y;x++))
	do
		echo -ne &quot;$x*$y=$[$x*$y]\t&quot;
	done
echo
echo
done


#!/bin/bash
y=1
while [ $y -le 9 ]
do
        x=1
        while [ $x -le $y ]
        do
                echo -ne &quot;$x*$y=$[$x*$y]\t&quot;
                let x++
        done
echo
echo
let y++
done

或者
#!/bin/bash
for i in `seq 9`
do
    for j in `seq $i`
    do
        echo -ne  &quot;$j*$i=$[$i*$j]\t&quot;
    done
echo
echo
done
或者
#!/bin/bash
y=1
until [ $y -gt 9 ]
do
        x=1
        until [ $x -gt $y ]
        do
                echo -ne &quot;$x*$y=$[ $x*$y ]\t&quot;
                let x++
        done
echo
echo
let y++
done
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="三、阶段性补充总结" tabindex="-1"><a class="header-anchor" href="#三、阶段性补充总结" aria-hidden="true">#</a> 三、阶段性补充总结</h1><h2 id="_1、变量定义" tabindex="-1"><a class="header-anchor" href="#_1、变量定义" aria-hidden="true">#</a> 1、变量定义</h2><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="_2-流程控制语句" tabindex="-1"><a class="header-anchor" href="#_2-流程控制语句" aria-hidden="true">#</a> 2. 流程控制语句</h2><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="_3-循环语句" tabindex="-1"><a class="header-anchor" href="#_3-循环语句" aria-hidden="true">#</a> 3. 循环语句</h2><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="_4-影响shell程序的内置命令" tabindex="-1"><a class="header-anchor" href="#_4-影响shell程序的内置命令" aria-hidden="true">#</a> 4. 影响shell程序的内置命令</h2><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>exit			退出整个程序
break		   结束当前循环，或跳出本层循环
continue 	忽略本次循环剩余的代码，直接进行下一次循环
shift			使位置参数向左移动，默认移动1位，可以使用shift 2

:
true
false
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>举例说明：</strong></p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>以下脚本都能够实现用户自定义输入数字，然后脚本计算和：
[root@MissHou shell04]# cat shift.sh 
#!/bin/bash
sum=0
while [ $# -ne 0 ]
do
let sum=$sum+$1
shift
done
echo sum=$sum


[root@MissHou shell04]# cat for3.sh 
#!/bin/bash
sum=0
for i
do
let sum=$sum+$i
done
echo sum=$sum
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>##4. 补充扩展expect</p><p>expect 自动应答 tcl语言</p><p>**需求1：**A远程登录到server上什么都不做</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>#!/usr/bin/expect
# 开启一个程序
spawn ssh root@10.1.1.1
# 捕获相关内容
expect {
        &quot;(yes/no)?&quot; { send &quot;yes\r&quot;;exp_continue }
        &quot;password:&quot; { send &quot;123456\r&quot; }
}
interact   //交互

脚本执行方式：
# ./expect1.sh
# /shell04/expect1.sh
# expect -f expect1.sh

1）定义变量
#!/usr/bin/expect
set ip 10.1.1.2
set pass 123456
set timeout 5
spawn ssh root@$ip
expect {
	&quot;yes/no&quot; { send &quot;yes\r&quot;;exp_continue }
	&quot;password:&quot; { send &quot;$pass\r&quot; }
}
interact


2）使用位置参数
#!/usr/bin/expect
set ip [ lindex $argv 0 ]
set pass [ lindex $argv 1 ]
set timeout 5
spawn ssh root@$ip
expect {
	&quot;yes/no&quot; { send &quot;yes\r&quot;;exp_continue }
	&quot;password:&quot; { send &quot;$pass\r&quot; }
}
interact
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>**需求2：**A远程登录到server上操作</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>#!/usr/bin/expect
set ip 10.1.1.1
set pass 123456
set timeout 5
spawn ssh root@$ip
expect {
	&quot;yes/no&quot; { send &quot;yes\r&quot;;exp_continue }
	&quot;password:&quot; { send &quot;$pass\r&quot; }
}

expect &quot;#&quot;
send &quot;rm -rf /tmp/*\r&quot;
send &quot;touch /tmp/file{1..3}\r&quot;
send &quot;date\r&quot;
send &quot;exit\r&quot;
expect eof
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>**需求3：**shell脚本和expect结合使用，在多台服务器上创建1个用户</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>[root@server shell04]# cat ip.txt 
10.1.1.1 123456
10.1.1.2 123456


1. 循环
2. 登录远程主机——&gt;ssh——&gt;从ip.txt文件里获取IP和密码分别赋值给两个变量
3. 使用expect程序来解决交互问题

#!/bin/bash
# 循环在指定的服务器上创建用户和文件
while read ip pass
do
	/usr/bin/expect &lt;&lt;-END &amp;&gt;/dev/null
	spawn ssh root@$ip
	expect {
	&quot;yes/no&quot; { send &quot;yes\r&quot;;exp_continue }
	&quot;password:&quot; { send &quot;$pass\r&quot; }
	}
	expect &quot;#&quot; { send &quot;useradd yy1;rm -rf /tmp/*;exit\r&quot; }
	expect eof
	END
done &lt; ip.txt



#!/bin/bash
cat ip.txt|while read ip pass
do
        {

        /usr/bin/expect &lt;&lt;-HOU
        spawn ssh root@$ip
        expect {
                &quot;yes/no&quot; { send &quot;yes\r&quot;;exp_continue }
                &quot;password:&quot; { send &quot;$pass\r&quot; }
        }
        expect &quot;#&quot;
        send &quot;hostname\r&quot;
        send &quot;exit\r&quot;
        expect eof
        HOU

        }&amp;
done
wait
echo &quot;user is ok....&quot;


或者
#!/bin/bash
while read ip pass
do
        {

        /usr/bin/expect &lt;&lt;-HOU
        spawn ssh root@$ip
        expect {
                &quot;yes/no&quot; { send &quot;yes\r&quot;;exp_continue }
                &quot;password:&quot; { send &quot;$pass\r&quot; }
        }
        expect &quot;#&quot;
        send &quot;hostname\r&quot;
        send &quot;exit\r&quot;
        expect eof
        HOU

        }&amp;
done&lt;ip.txt
wait
echo &quot;user is ok....&quot;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>#四、综合案例</p><p>##1. 实战案例1</p><h3 id="一-具体需求" tabindex="-1"><a class="header-anchor" href="#一-具体需求" aria-hidden="true">#</a> ㈠ 具体需求</h3><p>写一个脚本，将跳板机上yunwei用户的公钥推送到局域网内可以ping通的所有机器上</p><p>说明：主机和密码文件已经提供</p><p>10.1.1.1:123456</p><p>10.1.1.2:123456</p><p>###㈡ 案例分析</p><ul><li><strong>关闭防火墙和selinux</strong></li><li>判断ssh服务是否开启（默认ok）</li><li>循环判断给定密码文件里的哪些IP是可以ping通</li><li>判断IP是否可以ping通——&gt;$?—&gt;流程控制语句</li><li>密码文件里获取主机的IP和密码保存变量</li><li>判断公钥是否存在—&gt;不存在创建它</li><li>ssh-copy-id 将跳板机上的yunwei用户的公钥推送到远程主机—&gt;expect解决交互</li><li>将ping通的主机IP单独保存到一个文件</li><li>测试验证</li></ul><h3 id="三-落地实现-1" tabindex="-1"><a class="header-anchor" href="#三-落地实现-1" aria-hidden="true">#</a> ㈢ 落地实现</h3><p>####① 代码拆分</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>1.判断yunwei用户的公钥是否存在
[ ! -f /hoem/yunwei/.ssh/id_rsa ] &amp;&amp; ssh-keygen -P &#39;&#39; -f ./id_rsa

2.获取IP并且判断是否可以ping通
1)主机密码文件ip.txt
	10.1.1.1:123456
   10.1.1.2:123456
2) 循环判断主机是否ping通
	tr &#39;:&#39; &#39; &#39; &lt; ip.txt|while read ip pass
	do
		ping -c1 $ip &amp;&gt;/dev/null
      if [ $? -eq 0 ];then
      	推送公钥
      fi
	done
   


3.非交互式推送公钥
/usr/bin/expect &lt;&lt;-END &amp;&gt;/dev/null
        spawn ssh-copy-id root@$ip
        expect {
                &quot;yes/no&quot; { send &quot;yes\r&quot;;exp_continue }
                &quot;password:&quot; { send &quot;$pass\r&quot; }
        }
        expect eof
	END
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_2-最终实现" tabindex="-1"><a class="header-anchor" href="#_2-最终实现" aria-hidden="true">#</a> ② 最终实现</h4><ol><li><strong>环境准备</strong></li></ol><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>jumper-server	有yunwei用户

yunwei用户sudo授权：
visudo
## Allow root to run any commands anywhere
root    ALL=(ALL)       ALL
yunwei  ALL=(root)      NOPASSWD:ALL,!/sbin/shutdown,!/sbin/init,!/bin/rm -rf /

解释说明：
1）第一个字段yunwei指定的是用户：可以是用户名，也可以是别名。每个用户设置一行，多个用户设置多行，也可以将多个用户设置成一个别名后再进行设置。
2）第二个字段ALL指定的是用户所在的主机：可以是ip,也可以是主机名，表示该sudo设置只在该主机上生效，ALL表示在所有主机上都生效！限制的一般都是本机，也就是限制使用这个文件的主机;一般都指定为&quot;ALL&quot;表示所有的主机，不管文件拷到那里都可以用。比如：10.1.1.1=...则表示只在当前主机生效。
3）第三个字段（root）括号里指定的也是用户：指定以什么用户身份执行sudo，即使用sudo后可以享有所有root账号下的权限。如果要排除个别用户，可以在括号内设置，比如ALL=(ALL,!oracle,!pos)。
4）第四个字段ALL指定的是执行的命令：即使用sudo后可以执行所有的命令。除了关机和删除根内容以外；也可以设置别名。NOPASSWD: ALL表示使用sudo的不需要输入密码。
5）也可以授权给一个用户组
	%admin ALL=(ALL) ALL	表示admin组里的所有成员可以在任何主机上以任何用户身份执行任何命令
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol><li><strong>脚本实现</strong></li></ol><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>#!/bin/bash
#判断公钥是否存在
[ ! -f /home/yunwei/.ssh/id_rsa ] &amp;&amp; ssh-keygen -P &#39;&#39; -f ~/.ssh/id_rsa

#循环判断主机是否ping通，如果ping通推送公钥
tr &#39;:&#39; &#39; &#39; &lt; /shell04/ip.txt|while read ip pass
do
{
        ping -c1 $ip &amp;&gt;/dev/null
        if [ $? -eq 0 ];then
        echo $ip &gt;&gt; ~/ip_up.txt
        /usr/bin/expect &lt;&lt;-END &amp;&gt;/dev/null
         spawn ssh-copy-id root@$ip
         expect {
                &quot;yes/no&quot; { send &quot;yes\r&quot;;exp_continue }
                &quot;password:&quot; { send &quot;$pass\r&quot; }
                }
        expect eof
        END
        fi
}&amp;
done
wait
echo &quot;公钥已经推送完毕，正在测试....&quot;
#测试验证
remote_ip=`tail -1 ~/ip_up.txt`
ssh root@$remote_ip hostname &amp;&gt;/dev/null
test $? -eq 0 &amp;&amp; echo &quot;公钥成功推送完毕&quot;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>##2. 实战案例2</p><p>写一个脚本，统计web服务的不同连接状态个数</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>#!/bin/bash
#count_http_80_state
#统计每个状态的个数
declare -A array1
states=`ss -ant|grep 80|cut -d&#39; &#39; -f1`
for i in $states
do
        let array1[$i]++
done
#通过遍历数组里的索引和元素打印出来
for j in ${!array1[@]}
do
        echo $j:${array1[$j]}
done
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>#五、课后实战</p><p>1、将/etc/passwd里的用户名分类，分为管理员用户，系统用户，普通用户。 2、写一个倒计时脚本，要求显示离2019年1月1日（元旦）的凌晨0点，还有多少天，多少时，多少分，多少秒。 3、写一个脚本把一个目录内的所有空文件都删除，最后输出删除的文件的个数。</p><ul><li>一、随机数 <ul><li><a href="https://note.youdao.com/md/preview.html?file=%2Fyws%2Fapi%2Fpersonal%2Ffile%2F26BAD9E7C28B4836B85DEFED6D1C47C4%3Fmethod%3Ddownload%26read%3Dtrue%26shareKey%3Db402ca42248d060e7bdd5ee145f47cc5#1-%E5%A6%82%E4%BD%95%E7%94%9F%E6%88%90%E9%9A%8F%E6%9C%BA%E6%95%B0" target="_blank" rel="noopener noreferrer">1. 如何生成随机数？<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li>\2. 实战案例 <ul><li>㈠ 随机产生以139开头的电话号码 <ul><li><a href="https://note.youdao.com/md/preview.html?file=%2Fyws%2Fapi%2Fpersonal%2Ffile%2F26BAD9E7C28B4836B85DEFED6D1C47C4%3Fmethod%3Ddownload%26read%3Dtrue%26shareKey%3Db402ca42248d060e7bdd5ee145f47cc5#1-%E6%80%9D%E8%B7%AF" target="_blank" rel="noopener noreferrer">① 思路<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li><a href="https://note.youdao.com/md/preview.html?file=%2Fyws%2Fapi%2Fpersonal%2Ffile%2F26BAD9E7C28B4836B85DEFED6D1C47C4%3Fmethod%3Ddownload%26read%3Dtrue%26shareKey%3Db402ca42248d060e7bdd5ee145f47cc5#2-%E8%90%BD%E5%9C%B0%E5%AE%9E%E7%8E%B0" target="_blank" rel="noopener noreferrer">② 落地实现<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li></ul></li><li>㈡ 随机抽出5位幸运观众 <ul><li><a href="https://note.youdao.com/md/preview.html?file=%2Fyws%2Fapi%2Fpersonal%2Ffile%2F26BAD9E7C28B4836B85DEFED6D1C47C4%3Fmethod%3Ddownload%26read%3Dtrue%26shareKey%3Db402ca42248d060e7bdd5ee145f47cc5#1-%E6%80%9D%E8%B7%AF-2" target="_blank" rel="noopener noreferrer">① 思路<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li><a href="https://note.youdao.com/md/preview.html?file=%2Fyws%2Fapi%2Fpersonal%2Ffile%2F26BAD9E7C28B4836B85DEFED6D1C47C4%3Fmethod%3Ddownload%26read%3Dtrue%26shareKey%3Db402ca42248d060e7bdd5ee145f47cc5#2-%E8%90%BD%E5%9C%B0%E5%AE%9E%E7%8E%B0-2" target="_blank" rel="noopener noreferrer">② 落地实现<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li></ul></li><li>㈢ 批量创建用户(密码随机产生) <ul><li><a href="https://note.youdao.com/md/preview.html?file=%2Fyws%2Fapi%2Fpersonal%2Ffile%2F26BAD9E7C28B4836B85DEFED6D1C47C4%3Fmethod%3Ddownload%26read%3Dtrue%26shareKey%3Db402ca42248d060e7bdd5ee145f47cc5#1-%E6%80%9D%E8%B7%AF-3" target="_blank" rel="noopener noreferrer">① 思路<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li><a href="https://note.youdao.com/md/preview.html?file=%2Fyws%2Fapi%2Fpersonal%2Ffile%2F26BAD9E7C28B4836B85DEFED6D1C47C4%3Fmethod%3Ddownload%26read%3Dtrue%26shareKey%3Db402ca42248d060e7bdd5ee145f47cc5#2-%E8%90%BD%E5%9C%B0%E5%AE%9E%E7%8E%B0-3" target="_blank" rel="noopener noreferrer">② 落地实现<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li></ul></li></ul></li></ul></li><li>二、嵌套循环 <ul><li><ul><li><a href="https://note.youdao.com/md/preview.html?file=%2Fyws%2Fapi%2Fpersonal%2Ffile%2F26BAD9E7C28B4836B85DEFED6D1C47C4%3Fmethod%3Ddownload%26read%3Dtrue%26shareKey%3Db402ca42248d060e7bdd5ee145f47cc5#%E4%B8%80-%E6%89%93%E5%8D%B0%E6%8C%87%E5%AE%9A%E5%9B%BE%E6%A1%88" target="_blank" rel="noopener noreferrer">㈠ 打印指定图案<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li></ul></li><li><a href="https://note.youdao.com/md/preview.html?file=%2Fyws%2Fapi%2Fpersonal%2Ffile%2F26BAD9E7C28B4836B85DEFED6D1C47C4%3Fmethod%3Ddownload%26read%3Dtrue%26shareKey%3Db402ca42248d060e7bdd5ee145f47cc5#%E4%BA%8C-%E8%90%BD%E5%9C%B0%E5%AE%9E%E7%8E%B01" target="_blank" rel="noopener noreferrer">㈡ 落地实现1<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li><a href="https://note.youdao.com/md/preview.html?file=%2Fyws%2Fapi%2Fpersonal%2Ffile%2F26BAD9E7C28B4836B85DEFED6D1C47C4%3Fmethod%3Ddownload%26read%3Dtrue%26shareKey%3Db402ca42248d060e7bdd5ee145f47cc5#%E4%B8%89-%E8%90%BD%E5%9C%B0%E5%AE%9E%E7%8E%B02" target="_blank" rel="noopener noreferrer">㈢ 落地实现2<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li></ul></li><li>三、阶段性补充总结 <ul><li><a href="https://note.youdao.com/md/preview.html?file=%2Fyws%2Fapi%2Fpersonal%2Ffile%2F26BAD9E7C28B4836B85DEFED6D1C47C4%3Fmethod%3Ddownload%26read%3Dtrue%26shareKey%3Db402ca42248d060e7bdd5ee145f47cc5#1-%E5%8F%98%E9%87%8F%E5%AE%9A%E4%B9%89" target="_blank" rel="noopener noreferrer">1. 变量定义<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li><a href="https://note.youdao.com/md/preview.html?file=%2Fyws%2Fapi%2Fpersonal%2Ffile%2F26BAD9E7C28B4836B85DEFED6D1C47C4%3Fmethod%3Ddownload%26read%3Dtrue%26shareKey%3Db402ca42248d060e7bdd5ee145f47cc5#2-%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6%E8%AF%AD%E5%8F%A5" target="_blank" rel="noopener noreferrer">2. 流程控制语句<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li><a href="https://note.youdao.com/md/preview.html?file=%2Fyws%2Fapi%2Fpersonal%2Ffile%2F26BAD9E7C28B4836B85DEFED6D1C47C4%3Fmethod%3Ddownload%26read%3Dtrue%26shareKey%3Db402ca42248d060e7bdd5ee145f47cc5#3-%E5%BE%AA%E7%8E%AF%E8%AF%AD%E5%8F%A5" target="_blank" rel="noopener noreferrer">3. 循环语句<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li>\4. 影响shell程序的内置命令 <ul><li><a href="https://note.youdao.com/md/preview.html?file=%2Fyws%2Fapi%2Fpersonal%2Ffile%2F26BAD9E7C28B4836B85DEFED6D1C47C4%3Fmethod%3Ddownload%26read%3Dtrue%26shareKey%3Db402ca42248d060e7bdd5ee145f47cc5#%E4%B8%80-%E5%85%B7%E4%BD%93%E9%9C%80%E6%B1%82" target="_blank" rel="noopener noreferrer">㈠ 具体需求<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li><a href="https://note.youdao.com/md/preview.html?file=%2Fyws%2Fapi%2Fpersonal%2Ffile%2F26BAD9E7C28B4836B85DEFED6D1C47C4%3Fmethod%3Ddownload%26read%3Dtrue%26shareKey%3Db402ca42248d060e7bdd5ee145f47cc5#%E4%BA%8C-%E6%A1%88%E4%BE%8B%E5%88%86%E6%9E%90" target="_blank" rel="noopener noreferrer">㈡ 案例分析<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li>㈢ 落地实现 <ul><li><a href="https://note.youdao.com/md/preview.html?file=%2Fyws%2Fapi%2Fpersonal%2Ffile%2F26BAD9E7C28B4836B85DEFED6D1C47C4%3Fmethod%3Ddownload%26read%3Dtrue%26shareKey%3Db402ca42248d060e7bdd5ee145f47cc5#1-%E4%BB%A3%E7%A0%81%E6%8B%86%E5%88%86" target="_blank" rel="noopener noreferrer">① 代码拆分<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li><a href="https://note.youdao.com/md/preview.html?file=%2Fyws%2Fapi%2Fpersonal%2Ffile%2F26BAD9E7C28B4836B85DEFED6D1C47C4%3Fmethod%3Ddownload%26read%3Dtrue%26shareKey%3Db402ca42248d060e7bdd5ee145f47cc5#2-%E6%9C%80%E7%BB%88%E5%AE%9E%E7%8E%B0" target="_blank" rel="noopener noreferrer">② 最终实现<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li></ul></li></ul></li></ul></li></ul><p>#课程目标</p><ul><li>掌握for循环语句的基本语法结构</li><li>掌握while和until循环语句的基本语法结构</li><li>能会使用RANDOM产生随机数</li><li>理解嵌套循环</li></ul><h1 id="一、随机数-1" tabindex="-1"><a class="header-anchor" href="#一、随机数-1" aria-hidden="true">#</a> 一、随机数</h1><p><strong>关键词：一切都是未知数，永远不知道明天会抽什么风</strong>🎐😅</p><h2 id="_1-如何生成随机数-1" tabindex="-1"><a class="header-anchor" href="#_1-如何生成随机数-1" aria-hidden="true">#</a> 1. 如何生成随机数？</h2><p><strong>系统变量</strong>：<strong>RANDOM</strong>，默认会产生0~32767的随机整数</p><p>**前言：**要想调用变量，不管你是什么变量都要给钱，而且是美元💲</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>打印一个随机数
echo $RANDOM
查看系统上一次生成的随机数
# set|grep RANDOM
RANDOM=28325

产生0~1之间的随机数
echo $[$RANDOM%2]

产生0~2之间的随机数
echo $[$RANDOM%3]

产生0~3之间的随机数
echo $[$RANDOM%4]

产生0~9内的随机数
echo $[$RANDOM%10]

产生0~100内的随机数
echo $[$RANDOM%101]


产生50-100之内的随机数
echo $[$RANDOM%51+50]

产生三位数的随机数
echo $[$RANDOM%900+100]
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_2-实战案例-1" tabindex="-1"><a class="header-anchor" href="#_2-实战案例-1" aria-hidden="true">#</a> 2. 实战案例</h2><h3 id="一-随机产生以139开头的电话号码-1" tabindex="-1"><a class="header-anchor" href="#一-随机产生以139开头的电话号码-1" aria-hidden="true">#</a> ㈠ 随机产生以139开头的电话号码</h3><p><strong>具体需求1：</strong></p><p>写一个脚本，产生一个phonenum.txt文件，随机产生以139开头的手机号1000个，每个一行。</p><h4 id="_1-思路-9" tabindex="-1"><a class="header-anchor" href="#_1-思路-9" aria-hidden="true">#</a> ① 思路</h4><ol><li>产生1000个电话号码，脚本需要循环1000次 <code>FOR WHILE UNTIL</code></li><li>139+8位,后8位随机产生，可以让每一位数字都随机产生 <code>echo $[$RANDOM%10]</code></li><li>将随机产生的数字分别保存到变量里，然后加上139保存到文件里</li></ol><h4 id="_2-落地实现-8" tabindex="-1"><a class="header-anchor" href="#_2-落地实现-8" aria-hidden="true">#</a> ② 落地实现</h4><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>#!/bin/env bash
#产生1000个以139开头的电话号码并保存文件phonenum.txt
file=/shell03/phonenum.txt
for ((i=1;i&lt;=1000;i++))
do
	n1=$[$RANDOM%10]
	n2=$[$RANDOM%10]
	n3=$[$RANDOM%10]
	n4=$[$RANDOM%10]
	n5=$[$RANDOM%10]
	n6=$[$RANDOM%10]
	n7=$[$RANDOM%10]
	n8=$[$RANDOM%10]
	echo &quot;139$n1$n2$n3$n4$n5$n6$n7$n8&quot; &gt;&gt; $file
done


#!/bin/bash
# random phonenum
# 循环1000次产生电话号码并保存到文件
for i in {1..1000}
do
	n1=$[RANDOM%10]
	n2=$[RANDOM%10]
	n3=$[RANDOM%10]
	n4=$[RANDOM%10]
	n5=$[RANDOM%10]
	n6=$[RANDOM%10]
	n7=$[RANDOM%10]
	n8=$[RANDOM%10]
	echo &quot;139$n1$n2$n3$n4$n5$n6$n7$n8&quot; &gt;&gt; phonenum.txt
done

#!/bin/bash
i=1
while [ $i -le 1000 ]
do
	n1=$[$RANDOM%10]
	n2=$[$RANDOM%10]
	n3=$[$RANDOM%10]
	n4=$[$RANDOM%10]
	n5=$[$RANDOM%10]
	n6=$[$RANDOM%10]
	n7=$[$RANDOM%10]
	n8=$[$RANDOM%10]
	echo &quot;139$n1$n2$n3$n4$n5$n6$n7$n8&quot; &gt;&gt; phonenum.txt
	let i++
done

continue:继续，跳过本次循环，执行下一次循环
break:打断，执行循环体外的代码do..done外
exit:退出程序


#!/bin/bash
for i in {1..1000}
do
	n1=$[$RANDOM%10]
	n2=$[$RANDOM%10]
	n3=$[$RANDOM%10]
	n4=$[$RANDOM%10]
	n5=$[$RANDOM%10]
	n6=$[$RANDOM%10]
	n7=$[$RANDOM%10]
	n8=$[$RANDOM%10]
	echo &quot;139$n1$n2$n3$n4$n5$n6$n7$n8&quot; &gt;&gt; phonenum.txt
done

#!/bin/bash
#create phone num file
for ((i=1;i&lt;=1000;i++))
do
	n1=$[$RANDOM%10]
	n2=$[$RANDOM%10]
	n3=$[$RANDOM%10]
	n4=$[$RANDOM%10]
	n5=$[$RANDOM%10]
	n6=$[$RANDOM%10]
	n7=$[$RANDOM%10]
	n8=$[$RANDOM%10]
	echo &quot;139$n1$n2$n3$n4$n5$n6$n7$n8&quot; |tee -a phonenum.txt
done

#!/bin/bash
count=0
while true
do
	n1=$[$RANDOM%10]
	n2=$[$RANDOM%10]
	n3=$[$RANDOM%10]
	n4=$[$RANDOM%10]
	n5=$[$RANDOM%10]
	n6=$[$RANDOM%10]
	n7=$[$RANDOM%10]
	n8=$[$RANDOM%10]
	echo &quot;139$n1$n2$n3$n4$n5$n6$n7$n8&quot; |tee -a phonenum.txt &amp;&amp; let count++
	if [ $count -eq 1000 ];then
		break
	fi
done
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="二-随机抽出5位幸运观众-1" tabindex="-1"><a class="header-anchor" href="#二-随机抽出5位幸运观众-1" aria-hidden="true">#</a> ㈡ 随机抽出5位幸运观众</h3><p><strong>具体需求：</strong></p><ol><li>在上面的1000个手机号里抽奖5个幸运观众，显示出这5个幸运观众。</li><li>但只显示头3个数和尾号的4个数，中间的都用*代替</li></ol><h4 id="_1-思路-10" tabindex="-1"><a class="header-anchor" href="#_1-思路-10" aria-hidden="true">#</a> ① 思路</h4><ol><li>确定幸运观众所在的行 <code>0-1000 随机找出一个数字 $[$RANDOM%1000+1]</code></li><li>将电话号码提取出来 <code>head -随机产生行号 phonenum.txt |tail -1</code></li><li>显示前3个和后4个数到屏幕 <code>echo 139****</code></li></ol><h4 id="_2-落地实现-9" tabindex="-1"><a class="header-anchor" href="#_2-落地实现-9" aria-hidden="true">#</a> ② 落地实现</h4><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>#!/bin/bash
#定义变量
phone=/shell03/phonenum.txt
#循环抽出5位幸运观众
for ((i=1;i&lt;=5;i++))
do
	#定位幸运观众所在行号
	line=`wc -l $phone |cut -d&#39; &#39; -f1`
	luck_line=$[RANDOM%$line+1]
	#取出幸运观众所在行的电话号码
	luck_num=`head -$luck_line $phone|tail -1`
	#显示到屏幕
	echo &quot;139****${luck_num:7:4}&quot;
	echo $luck_num &gt;&gt; luck.txt
	#删除已经被抽取的幸运观众号码
	#sed -i &quot;/$luck_num/d&quot; $phone
done


#!/bin/bash
file=/shell04/phonenum.txt
for i in {1..5}
do
	file_num=`wc -l $file |cut -d&#39; &#39; -f1`
	line=`echo $[$RANDOM%$file_num+1]`
	luck=`head -n $line  $file|tail -1`
	echo &quot;139****${luck:7:4}&quot; &amp;&amp; echo $luck &gt;&gt; /shell04/luck_num.txt
done


#!/bin/bash
for ((i=1;i&lt;=5;i++))
do
file=phonenum.txt
line=`cat phonenum.txt |wc -l`	1000
luckline=$[$RANDOM%$line+1]
phone=`cat $file|head -$luckline|tail -1`
echo &quot;幸运观众为:139****${phone:7:4}&quot;
done


或者
#!/bin/bash
# choujiang
phone=phonenum.txt
for ((i=1;i&lt;=5;i++))
do
	num=`wc -l phonenum.txt |cut -d&#39; &#39; -f1`
	line=`echo $[$RANDOM%$num+1]`
	luck=`head -$line $phone |tail -1`
	sed -i &quot;/$luck/d&quot; $phone
	echo &quot;幸运观众是:139****${luck:7:4}&quot;
done
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="三-批量创建用户-密码随机产生-1" tabindex="-1"><a class="header-anchor" href="#三-批量创建用户-密码随机产生-1" aria-hidden="true">#</a> ㈢ 批量创建用户(密码随机产生)</h3><p>**需求：**批量创建5个用户，每个用户的密码为一个随机数</p><h4 id="_1-思路-11" tabindex="-1"><a class="header-anchor" href="#_1-思路-11" aria-hidden="true">#</a> ① 思路</h4><ol><li>循环5次创建用户</li><li>产生一个密码文件来保存用户的随机密码</li><li>从密码文件中取出随机密码赋值给用户</li></ol><h4 id="_2-落地实现-10" tabindex="-1"><a class="header-anchor" href="#_2-落地实现-10" aria-hidden="true">#</a> ② 落地实现</h4><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>#!/bin/bash
#crate user and set passwd
#产生一个保存用户名和密码的文件
echo user0{1..5}:itcast$[$RANDOM%9000+1000]#@~|tr &#39; &#39; &#39;\n&#39;&gt;&gt; user_pass.file

#循环创建5个用户
for ((i=1;i&lt;=5;i++))
do
	user=`head -$i user_pass.file|tail -1|cut -d: -f1`
	pass=`head -$i user_pass.file|tail -1|cut -d: -f2`
	useradd $user
	echo $pass|passwd --stdin $user
done

或者
for i in `cat user_pass.file`
do
	user=`echo $i|cut -d: -f1`
	pass=`echo $i|cut -d: -f2`
	useradd $user
	echo $pass|passwd --stdin $user
done

#!/bin/bash
#crate user and set passwd
#产生一个保存用户名和密码的文件
echo user0{1..3}:itcast$[$RANDOM%9000+1000]#@~|tr &#39; &#39; &#39;\n&#39;|tr &#39;:&#39; &#39; &#39; &gt;&gt; user_pass.file
#循环创建5个用户
while read user pass
do
useradd $user
echo $pass|passwd --stdin $user
done &lt; user_pass.file


pwgen工具产生随机密码：
[root@server shell04]# pwgen -cn1 12
Meep5ob1aesa
[root@server shell04]# echo user0{1..3}:$(pwgen -cn1 12)
user01:Bahqu9haipho user02:Feiphoh7moo4 user03:eilahj5eth2R
[root@server shell04]# echo user0{1..3}:$(pwgen -cn1 12)|tr &#39; &#39; &#39;\n&#39;
user01:eiwaShuZo5hi
user02:eiDeih7aim9k
user03:aeBahwien8co
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="二、嵌套循环-1" tabindex="-1"><a class="header-anchor" href="#二、嵌套循环-1" aria-hidden="true">#</a> 二、嵌套循环</h1><p><strong>关键字：大圈套小圈</strong></p><p>🕒<strong>时钟</strong>：分针与秒针，秒针转⼀圈（60格），分针转1格。循环嵌套就是外层循环⼀次，内层循环⼀轮。</p><ol><li>一个循环体内又包含另一个<strong>完整</strong>的循环结构，称为循环的嵌套。</li><li>每次外部循环都会触发内部循环，直至内部循环完成，才接着执行下一次的外部循环。</li><li>for循环、while循环和until循环可以<strong>相互</strong>嵌套。</li></ol><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>#!/bin/env bash
for ((i=1;i&lt;=5;i++))
do
	for (())
	do
	
	done

done
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>##1. 应用案例</p><h3 id="一-打印指定图案-1" tabindex="-1"><a class="header-anchor" href="#一-打印指定图案-1" aria-hidden="true">#</a> ㈠ 打印指定图案</h3><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>1
12
123
1234
12345

5
54
543
5432
54321

外部循环：打印换行，并且换5行 ，循环5次

内部循环：打印54321数字

for ((y=5;y&gt;=1;y--))
do
	for ((x=5;x&gt;=1;x--))
	do
	
	echo -n $x
	done
echo
done
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="二-落地实现1-1" tabindex="-1"><a class="header-anchor" href="#二-落地实现1-1" aria-hidden="true">#</a> ㈡ 落地实现1</h3><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>X轴：
for ((i=1;i&lt;=5;i++));do echo -n $i;done
Y轴：
负责打印换行

#!/bin/bash
for ((y=1;y&lt;=5;y++))
do
	for ((x=1;x&lt;=$y;x++))
	do
		echo -n $x
	done
echo
done

#!/bin/bash
for ((y=1;y&lt;=5;y++))
do
	x=1
	while [ $x -le $y ]
		do
		echo -n $x
		let x++
		done
echo
done
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="三-落地实现2-1" tabindex="-1"><a class="header-anchor" href="#三-落地实现2-1" aria-hidden="true">#</a> ㈢ 落地实现2</h3><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>Y轴：打印换行
X轴：打印数字 5-1

#!/bin/bash
y=5
while (( $y &gt;= 1 ))
do
	for ((x=5;x&gt;=$y;x--))
	do
		echo -n $x
	done
echo
let y--
done


#!/bin/bash
for (( y=5;y&gt;=1;y--))
do
	for (( x=5;x&gt;=$y;x--))
	do
	echo -n $x
	done
echo
done

#!/bin/bash
y=5
while [ $y -ge 1 ]
do
	for ((x=5;x&gt;=$y;x--))
	do
	echo -n $x
	done
echo
let y--
done


#!/bin/bash
y=1
until (( $y &gt;5 ))
do
	x=1
	while (( $x &lt;= $y ))
	do
	echo -n $[6-$x]
	let x++
	done	
echo
let y++
done

#!/bin/env bash
y=1
while (( $y&lt;= 5 ))
do
        for ((x=5;x&gt;=6-$y;x--))
        do
                echo -n $x

        done


echo
let y++
done



课后打印：
54321
5432
543
54
5
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>##2. 课堂练习</p><p><strong>打印九九乘法表（三种方法）</strong></p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>1*1=1

1*2=2   2*2=4

1*3=3   2*3=6   3*3=9

1*4=4   2*4=8   3*4=12  4*4=16

1*5=5   2*5=10  3*5=15  4*5=20  5*5=25

1*6=6   2*6=12  3*6=18  4*6=24  5*6=30  6*6=36

1*7=7   2*7=14  3*7=21  4*7=28  5*7=35  6*7=42  7*7=49

1*8=8   2*8=16  3*8=24  4*8=32  5*8=40  6*8=48  7*8=56  8*8=64

1*9=9   2*9=18  3*9=27  4*9=36  5*9=45  6*9=54  7*9=63  8*9=72  9*9=81


Y轴：循环9次，打印9行空行
X轴：循环次数和Y轴相关；打印的是X和Y轴乘积 $[] $(())

#!/bin/bash
for ((y=1;y&lt;=9;y++))
do
	for ((x=1;x&lt;=$y;x++))
	do
		echo -ne &quot;$x*$y=$[$x*$y]\t&quot;
	done
echo
echo
done


#!/bin/bash
y=1
while [ $y -le 9 ]
do
        x=1
        while [ $x -le $y ]
        do
                echo -ne &quot;$x*$y=$[$x*$y]\t&quot;
                let x++
        done
echo
echo
let y++
done

或者
#!/bin/bash
for i in `seq 9`
do
    for j in `seq $i`
    do
        echo -ne  &quot;$j*$i=$[$i*$j]\t&quot;
    done
echo
echo
done
或者
#!/bin/bash
y=1
until [ $y -gt 9 ]
do
        x=1
        until [ $x -gt $y ]
        do
                echo -ne &quot;$x*$y=$[ $x*$y ]\t&quot;
                let x++
        done
echo
echo
let y++
done
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="三、阶段性补充总结-1" tabindex="-1"><a class="header-anchor" href="#三、阶段性补充总结-1" aria-hidden="true">#</a> 三、阶段性补充总结</h1><h2 id="_1-变量定义" tabindex="-1"><a class="header-anchor" href="#_1-变量定义" aria-hidden="true">#</a> 1. 变量定义</h2><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>1）变量名=变量值
echo $变量名
echo ${变量名}

2）read -p &quot;提示用户信息:&quot; 变量名

3） declare -i/-x/-r  变量名=变量值
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_2-流程控制语句-1" tabindex="-1"><a class="header-anchor" href="#_2-流程控制语句-1" aria-hidden="true">#</a> 2. 流程控制语句</h2><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>1）if [ 条件判断 ];then
		command
	fi
	
2) if [ 条件判断 ];then
		command
	else
   	command
   fi
   
 3) if [ 条件判断1 ];then
 		command1
 	 elif [ 条件判断2 ];then
 	 	command2
 	 else
    	command3
   fi 	
   
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_3-循环语句-1" tabindex="-1"><a class="header-anchor" href="#_3-循环语句-1" aria-hidden="true">#</a> 3. 循环语句</h2><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>目的：某个动作重复去做，用到循环
for
while
until
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_4-影响shell程序的内置命令-1" tabindex="-1"><a class="header-anchor" href="#_4-影响shell程序的内置命令-1" aria-hidden="true">#</a> 4. 影响shell程序的内置命令</h2><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>exit			退出整个程序
break		   结束当前循环，或跳出本层循环
continue 	忽略本次循环剩余的代码，直接进行下一次循环
shift			使位置参数向左移动，默认移动1位，可以使用shift 2

:
true
false
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>举例说明：</strong></p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>以下脚本都能够实现用户自定义输入数字，然后脚本计算和：
[root@MissHou shell04]# cat shift.sh 
#!/bin/bash
sum=0
while [ $# -ne 0 ]
do
let sum=$sum+$1
shift
done
echo sum=$sum


[root@MissHou shell04]# cat for3.sh 
#!/bin/bash
sum=0
for i
do
let sum=$sum+$i
done
echo sum=$sum
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>##5. 补充扩展expect</p><p>expect 自动应答 tcl语言</p><p>**需求1：**A远程登录到server上什么都不做</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>#!/usr/bin/expect
# 开启一个程序
spawn ssh root@10.1.1.1
# 捕获相关内容
expect {
        &quot;(yes/no)?&quot; { send &quot;yes\r&quot;;exp_continue }
        &quot;password:&quot; { send &quot;123456\r&quot; }
}
interact   //交互

脚本执行方式：
# ./expect1.sh
# /shell04/expect1.sh
# expect -f expect1.sh

1）定义变量
#!/usr/bin/expect
set ip 10.1.1.1
set pass 123456
set timeout 5
spawn ssh root@$ip
expect {
	&quot;yes/no&quot; { send &quot;yes\r&quot;;exp_continue }
	&quot;password:&quot; { send &quot;$pass\r&quot; }
}
interact


2）使用位置参数
#!/usr/bin/expect
set ip [ lindex $argv 0 ]
set pass [ lindex $argv 1 ]
set timeout 5
spawn ssh root@$ip
expect {
	&quot;yes/no&quot; { send &quot;yes\r&quot;;exp_continue }
	&quot;password:&quot; { send &quot;$pass\r&quot; }
}
interact
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>**需求2：**A远程登录到server上操作</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>#!/usr/bin/expect
set ip 10.1.1.1
set pass 123456
set timeout 5
spawn ssh root@$ip
expect {
	&quot;yes/no&quot; { send &quot;yes\r&quot;;exp_continue }
	&quot;password:&quot; { send &quot;$pass\r&quot; }
}

expect &quot;#&quot;
send &quot;rm -rf /tmp/*\r&quot;
send &quot;touch /tmp/file{1..3}\r&quot;
send &quot;date\r&quot;
send &quot;exit\r&quot;
expect eof
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>**需求3：**shell脚本和expect结合使用，在多台服务器上创建1个用户</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>[root@server shell04]# cat ip.txt 
10.1.1.1 123456
10.1.1.2 123456


1. 循环  useradd username
2. 登录远程主机——&gt;ssh——&gt;从ip.txt文件里获取IP和密码分别赋值给两个变量
3. 使用expect程序来解决交互问题


#!/bin/bash
# 循环在指定的服务器上创建用户和文件
while read ip pass
do
	/usr/bin/expect &lt;&lt;-END &amp;&gt;/dev/null
	spawn ssh root@$ip
	expect {
	&quot;yes/no&quot; { send &quot;yes\r&quot;;exp_continue }
	&quot;password:&quot; { send &quot;$pass\r&quot; }
	}
	expect &quot;#&quot; { send &quot;useradd yy1;rm -rf /tmp/*;exit\r&quot; }
	expect eof
	END
echo &quot;$ip服务器用户创建完毕&quot;
done &lt; ip.txt



#!/bin/bash
cat ip.txt|while read ip pass
do
        {

        /usr/bin/expect &lt;&lt;-HOU
        spawn ssh root@$ip
        expect {
                &quot;yes/no&quot; { send &quot;yes\r&quot;;exp_continue }
                &quot;password:&quot; { send &quot;$pass\r&quot; }
        }
        expect &quot;#&quot;
        send &quot;hostname\r&quot;
        send &quot;exit\r&quot;
        expect eof
        HOU

        }&amp;
done
wait
echo &quot;user is ok....&quot;


或者
#!/bin/bash
while read ip pass
do
        {

        /usr/bin/expect &lt;&lt;-HOU
        spawn ssh root@$ip
        expect {
                &quot;yes/no&quot; { send &quot;yes\r&quot;;exp_continue }
                &quot;password:&quot; { send &quot;$pass\r&quot; }
        }
        expect &quot;#&quot;
        send &quot;hostname\r&quot;
        send &quot;exit\r&quot;
        expect eof
        HOU

        }&amp;
done&lt;ip.txt
wait
echo &quot;user is ok....&quot;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>#四、综合案例</p><p>##1. 实战案例1</p><h3 id="一-具体需求-1" tabindex="-1"><a class="header-anchor" href="#一-具体需求-1" aria-hidden="true">#</a> ㈠ 具体需求</h3><p>写一个脚本，将跳板机上yunwei用户的公钥推送到局域网内可以ping通的所有机器上</p><p>说明：主机和密码文件已经提供</p><p>10.1.1.1:123456</p><p>10.1.1.2:123456</p><h3 id="二-案例分析" tabindex="-1"><a class="header-anchor" href="#二-案例分析" aria-hidden="true">#</a> ㈡ 案例分析</h3><ol><li>跳板机上的yunwei用户生成秘钥对 <ul><li>判断账号是否存在 (id yunwei)</li><li>判断该用户是否有密钥对文件 [ -f xxx ]</li></ul></li><li>判断expect程序是否安装</li><li>判断局域网内主机是否ping通（循环判断|for while until） <ul><li>循环判断 for while</li><li>循环体do......done ping 主机 如果ping通 调用expect程序自动应答推送公钥</li></ul></li><li>测试验证是否免密登录成功</li></ol><ul><li>检查服务器上ssh服务端口号</li><li>把公钥推送成功的主机的信息保存到文件</li><li>关闭防火墙和selinux</li><li>日志记录</li><li>推送公钥需要自动应答expect</li></ul><h3 id="三-落地实现-2" tabindex="-1"><a class="header-anchor" href="#三-落地实现-2" aria-hidden="true">#</a> ㈢ 落地实现</h3><h4 id="_1-代码拆分" tabindex="-1"><a class="header-anchor" href="#_1-代码拆分" aria-hidden="true">#</a> ① 代码拆分</h4><p>功能1：管理员root创建yunwei用户和安装expect软件包</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>#!/bin/env bash
# 实现批量推送公钥
# 判断jumper上的yunwei账号是否存在
{
id yunwei
[ $? -ne 0 ] &amp;&amp; useradd yunwei &amp;&amp; echo 123|passwd --stdin yunwei
} &amp;&gt;/dev/null
#判断expect程序是否安装
rpm -q expect
[ $? -ne 0 ] &amp;&amp; yum -y install expect &amp;&amp; echo &quot;expect软件已经成功安装&quot;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>功能2：判断主机是否ping通并且yunwei用户推送公钥</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>#!/bin/env bash
# 判断yunwei用户密钥对是否存在
home_dir=/home/yunwei
[ ! -f $home_dir/.ssh/id_rsa.pub ] &amp;&amp; ssh-keygen -P &#39;&#39; -f id_rsa &amp;&gt;/dev/null

#循环检查主机的网络并且进行公钥推送
ip_txt=$home_dir/ip.txt

for i in `cat $ip_txt`
do
	ip=`echo $i|cut -d: -f1`
	pass=`echo $i|cut -d: -f2`
	ping -c1 $ip &amp;&gt;/dev/null
	if [ $? -eq 0 ];then
		echo $ip &gt;&gt; ~/ip_up.txt
		/usr/bin/expect &lt;&lt;-END &amp;&gt;/dev/null
		spawn ssh-copy-id root@$ip
		expect
			{
            &quot;(yes/no)&quot;  { send &quot;yes\n&quot;;exp_continue }
            &quot;password:&quot;  { send &quot;$pass\n&quot; }
			}
		expect eof
		END	
	else
		echo $ip &gt;&gt; $home_dir/ip_down.txt
	fi
done

# 测试验证
remote_ip=`head -1 ~/ip_up.txt`
ssh root@$remote_ip hostname
[ $? -eq 0 ] &amp;&amp; echo &quot;公钥推送成功&quot;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_2-最终实现-1" tabindex="-1"><a class="header-anchor" href="#_2-最终实现-1" aria-hidden="true">#</a> ② 最终实现</h4><ol><li><strong>环境准备</strong></li></ol><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>jumper-server	有yunwei用户

yunwei用户sudo授权：
visudo
## Allow root to run any commands anywhere
root    ALL=(ALL)       ALL
yunwei  ALL=(root)      NOPASSWD:ALL,!/sbin/shutdown,!/sbin/init,!/bin/rm -rf /

解释说明：
1）第一个字段yunwei指定的是用户：可以是用户名，也可以是别名。每个用户设置一行，多个用户设置多行，也可以将多个用户设置成一个别名后再进行设置。
2）第二个字段ALL指定的是用户所在的主机：可以是ip,也可以是主机名，表示该sudo设置只在该主机上生效，ALL表示在所有主机上都生效！限制的一般都是本机，也就是限制使用这个文件的主机;一般都指定为&quot;ALL&quot;表示所有的主机，不管文件拷到那里都可以用。比如：10.1.1.1=...则表示只在当前主机生效。
3）第三个字段（root）括号里指定的也是用户：指定以什么用户身份执行sudo，即使用sudo后可以享有所有root账号下的权限。如果要排除个别用户，可以在括号内设置，比如ALL=(ALL,!oracle,!pos)。
4）第四个字段ALL指定的是执行的命令：即使用sudo后可以执行所有的命令。除了关机和删除根内容以外；也可以设置别名。NOPASSWD: ALL表示使用sudo的不需要输入密码。
5）也可以授权给一个用户组
	%admin ALL=(ALL) ALL	表示admin组里的所有成员可以在任何主机上以任何用户身份执行任何命令
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol><li><strong>脚本实现</strong></li></ol><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>#!/bin/bash
#判断公钥是否存在
[ ! -f /home/yunwei/.ssh/id_rsa ] &amp;&amp; ssh-keygen -P &#39;&#39; -f ~/.ssh/id_rsa

#循环判断主机是否ping通，如果ping通推送公钥
tr &#39;:&#39; &#39; &#39; &lt; /shell04/ip.txt|while read ip pass
do
{
        ping -c1 $ip &amp;&gt;/dev/null
        if [ $? -eq 0 ];then
        echo $ip &gt;&gt; ~/ip_up.txt
        /usr/bin/expect &lt;&lt;-END &amp;&gt;/dev/null
         spawn ssh-copy-id root@$ip
         expect {
                &quot;yes/no&quot; { send &quot;yes\r&quot;;exp_continue }
                &quot;password:&quot; { send &quot;$pass\r&quot; }
                }
        expect eof
        END
        fi
}&amp;
done
wait
echo &quot;公钥已经推送完毕，正在测试....&quot;
#测试验证
remote_ip=`tail -1 ~/ip_up.txt`
ssh root@$remote_ip hostname &amp;&gt;/dev/null
test $? -eq 0 &amp;&amp; echo &quot;公钥成功推送完毕&quot;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>##2. 实战案例2</p><p>写一个脚本，统计web服务的不同连接状态个数</p><ol><li>找出查看网站连接状态的命令 <code>ss -natp|grep :80</code></li><li>如何统计不同的状态 循环去统计，需要计算</li></ol><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>#!/bin/bash
#count_http_80_state
#统计每个状态的个数

declare -A array1
states=`ss -ant|grep 80|cut -d&#39; &#39; -f1`

for i in $states
do
        let array1[$i]++
done

#通过遍历数组里的索引和元素打印出来
for j in ${!array1[@]}
do
        echo $j:${array1[$j]}
done
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>#五、课后实战</p><p>1、将/etc/passwd里的用户名分类，分为管理员用户，系统用户，普通用户。 2、写一个倒计时脚本，要求显示离2019年1月1日（元旦）的凌晨0点，还有多少天，多少时，多少分，多少秒。 3、写一个脚本把一个目录内的所有空文件都删除，最后输出删除的文件的个数。</p><ul><li>一、case语句 <ul><li><a href="https://note.youdao.com/md/preview.html?file=%2Fyws%2Fapi%2Fpersonal%2Ffile%2F25D87A9819C746E29E1D846E0187978C%3Fmethod%3Ddownload%26read%3Dtrue%26shareKey%3Db402ca42248d060e7bdd5ee145f47cc5#1-%E8%AF%AD%E6%B3%95%E7%BB%93%E6%9E%84" target="_blank" rel="noopener noreferrer">1. 语法结构<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li>\2. 应用案例 <ul><li><a href="https://note.youdao.com/md/preview.html?file=%2Fyws%2Fapi%2Fpersonal%2Ffile%2F25D87A9819C746E29E1D846E0187978C%3Fmethod%3Ddownload%26read%3Dtrue%26shareKey%3Db402ca42248d060e7bdd5ee145f47cc5#%E4%B8%80-%E8%84%9A%E6%9C%AC%E4%BC%A0%E4%B8%8D%E5%90%8C%E5%80%BC%E5%81%9A%E4%B8%8D%E5%90%8C%E4%BA%8B" target="_blank" rel="noopener noreferrer">㈠ 脚本传不同值做不同事<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li><a href="https://note.youdao.com/md/preview.html?file=%2Fyws%2Fapi%2Fpersonal%2Ffile%2F25D87A9819C746E29E1D846E0187978C%3Fmethod%3Ddownload%26read%3Dtrue%26shareKey%3Db402ca42248d060e7bdd5ee145f47cc5#%E4%BA%8C-%E6%A0%B9%E6%8D%AE%E7%94%A8%E6%88%B7%E9%9C%80%E6%B1%82%E9%80%89%E6%8B%A9%E5%81%9A%E4%BA%8B" target="_blank" rel="noopener noreferrer">㈡ 根据用户需求选择做事<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li></ul></li></ul></li><li>二、函数 <ul><li><a href="https://note.youdao.com/md/preview.html?file=%2Fyws%2Fapi%2Fpersonal%2Ffile%2F25D87A9819C746E29E1D846E0187978C%3Fmethod%3Ddownload%26read%3Dtrue%26shareKey%3Db402ca42248d060e7bdd5ee145f47cc5#1-%E4%BB%80%E4%B9%88%E6%98%AF%E5%87%BD%E6%95%B0" target="_blank" rel="noopener noreferrer">1. 什么是函数？<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li>\2. 如何定义函数？ <ul><li><a href="https://note.youdao.com/md/preview.html?file=%2Fyws%2Fapi%2Fpersonal%2Ffile%2F25D87A9819C746E29E1D846E0187978C%3Fmethod%3Ddownload%26read%3Dtrue%26shareKey%3Db402ca42248d060e7bdd5ee145f47cc5#%E4%B8%80-%E5%BD%93%E5%89%8D%E5%91%BD%E4%BB%A4%E8%A1%8C%E8%B0%83%E7%94%A8" target="_blank" rel="noopener noreferrer">㈠ 当前命令行调用<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li><a href="https://note.youdao.com/md/preview.html?file=%2Fyws%2Fapi%2Fpersonal%2Ffile%2F25D87A9819C746E29E1D846E0187978C%3Fmethod%3Ddownload%26read%3Dtrue%26shareKey%3Db402ca42248d060e7bdd5ee145f47cc5#%E4%BA%8C-%E5%AE%9A%E4%B9%89%E5%88%B0%E7%94%A8%E6%88%B7%E7%9A%84%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F%E4%B8%AD" target="_blank" rel="noopener noreferrer">㈡ 定义到用户的环境变量中<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li><a href="https://note.youdao.com/md/preview.html?file=%2Fyws%2Fapi%2Fpersonal%2Ffile%2F25D87A9819C746E29E1D846E0187978C%3Fmethod%3Ddownload%26read%3Dtrue%26shareKey%3Db402ca42248d060e7bdd5ee145f47cc5#%E4%B8%89-%E8%84%9A%E6%9C%AC%E4%B8%AD%E8%B0%83%E7%94%A8" target="_blank" rel="noopener noreferrer">㈢ 脚本中调用<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li></ul></li><li><a href="https://note.youdao.com/md/preview.html?file=%2Fyws%2Fapi%2Fpersonal%2Ffile%2F25D87A9819C746E29E1D846E0187978C%3Fmethod%3Ddownload%26read%3Dtrue%26shareKey%3Db402ca42248d060e7bdd5ee145f47cc5#1-%E4%BB%BB%E5%8A%A1%E8%83%8C%E6%99%AF" target="_blank" rel="noopener noreferrer">1. 任务背景<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li><a href="https://note.youdao.com/md/preview.html?file=%2Fyws%2Fapi%2Fpersonal%2Ffile%2F25D87A9819C746E29E1D846E0187978C%3Fmethod%3Ddownload%26read%3Dtrue%26shareKey%3Db402ca42248d060e7bdd5ee145f47cc5#2-%E5%85%B7%E4%BD%93%E8%A6%81%E6%B1%82" target="_blank" rel="noopener noreferrer">2. 具体要求<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li><a href="https://note.youdao.com/md/preview.html?file=%2Fyws%2Fapi%2Fpersonal%2Ffile%2F25D87A9819C746E29E1D846E0187978C%3Fmethod%3Ddownload%26read%3Dtrue%26shareKey%3Db402ca42248d060e7bdd5ee145f47cc5#3-%E7%BB%BC%E5%90%88%E5%88%86%E6%9E%90" target="_blank" rel="noopener noreferrer">3. 综合分析<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li><a href="https://note.youdao.com/md/preview.html?file=%2Fyws%2Fapi%2Fpersonal%2Ffile%2F25D87A9819C746E29E1D846E0187978C%3Fmethod%3Ddownload%26read%3Dtrue%26shareKey%3Db402ca42248d060e7bdd5ee145f47cc5#4-%E8%90%BD%E5%9C%B0%E5%AE%9E%E7%8E%B0" target="_blank" rel="noopener noreferrer">4. 落地实现<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li></ul></li><li>四、正则表达式 <ul><li><a href="https://note.youdao.com/md/preview.html?file=%2Fyws%2Fapi%2Fpersonal%2Ffile%2F25D87A9819C746E29E1D846E0187978C%3Fmethod%3Ddownload%26read%3Dtrue%26shareKey%3Db402ca42248d060e7bdd5ee145f47cc5#2-%E6%AD%A3%E5%88%99%E8%83%BD%E5%B9%B2%E4%BB%80%E4%B9%88" target="_blank" rel="noopener noreferrer">2. 正则能干什么？<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li>\3. 正则当中名词解释 <ul><li><a href="https://note.youdao.com/md/preview.html?file=%2Fyws%2Fapi%2Fpersonal%2Ffile%2F25D87A9819C746E29E1D846E0187978C%3Fmethod%3Ddownload%26read%3Dtrue%26shareKey%3Db402ca42248d060e7bdd5ee145f47cc5#%E4%B8%80-%E6%AD%A3%E5%88%99%E4%B8%AD%E6%99%AE%E9%80%9A%E5%B8%B8%E7%94%A8%E7%9A%84%E5%85%83%E5%AD%97%E7%AC%A6" target="_blank" rel="noopener noreferrer">㈠ 正则中普通常用的元字符<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li><a href="https://note.youdao.com/md/preview.html?file=%2Fyws%2Fapi%2Fpersonal%2Ffile%2F25D87A9819C746E29E1D846E0187978C%3Fmethod%3Ddownload%26read%3Dtrue%26shareKey%3Db402ca42248d060e7bdd5ee145f47cc5#%E4%BA%8C-%E6%AD%A3%E5%88%99%E4%B8%AD%E5%85%B6%E4%BB%96%E5%B8%B8%E7%94%A8%E5%85%83%E5%AD%97%E7%AC%A6" target="_blank" rel="noopener noreferrer">㈡ 正则中其他常用元字符<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li><a href="https://note.youdao.com/md/preview.html?file=%2Fyws%2Fapi%2Fpersonal%2Ffile%2F25D87A9819C746E29E1D846E0187978C%3Fmethod%3Ddownload%26read%3Dtrue%26shareKey%3Db402ca42248d060e7bdd5ee145f47cc5#%E4%B8%89-%E6%89%A9%E5%B1%95%E7%B1%BB%E6%AD%A3%E5%88%99%E5%B8%B8%E7%94%A8%E5%85%83%E5%AD%97%E7%AC%A6" target="_blank" rel="noopener noreferrer">㈢ 扩展类正则常用元字符<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li></ul></li><li><a href="https://note.youdao.com/md/preview.html?file=%2Fyws%2Fapi%2Fpersonal%2Ffile%2F25D87A9819C746E29E1D846E0187978C%3Fmethod%3Ddownload%26read%3Dtrue%26shareKey%3Db402ca42248d060e7bdd5ee145f47cc5#6-%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E6%80%BB%E7%BB%93" target="_blank" rel="noopener noreferrer">6. 正则表达式总结<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li></ul></li><li><a href="https://note.youdao.com/md/preview.html?file=%2Fyws%2Fapi%2Fpersonal%2Ffile%2F25D87A9819C746E29E1D846E0187978C%3Fmethod%3Ddownload%26read%3Dtrue%26shareKey%3Db402ca42248d060e7bdd5ee145f47cc5#%E4%BA%94-%E6%AD%A3%E5%88%99%E5%85%83%E5%AD%97%E7%AC%A6%E4%B8%80%E6%A0%8F%E8%A1%A8" target="_blank" rel="noopener noreferrer">五、正则元字符一栏表<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li>六、正则练习作业 <ul><li><a href="https://note.youdao.com/md/preview.html?file=%2Fyws%2Fapi%2Fpersonal%2Ffile%2F25D87A9819C746E29E1D846E0187978C%3Fmethod%3Ddownload%26read%3Dtrue%26shareKey%3Db402ca42248d060e7bdd5ee145f47cc5#1-%E6%96%87%E4%BB%B6%E5%87%86%E5%A4%87" target="_blank" rel="noopener noreferrer">1. 文件准备<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li><a href="https://note.youdao.com/md/preview.html?file=%2Fyws%2Fapi%2Fpersonal%2Ffile%2F25D87A9819C746E29E1D846E0187978C%3Fmethod%3Ddownload%26read%3Dtrue%26shareKey%3Db402ca42248d060e7bdd5ee145f47cc5#2-%E5%85%B7%E4%BD%93%E8%A6%81%E6%B1%82-2" target="_blank" rel="noopener noreferrer">2. 具体要求<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li><a href="https://note.youdao.com/md/preview.html?file=%2Fyws%2Fapi%2Fpersonal%2Ffile%2F25D87A9819C746E29E1D846E0187978C%3Fmethod%3Ddownload%26read%3Dtrue%26shareKey%3Db402ca42248d060e7bdd5ee145f47cc5#%E8%84%9A%E6%9C%AC%E6%90%AD%E5%BB%BAweb%E6%9C%8D%E5%8A%A1" target="_blank" rel="noopener noreferrer">脚本搭建web服务<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li></ul></li></ul><p>#课程目标</p><ul><li>掌握case语句的基本语法结构</li><li>掌握函数的定义及调用</li><li>掌握常用的正则表达式元字符含义</li></ul><h1 id="一、case语句" tabindex="-1"><a class="header-anchor" href="#一、case语句" aria-hidden="true">#</a> 一、case语句</h1><p><strong>关键词：确认过眼神，你是对的人</strong>💑</p><ol><li>case语句为多重匹配语句</li><li>如果匹配成功，执行相匹配的命令</li></ol><h2 id="_1-语法结构" tabindex="-1"><a class="header-anchor" href="#_1-语法结构" aria-hidden="true">#</a> 1. 语法结构</h2><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>说明：pattern表示需要匹配的模式


case var in             定义变量;var代表是变量名
pattern 1)              模式1;用 | 分割多个模式，相当于or
    command1            需要执行的语句
    ;;                  两个分号代表命令结束
pattern 2)
    command2
    ;;
pattern 3)
    command3
    ;;
		  *)              default，不满足以上模式，默认执行*)下面的语句
    command4
    ;;
esac							esac表示case语句结束
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_2-应用案例-4" tabindex="-1"><a class="header-anchor" href="#_2-应用案例-4" aria-hidden="true">#</a> 2. 应用案例</h2><h3 id="一-脚本传不同值做不同事" tabindex="-1"><a class="header-anchor" href="#一-脚本传不同值做不同事" aria-hidden="true">#</a> ㈠ 脚本传不同值做不同事</h3><p>**具体需求：**当给程序传入start、stop、restart三个不同参数时分别执行相应命令</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>#!/bin/env bash
case $1 in
        start|S)
        service apache start &amp;&gt;/dev/null &amp;&amp; echo &quot;apache 启动成功&quot;
        ;;
        stop|T)
        service apache stop &amp;&gt;/dev/null &amp;&amp; echo &quot;apache 停止成功&quot;
        ;;
        restart|R)
        service apache restart &amp;&gt;/dev/null &amp;&amp; echo &quot;apache 重启完毕&quot;
        ;;
        *)
        echo &quot;请输入要做的事情...&quot;
        ;;
esac
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="二-根据用户需求选择做事" tabindex="-1"><a class="header-anchor" href="#二-根据用户需求选择做事" aria-hidden="true">#</a> ㈡ 根据用户需求选择做事</h3><p><strong>具体需求：</strong></p><p>脚本提示让用户输入需要管理的服务名，然后提示用户需要对服务做什么操作，如启动，关闭等操作</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>#!/bin/env bash
read -p &quot;请输入你要管理的服务名称(vsftpd):&quot; service
case $service in
        vsftpd|ftp)
        read -p &quot;请选择你需要做的事情(restart|stop):&quot; action
        case $action in
                stop|S)
                service vsftpd stop &amp;&gt;/dev/null &amp;&amp; echo &quot;该$serivce服务已经停止成功&quot;
                ;;
                start)
                service vsftpd start &amp;&gt;/dev/null &amp;&amp; echo &quot;该$serivce服务已经成功启动&quot;
                ;;
        esac
        ;;
        httpd|apache)
        echo &quot;apache hello world&quot;
        ;;
        *)
        echo &quot;请输入你要管理的服务名称(vsftpd)&quot;
        ;;
esac
	
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>###㈢ 菜单提示让用户选择需要做的事</p><p><strong>具体需求：</strong></p><p>模拟一个多任务维护界面;当执行程序时先显示总菜单，然后进行选择后做相应维护监控操作</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>**********请选择*********
h	显示命令帮助
f	显示磁盘分区
d	显示磁盘挂载
m	查看内存使用
u	查看系统负载
q	退出程序
*************************
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>思路：</strong></p><ol><li>菜单打印出来</li><li>交互式让用户输入操作编号，然后做出相应处理</li></ol><p><strong>落地实现：</strong></p><ol><li>菜单打印(分解动作)</li></ol><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>#!/bin/env bash
cat &lt;&lt;-EOF
	h	显示命令帮助
	f	显示磁盘分区
	d	显示磁盘挂载
	m	查看内存使用
	u	查看系统负载
	q	退出程序
	EOF
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol><li>最终实现</li></ol><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>#!/bin/bash
#打印菜单
cat &lt;&lt;-EOF
	h	显示命令帮助
	f	显示磁盘分区
	d	显示磁盘挂载
	m	查看内存使用
	u	查看系统负载
	q	退出程序
	EOF

#让用户输入需要的操作
while true
do
read -p &quot;请输入需要操作的选项[f|d]:&quot; var1
case $var1 in
	h)
	cat &lt;&lt;-EOF
        h       显示命令帮助
        f       显示磁盘分区
        d       显示磁盘挂载
        m       查看内存使用
        u       查看系统负载
        q       退出程序
	EOF
	;;
	f)
	fdisk -l
	;;
	d)
	df -h
	;;
	m)
	free -m
	;;
	u)
	uptime
	;;
	q)
	exit
	;;
esac
done



#!/bin/bash
#打印菜单
menu(){
cat &lt;&lt;-END
	h	显示命令帮助
	f	显示磁盘分区
	d	显示磁盘挂载
	m	查看内存使用
	u	查看系统负载
	q	退出程序
	END
}
menu
while true
do
read -p &quot;请输入你的操作[h for help]:&quot; var1
case $var1 in
	h)
	menu
	;;
	f)
	read -p &quot;请输入你要查看的设备名字[/dev/sdb]:&quot; var2
	case $var2 in
		/dev/sda)
		fdisk -l /dev/sda
		;;
		/dev/sdb)
		fdisk -l /dev/sdb
		;;
	esac
	;;
	d)
	lsblk
	;;
	m)
	free -m
	;;
	u)
	uptime
	;;
	q)
	exit
	;;
esac
done
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>课堂练习：</strong></p><ol><li>输入一个等级（A-E），查看每个等级的成绩；如：输入A，则显示“90分~100分”，依次类推</li><li>判断用户输入的字符串，如果是&quot;hello&quot;,则显示&quot;world&quot;；如果是&quot;world&quot;,则显示&quot;hello&quot;,否则提示&quot;请输入hello或者world，谢谢！&quot;</li></ol><h1 id="二、函数" tabindex="-1"><a class="header-anchor" href="#二、函数" aria-hidden="true">#</a> 二、函数</h1><h2 id="_1-什么是函数" tabindex="-1"><a class="header-anchor" href="#_1-什么是函数" aria-hidden="true">#</a> 1. 什么是函数？</h2><ul><li>shell中允许将<strong>一组命令集合</strong>或<strong>语句</strong>形成一段<strong>可用代码</strong>，这些代码块称为shell函数</li><li>给这段代码起个名字称为函数名，后续可以直接调用该段代码的功能</li></ul><h2 id="_2-如何定义函数" tabindex="-1"><a class="header-anchor" href="#_2-如何定义函数" aria-hidden="true">#</a> 2. 如何定义函数？</h2><p><strong>方法1：</strong></p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>函数名()
{
  函数体（一堆命令的集合，来实现某个功能）   
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>方法2：</strong></p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>function 函数名()
{
   函数体（一堆命令的集合，来实现某个功能）
   echo hello
   echo world
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>函数中return说明:</strong></p><ol><li>return可以结束一个函数。类似于循环控制语句break(结束当前循环，执行循环体后面的代码)。</li><li>return默认返回函数中最后一个命令状态值，也可以给定参数值，范围是0-256之间。</li><li>如果没有return命令，函数将返回最后一个指令的退出状态值。</li></ol><p>##3. 函数如何调用？</p><h3 id="一-当前命令行调用" tabindex="-1"><a class="header-anchor" href="#一-当前命令行调用" aria-hidden="true">#</a> ㈠ 当前命令行调用</h3><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>[root@MissHou shell04]# cat fun1.sh 
#!/bin/bash
hello(){
echo &quot;hello lilei $1&quot;
hostname
}
menu(){
cat &lt;&lt;-EOF
1. mysql
2. web
3. app
4. exit
EOF
}

[root@MissHou shell04]# source fun1.sh 
[root@MissHou shell04]# . fun1.sh 

[root@MissHou shell04]# hello 888
hello lilei 888
MissHou.itcast.cc
[root@MissHou shell04]# menu
1. mysql
2. web
3. app
4. exit
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="二-定义到用户的环境变量中" tabindex="-1"><a class="header-anchor" href="#二-定义到用户的环境变量中" aria-hidden="true">#</a> ㈡ 定义到用户的环境变量中</h3><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>[root@MissHou shell05]# vim ~/.bashrc 
文件中增加如下内容：
hello(){
echo &quot;hello lilei $1&quot;
hostname
}
menu(){
cat &lt;&lt;-EOF
1. mysql
2. web
3. app
4. exit
EOF
}

注意：
当用户打开bash的时候会读取该文件
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="三-脚本中调用" tabindex="-1"><a class="header-anchor" href="#三-脚本中调用" aria-hidden="true">#</a> ㈢ 脚本中调用</h3><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>#!/bin/bash
#打印菜单
source ./fun1.sh
menu(){
cat &lt;&lt;-END
	h	显示命令帮助
	f	显示磁盘分区
	d	显示磁盘挂载
	m	查看内存使用
	u	查看系统负载
	q	退出程序
	END
}
menu		//调用函数
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>##4. 应用案例</p><p><strong>具体需求：</strong></p><ol><li>写一个脚本收集用户输入的基本信息(姓名，性别，年龄)，如不输入一直提示输入</li><li>最后根据用户的信息输出相对应的内容</li></ol><p><strong>思路：</strong></p><ol><li>交互式定义多个变量来保存用户信息 姓名、性别、年龄</li><li>如果不输一直提示输入 <ul><li>循环直到输入字符串不为空 while 判断输入字符串是否为空</li><li>每个信息都必须不能为空，该功能可以定义为一个函数，方便下面脚本调用</li></ul></li><li>根据用户输入信息做出匹配判断</li></ol><p><strong>代码实现：</strong></p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>#!/bin/bash
#该函数实现用户如果不输入内容则一直循环直到用户输入为止，并且将用户输入的内容打印出来
input_fun()
{
  input_var=&quot;&quot;
  output_var=$1
  while [ -z $input_var ]
	do
	read -p &quot;$output_var&quot; input_var
	done
	echo $input_var
}

input_fun 请输入你的姓名:

或者
#!/bin/bash
fun()
{
	read -p &quot;$1&quot; var
	if [ -z $var ];then
		fun $1
	else
		echo $var
	fi
}


#调用函数并且获取用户的姓名、性别、年龄分别赋值给name、sex、age变量
name=$(input_fun 请输入你的姓名:)
sex=$(input_fun 请输入你的性别:)
age=$(input_fun 请输入你的年龄:)

#根据用户输入的性别进行匹配判断
case $sex in
			man)
			if [ $age -gt 18 -a $age -le 35 ];then
				echo &quot;中年大叔你油腻了吗？加油&quot;
			elif [ $age -gt 35 ];then
				echo &quot;保温杯里泡枸杞&quot;
			else
				echo &quot;年轻有为。。。&quot;
			fi
			;;
			woman)
			xxx
			;;
			*)
			xxx
			;;
esac
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>扩展延伸：</strong></p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>描述以下代码含义：	
:()
{
   :|:&amp;
}
:
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>#三、综合案例</p><h2 id="_1-任务背景" tabindex="-1"><a class="header-anchor" href="#_1-任务背景" aria-hidden="true">#</a> 1. 任务背景</h2><p>现有的跳板机虽然实现了统一入口来访问生产服务器，yunwei用户权限太大可以操作跳板机上的所有目录文件，存在数据被误删的安全隐患，所以希望你做一些安全策略来保证跳板机的正常使用。</p><h2 id="_2-具体要求" tabindex="-1"><a class="header-anchor" href="#_2-具体要求" aria-hidden="true">#</a> 2. 具体要求</h2><ol><li>只允许yunwei用户通过跳板机远程连接后台的应用服务器做一些维护操作</li><li>公司运维人员远程通过yunwei用户连接跳板机时，跳出以下菜单供选择：</li></ol><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>欢迎使用Jumper-server，请选择你要操作的主机：
1. DB1-Master
2. DB2-Slave
3. Web1
4. Web2
h. help
q. exit
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol><li>当用户选择相应主机后，直接<strong>免密码登录</strong>成功</li><li>如果用户不输入一直提示用户输入，直到用户选择退出</li></ol><h2 id="_3-综合分析" tabindex="-1"><a class="header-anchor" href="#_3-综合分析" aria-hidden="true">#</a> 3. 综合分析</h2><ol><li>将脚本放到yunwei用户家目录里的.bashrc文件里（/shell05/jumper-server.sh）</li><li>将菜单定义为一个函数[打印菜单]，方便后面调用</li><li>用case语句来实现用户的选择【交互式定义变量】</li><li>当用户选择了某一台服务器后，进一步询问用户需要做的事情 case...esac 交互式定义变量</li><li>使用循环来实现用户不选择一直让其选择</li><li>限制用户退出后直接关闭终端 exit</li></ol><h2 id="_4-落地实现" tabindex="-1"><a class="header-anchor" href="#_4-落地实现" aria-hidden="true">#</a> 4. 落地实现</h2><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>#!/bin/bash
# jumper-server
# 定义菜单打印功能的函数
menu()
{
cat &lt;&lt;-EOF
欢迎使用Jumper-server，请选择你要操作的主机：
1. DB1-Master
2. DB2-Slave
3. Web1
4. Web2
h. help
q. exit
	EOF
}
# 屏蔽以下信号
trap &#39;&#39; 1 2 3 19
# 调用函数来打印菜单
menu
#循环等待用户选择
while true
do
# 菜单选择，case...esac语句
read -p &quot;请选择你要访问的主机:&quot; host
case $host in
	1)
	ssh root@10.1.1.1
	;;
	2)
	ssh root@10.1.1.2
	;;
	3)
	ssh root@10.1.1.3
	;;
	h)
	clear;menu
	;;
	q)
	exit
	;;
esac
done


将脚本放到yunwei用户家目录里的.bashrc里执行：
bash ~/jumper-server.sh
exit
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>进一步完善需求</strong></p><p>为了进一步增强跳板机的安全性，工作人员通过跳板机访问生产环境，但是不能在跳板机上停留。</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>#!/bin/bash
#公钥推送成功
trap &#39;&#39; 1 2 3 19
#打印菜单用户选择
menu(){
cat &lt;&lt;-EOF
欢迎使用Jumper-server，请选择你要操作的主机：
1. DB1-Master
2. DB2-Slave
3. Web1
4. Web2
h. help
q. exit
EOF
}

#调用函数来打印菜单
menu
while true
do
read -p &quot;请输入你要选择的主机[h for help]：&quot; host

#通过case语句来匹配用户所输入的主机
case $host in
	1|DB1)
	ssh root@10.1.1.1
	;;
	2|DB2)
	ssh root@10.1.1.2
	;;
	3|web1)
	ssh root@10.1.1.250
	;;
	h|help)
	clear;menu
	;;
	q|quit)
	exit
	;;
esac
done

自己完善功能：
1. 用户选择主机后，需要事先推送公钥；如何判断公钥是否已推
2. 比如选择web1时，再次提示需要做的操作，比如：
clean log
重启服务
kill某个进程
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>回顾信号：</strong></p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>1) SIGHUP 			重新加载配置    
2) SIGINT			键盘中断^C
3) SIGQUIT      	键盘退出
9) SIGKILL		 	强制终止
15) SIGTERM	    	终止（正常结束），缺省信号
18) SIGCONT	   	继续
19) SIGSTOP	   	停止
20) SIGTSTP     	暂停^Z
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="四、正则表达式" tabindex="-1"><a class="header-anchor" href="#四、正则表达式" aria-hidden="true">#</a> 四、正则表达式</h1><p>##1. 正则表达式是什么？</p><p><strong>正则表达式</strong>（Regular Expression、regex或regexp，缩写为RE），也译为正规表示法、常规表示法，是一种字符模式，用于在查找过程中匹配指定的字符。</p><p>许多程序设计语言都支持利用正则表达式进行<strong>字符串操作</strong>。例如，在Perl中就内建了一个功能强大的正则表达式引擎。</p><p>正则表达式这个概念最初是由Unix中的工具软件（例如sed和grep）普及开的。</p><p>支持正则表达式的程序如：locate |find| vim| grep| sed |awk</p><h2 id="_2-正则能干什么" tabindex="-1"><a class="header-anchor" href="#_2-正则能干什么" aria-hidden="true">#</a> 2. 正则能干什么？</h2><ol><li>匹配邮箱、匹配身份证号码、手机号、银行卡号等</li><li>匹配某些特定字符串，做特定处理等等</li></ol><h2 id="_3-正则当中名词解释" tabindex="-1"><a class="header-anchor" href="#_3-正则当中名词解释" aria-hidden="true">#</a> 3. 正则当中名词解释</h2><ul><li><p><strong>元字符</strong></p><p>指那些在正则表达式中具有<strong>特殊意义的专用字符</strong>,如:点(.) 星(*) 问号(?)等</p></li><li><p><strong>前导字符</strong></p><p>位于<strong>元字符</strong>前面的字符. ab<strong>c</strong>* aoo<strong>o.</strong></p></li></ul><p>##4. 第一类正则表达式</p><h3 id="一-正则中普通常用的元字符" tabindex="-1"><a class="header-anchor" href="#一-正则中普通常用的元字符" aria-hidden="true">#</a> ㈠ 正则中普通常用的元字符</h3><table><thead><tr><th>元字符</th><th>功能</th><th>备注</th></tr></thead><tbody><tr><td>.</td><td>匹配除了换行符以外的任意单个字符</td><td></td></tr><tr><td>*</td><td>前导字符出现0次或连续多次</td><td></td></tr><tr><td>.*</td><td>任意长度字符</td><td>ab.*</td></tr><tr><td>^</td><td>行首(以...开头)</td><td>^root</td></tr><tr><td>$</td><td>行尾(以...结尾)</td><td>bash$</td></tr><tr><td>^$</td><td>空行</td><td></td></tr><tr><td>[]</td><td>匹配括号里任意单个字符或一组单个字符</td><td>[abc]</td></tr><tr><td>[^]</td><td>匹配不包含括号里任一单个字符或一组单个字符</td><td>[^abc]</td></tr><tr><td>[<a href="https://note.youdao.com/md/preview.html?file=%2Fyws%2Fapi%2Fpersonal%2Ffile%2F25D87A9819C746E29E1D846E0187978C%3Fmethod%3Ddownload%26read%3Dtrue%26shareKey%3Db402ca42248d060e7bdd5ee145f47cc5#fn1" target="_blank" rel="noopener noreferrer">1]<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></td><td>匹配以括号里任意单个字符或一组单个字符开头</td><td>[<a href="https://note.youdao.com/md/preview.html?file=%2Fyws%2Fapi%2Fpersonal%2Ffile%2F25D87A9819C746E29E1D846E0187978C%3Fmethod%3Ddownload%26read%3Dtrue%26shareKey%3Db402ca42248d060e7bdd5ee145f47cc5#fn2" target="_blank" rel="noopener noreferrer">2]<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></td></tr><tr><td>^[^]</td><td>匹配不以括号里任意单个字符或一组单个字符开头</td><td>^[^abc]</td></tr></tbody></table><ul><li>示例文本</li></ul><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code># cat 1.txt
ggle
gogle
google
gooogle
goooooogle
gooooooogle
taobao.com
taotaobaobao.com

jingdong.com
dingdingdongdong.com
10.1.1.1
Adfjd8789JHfdsdf/
a87fdjfkdLKJK
7kdjfd989KJK;
bSKJjkksdjf878.
cidufKJHJ6576,

hello world
helloworld yourself
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>举例说明</li></ul><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="二-正则中其他常用元字符" tabindex="-1"><a class="header-anchor" href="#二-正则中其他常用元字符" aria-hidden="true">#</a> ㈡ 正则中其他常用元字符</h3><table><thead><tr><th>元字符</th><th>功能</th><th>备注</th></tr></thead><tbody><tr><td>&lt;</td><td>取单词的头</td><td></td></tr><tr><td>&gt;</td><td>取单词的尾</td><td></td></tr><tr><td>&lt; &gt;</td><td>精确匹配</td><td></td></tr><tr><td>{n}</td><td>匹配前导字符连续出现n次</td><td></td></tr><tr><td>{n,}</td><td>匹配前导字符至少出现n次</td><td></td></tr><tr><td>{n,m}</td><td>匹配前导字符出现n次与m次之间</td><td></td></tr><tr><td>( )</td><td>保存被匹配的字符</td><td></td></tr><tr><td>\d</td><td>匹配数字（<strong>grep -P</strong>）</td><td>[0-9]</td></tr><tr><td>\w</td><td>匹配字母数字下划线（<strong>grep -P</strong>）</td><td>[a-zA-Z0-9_]</td></tr><tr><td>\s</td><td>匹配空格、制表符、换页符（<strong>grep -P</strong>）</td><td>[\t\r\n]</td></tr></tbody></table><p><strong>举例说明：</strong></p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>需求：将10.1.1.1替换成10.1.1.254

1）vim编辑器支持正则表达式
# vim 1.txt
:%s#\(10.1.1\).1#\1.254#g 
:%s/\(10.1.1\).1/\1.254/g 

2）sed支持正则表达式【后面学】
# sed -n &#39;s#\(10.1.1\).1#\1.254#p&#39; 1.txt
10.1.1.254

说明：
找出含有10.1.1的行，同时保留10.1.1并标记为标签1，之后可以使用\1来引用它。
最多可以定义9个标签，从左边开始编号，最左边的是第一个。


需求：将helloworld yourself 换成hellolilei myself

# vim 1.txt
:%s#\(hello\)world your\(self\)#\1lilei my\2#g

# sed -n &#39;s/\(hello\)world your\(self\)/\1lilei my\2/p&#39; 1.txt 
hellolilei myself

# sed -n &#39;s/helloworld yourself/hellolilei myself/p&#39; 1.txt 
hellolilei myself
# sed -n &#39;s/\(hello\)world your\(self\)/\1lilei my\2/p&#39; 1.txt 
hellolilei myself

Perl内置正则：
\d      匹配数字  [0-9]
\w      匹配字母数字下划线[a-zA-Z0-9_]
\s      匹配空格、制表符、换页符[\t\r\n]

# grep -P &#39;\d&#39; 1.txt
# grep -P &#39;\w&#39; 2.txt
# grep -P &#39;\s&#39; 3.txt
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="三-扩展类正则常用元字符" tabindex="-1"><a class="header-anchor" href="#三-扩展类正则常用元字符" aria-hidden="true">#</a> ㈢ 扩展类正则常用元字符</h3><p><strong>丑话说在前面：</strong></p><p>我说我比较特殊，你要相信！否则我错给你看😏</p><ul><li>grep你要用我，必须加 <strong>-E</strong> 或者 让你兄弟<code>egrep</code>来找我</li><li>sed你要用我，必须加 <strong>-r</strong></li></ul><table><thead><tr><th>扩展元字符</th><th>功能</th><th>备注</th></tr></thead><tbody><tr><td>+</td><td>匹配一个或多个前导字符</td><td>bo+ 匹配boo、 bo</td></tr><tr><td>?</td><td>匹配零个或一个前导字符</td><td>bo? 匹配b、 bo</td></tr><tr><td>|</td><td>或</td><td>匹配a或b</td></tr><tr><td>()</td><td>组字符（看成整体）</td><td>(my|your)self：表示匹配myself或匹配yourself</td></tr><tr><td>{n}</td><td>前导字符重复n次</td><td></td></tr><tr><td>{n,}</td><td>前导字符重复至少n次</td><td></td></tr><tr><td>{n,m}</td><td>前导字符重复n到m次</td><td></td></tr></tbody></table><p><strong>举例说明：</strong></p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code># grep &quot;root|ftp|adm&quot; /etc/passwd
# egrep &quot;root|ftp|adm&quot; /etc/passwd
# grep -E &quot;root|ftp|adm&quot; /etc/passwd

# grep -E &#39;o+gle&#39; test.txt 
# grep -E &#39;o?gle&#39; test.txt 

# egrep &#39;go{2,}&#39; 1.txt
# egrep &#39;(my|your)self&#39; 1.txt


使用正则过滤出文件中的IP地址：
# grep &#39;[0-9]\{2\}\.[0-9]\{1\}\.[0-9]\{1\}\.[0-9]\{1\}&#39; 1.txt 
10.1.1.1
# grep &#39;[0-9]{2}\.[0-9]{1}\.[0-9]{1}\.[0-9]{1}&#39; 1.txt 
# grep -E &#39;[0-9]{2}\.[0-9]{1}\.[0-9]{1}\.[0-9]{1}&#39; 1.txt 
10.1.1.1
# grep -E &#39;[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}&#39; 1.txt 
10.1.1.1
# grep -E &#39;([0-9]{1,3}\.){3}[0-9]{1,3}&#39; 1.txt 
10.1.1.1
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>##5. 第二类正则</p><table><thead><tr><th>表达式</th><th>功能</th><th>示例</th></tr></thead><tbody><tr><td>[:alnum:]</td><td>字母与数字字符</td><td>[[:alnum:]]+</td></tr><tr><td>[:alpha:]</td><td>字母字符(包括大小写字母)</td><td>[[:alpha:]]{4}</td></tr><tr><td>[:blank:]</td><td>空格与制表符</td><td>[[:blank:]]*</td></tr><tr><td>[:digit:]</td><td>数字</td><td>[[:digit:]]?</td></tr><tr><td>[:lower:]</td><td>小写字母</td><td>[[:lower:]]{4,}</td></tr><tr><td>[:upper:]</td><td>大写字母</td><td>[[:upper:]]+</td></tr><tr><td>[:punct:]</td><td>标点符号</td><td>[[:punct:]]</td></tr><tr><td>[:space:]</td><td>包括换行符，回车等在内的所有空白</td><td>[[:space:]]+</td></tr></tbody></table><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>[root@server shell05]# grep -E &#39;^[[:digit:]]+&#39; 1.txt
[root@server shell05]# grep -E &#39;^[^[:digit:]]+&#39; 1.txt
[root@server shell05]# grep -E &#39;[[:lower:]]{4,}&#39; 1.txt
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_6-正则表达式总结" tabindex="-1"><a class="header-anchor" href="#_6-正则表达式总结" aria-hidden="true">#</a> 6. 正则表达式总结</h2><p><strong>把握一个原则，让你轻松搞定可恶的正则符号：</strong></p><ol><li>我要找什么？ <ul><li>找数字 [0-9]</li><li>找字母 [a-zA-Z]</li><li>找标点符号 [[:punct:]]</li></ul></li><li>我要如何找？看心情找 <ul><li>以什么为首 ^key</li><li>以什么结尾 key$</li><li>包含什么或不包含什么 [abc] ^[abc] [^abc] ^[^abc]</li></ul></li><li>我要找多少呀？ <ul><li>找前导字符出现0次或连续多次 ab==*==</li><li>找任意单个(一次)字符 ab==.==</li><li>找任意字符 ab==.*==</li><li>找前导字符连续出现几次 {n} {n,m} {n,}</li><li>找前导字符出现1次或多次 go==+==</li><li>找前到字符出现0次或1次 go==?==</li></ul></li></ol><h1 id="五、正则元字符一栏表" tabindex="-1"><a class="header-anchor" href="#五、正则元字符一栏表" aria-hidden="true">#</a> 五、正则元字符一栏表</h1><p><strong>元字符</strong>：在正则中，具有特殊意义的专用字符，如: 星号(*)、加号(+)等</p><p><strong>前导字符</strong>：元字符前面的字符叫前导字符</p><table><thead><tr><th>元字符</th><th>功能</th><th>示例</th></tr></thead><tbody><tr><td>*</td><td>前导字符出现0次或者连续多次</td><td>ab* abbbb</td></tr><tr><td>.</td><td>除了换行符以外，任意单个字符</td><td>ab. ab8 abu</td></tr><tr><td>.*</td><td>任意长度的字符</td><td>ab.* adfdfdf</td></tr><tr><td>[]</td><td>括号里的任意单个字符或一组单个字符</td><td>[abc][0-9][a-z]</td></tr><tr><td>[^]</td><td>不匹配括号里的任意单个字符或一组单个字符</td><td>[^abc]</td></tr><tr><td>[<a href="https://note.youdao.com/md/preview.html?file=%2Fyws%2Fapi%2Fpersonal%2Ffile%2F25D87A9819C746E29E1D846E0187978C%3Fmethod%3Ddownload%26read%3Dtrue%26shareKey%3Db402ca42248d060e7bdd5ee145f47cc5#fn3" target="_blank" rel="noopener noreferrer">3]<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></td><td>匹配以括号里的任意单个字符开头</td><td>[<a href="https://note.youdao.com/md/preview.html?file=%2Fyws%2Fapi%2Fpersonal%2Ffile%2F25D87A9819C746E29E1D846E0187978C%3Fmethod%3Ddownload%26read%3Dtrue%26shareKey%3Db402ca42248d060e7bdd5ee145f47cc5#fn4" target="_blank" rel="noopener noreferrer">4]<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></td></tr><tr><td>^[^]</td><td>不匹配以括号里的任意单个字符开头</td><td></td></tr><tr><td>^</td><td>行的开头</td><td>^root</td></tr><tr><td>$</td><td>行的结尾</td><td>bash$</td></tr><tr><td>^$</td><td>空行</td><td></td></tr><tr><td>{n}和{n}</td><td>前导字符连续出现n次</td><td>[0-9]{3}</td></tr><tr><td>{n,}和{n,}</td><td>前导字符至少出现n次</td><td>[a-z]{4,}</td></tr><tr><td>{n,m}和{n,m}</td><td>前导字符连续出现n-m次</td><td>go{2,4}</td></tr><tr><td>&lt;&gt;</td><td>精确匹配单词</td><td>&lt;hello&gt;</td></tr><tr><td>()</td><td>保留匹配到的字符</td><td>(hello)</td></tr><tr><td>+</td><td>前导字符出现1次或者多次</td><td>[0-9]+</td></tr><tr><td>?</td><td>前导字符出现0次或者1次</td><td>go?</td></tr><tr><td>|</td><td>或</td><td>^root|^ftp</td></tr><tr><td>()</td><td>组字符</td><td>(hello|world)123</td></tr><tr><td>\d</td><td>perl内置正则</td><td>grep -P \d+</td></tr><tr><td>\w</td><td>匹配字母数字下划线</td><td></td></tr></tbody></table><h1 id="六、正则练习作业" tabindex="-1"><a class="header-anchor" href="#六、正则练习作业" aria-hidden="true">#</a> 六、正则练习作业</h1><h2 id="_1-文件准备" tabindex="-1"><a class="header-anchor" href="#_1-文件准备" aria-hidden="true">#</a> 1. 文件准备</h2><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code># vim test.txt 
Aieur45869Root0000
9h847RkjfkIIIhello
rootHllow88000dfjj
8ikuioerhfhupliooking
hello world
192.168.0.254
welcome to uplooking.
abcderfkdjfkdtest
rlllA899kdfkdfj
iiiA848890ldkfjdkfj
abc
12345678908374
123456@qq.com
123456@163.com
abcdefg@itcast.com23ed
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_2-具体要求-1" tabindex="-1"><a class="header-anchor" href="#_2-具体要求-1" aria-hidden="true">#</a> 2. 具体要求</h2><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>1、查找不以大写字母开头的行（三种写法）。
grep &#39;^[^A-Z]&#39; 2.txt
grep -v &#39;^[A-Z]&#39; 2.txt
grep &#39;^[^[:upper:]]&#39; 2.txt
2、查找有数字的行（两种写法）
grep &#39;[0-9]&#39; 2.txt
grep -P &#39;\d&#39; 2.txt
3、查找一个数字和一个字母连起来的
grep -E &#39;[0-9][a-zA-Z]|[a-zA-Z][0-9]&#39; 2.txt
4、查找不以r开头的行
grep -v &#39;^r&#39; 2.txt
grep &#39;^[^r]&#39; 2.txt
5、查找以数字开头的
grep &#39;^[0-9]&#39; 2.txt
6、查找以大写字母开头的
grep &#39;^[A-Z]&#39; 2.txt
7、查找以小写字母开头的
grep &#39;^[a-z]&#39; 2.txt
8、查找以点结束的
grep &#39;\.$&#39; 2.txt
9、去掉空行
grep -v &#39;^$&#39; 2.txt
10、查找完全匹配abc的行
grep &#39;\&lt;abc\&gt;&#39; 2.txt
11、查找A后有三个数字的行
grep -E &#39;A[0-9]{3}&#39; 2.txt
grep  &#39;A[0-9]\{3\}&#39; 2.txt
12、统计root在/etc/passwd里出现了几次
grep -o &#39;root&#39; 1.txt |wc -l

13、用正则表达式找出自己的IP地址、广播地址、子网掩码
ifconfig eth0|grep Bcast|grep -o &#39;[0-9]\{1,3\}\.[0-9]\{1,3\}\.[0-9]\{1,3\}\.[0-9]\{1,3\}&#39;
ifconfig eth0|grep Bcast| grep -E -o &#39;([0-9]{1,3}.){3}[0-9]{1,3}&#39;
ifconfig eth0|grep Bcast| grep -P -o &#39;\d{1,3}.\d{1,3}.\d{1,3}.\d{1,3}&#39;
ifconfig eth0|grep Bcast| grep -P -o &#39;(\d{1,3}.){3}\d{1,3}&#39;
ifconfig eth0|grep Bcast| grep -P -o &#39;(\d+.){3}\d+&#39;

# egrep --color &#39;[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}&#39; /etc/sysconfig/network-scripts/ifcfg-eth0
IPADDR=10.1.1.1
NETMASK=255.255.255.0
GATEWAY=10.1.1.254

# egrep --color &#39;[[:digit:]]{1,3}\.[[:digit:]]{1,3}\.[[:digit:]]{1,3}\.[[:digit:]]{1,3}&#39; /etc/sysconfig/network-scripts/ifcfg-eth0 
IPADDR=10.1.1.1
NETMASK=255.255.255.0
GATEWAY=10.1.1.254


14、找出文件中的ip地址并且打印替换成172.16.2.254
grep -o -E &#39;([0-9]{1,3}\.){3}[0-9]{1,3}&#39; 1.txt |sed -n &#39;s/192.168.0.\(254\)/172.16.2.\1/p&#39;

15、找出文件中的ip地址
grep -o -E &#39;([0-9]{1,3}\.){3}[0-9]{1,3}&#39; 1.txt

16、找出全部是数字的行
grep -E &#39;^[0-9]+$&#39; test
17、找出邮箱地址
grep -E &#39;^[0-9]+@[a-z0-9]+\.[a-z]+$&#39;


grep --help:
匹配模式选择：
Regexp selection and interpretation:
  -E, --extended-regexp     扩展正则
  -G, --basic-regexp        基本正则
  -P, --perl-regexp         调用perl的正则
  -e, --regexp=PATTERN      use PATTERN for matching
  -f, --file=FILE           obtain PATTERN from FILE
  -i, --ignore-case         忽略大小写
  -w, --word-regexp         匹配整个单词
  
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>#七、课后作业</p><h2 id="脚本搭建web服务" tabindex="-1"><a class="header-anchor" href="#脚本搭建web服务" aria-hidden="true">#</a> 脚本搭建web服务</h2><p><strong>要求如下</strong>：</p><ol><li>用户输入web服务器的IP、域名以及数据根目录</li><li>如果用户不输入则一直提示输入，直到输入为止</li><li>当访问www.test.cc时可以访问到数据根目录里的首页文件“this is test page”</li></ol><p><strong>参考脚本：</strong></p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>参考：
#!/bin/bash
conf=/etc/httpd/conf/httpd.conf
input_fun()
{
  input_var=&quot;&quot;
  output_var=$1
  while [ -z $input_var ]
	do
	read -p &quot;$output_var&quot; input_var
	done
	echo $input_var
}
ipaddr=$(input_fun &quot;Input Host ip[192.168.0.1]:&quot;)
web_host_name=$(input_fun &quot;Input VirtualHostName [www.test.cc]:&quot;)
root_dir=$(input_fun &quot;Input host Documentroot dir:[/var/www/html]:&quot;)

[ ! -d $root_dir ] &amp;&amp; mkdir -p $root_dir
chown apache.apache $root_dir &amp;&amp; chmod 755 $root_dir
echo this is $web_host_name &gt; $root_dir/index.html
echo &quot;$ipaddr $web_host_name&quot; &gt;&gt; /etc/hosts

[ -f $conf ] &amp;&amp; cat &gt;&gt; $conf &lt;&lt;end
NameVirtualHost $ipaddr:80
&lt;VirtualHost $ipaddr:80&gt;
	ServerAdmin webmaster@$web_host_name
	DocumentRoot $root_dir
	ServerName $web_host_name
	ErrorLog logs/$web_host_name-error_log
	CustomLog logs/$web_host_name-access_loh common
&lt;/VirtualHost&gt;
end
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><ul><li><ul><li><a href="https://note.youdao.com/md/preview.html?file=%2Fyws%2Fapi%2Fpersonal%2Ffile%2FDE6B4DF94A024C548A220DD89C0286A5%3Fmethod%3Ddownload%26read%3Dtrue%26shareKey%3Db402ca42248d060e7bdd5ee145f47cc5#typora-root-url-pictures" target="_blank" rel="noopener noreferrer">typora-root-url: ....\pictures<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li></ul></li><li>一、文件编辑器知多少 <ul><li><a href="https://note.youdao.com/md/preview.html?file=%2Fyws%2Fapi%2Fpersonal%2Ffile%2FDE6B4DF94A024C548A220DD89C0286A5%3Fmethod%3Ddownload%26read%3Dtrue%26shareKey%3Db402ca42248d060e7bdd5ee145f47cc5#1-sed%E7%94%A8%E6%9D%A5%E5%81%9A%E5%95%A5" target="_blank" rel="noopener noreferrer">1. sed用来做啥？<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li><a href="https://note.youdao.com/md/preview.html?file=%2Fyws%2Fapi%2Fpersonal%2Ffile%2FDE6B4DF94A024C548A220DD89C0286A5%3Fmethod%3Ddownload%26read%3Dtrue%26shareKey%3Db402ca42248d060e7bdd5ee145f47cc5#2-sed%E5%A6%82%E4%BD%95%E5%A4%84%E7%90%86%E6%96%87%E4%BB%B6" target="_blank" rel="noopener noreferrer">2. sed如何处理文件？<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li>\1. 命令行格式 <ul><li><a href="https://note.youdao.com/md/preview.html?file=%2Fyws%2Fapi%2Fpersonal%2Ffile%2FDE6B4DF94A024C548A220DD89C0286A5%3Fmethod%3Ddownload%26read%3Dtrue%26shareKey%3Db402ca42248d060e7bdd5ee145f47cc5#%E4%B8%80-%E8%AF%AD%E6%B3%95%E6%A0%BC%E5%BC%8F" target="_blank" rel="noopener noreferrer">㈠ 语法格式<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li>㈡ 举例说明 <ul><li>① 对文件进行增、删、改、查操作 <ul><li><a href="https://note.youdao.com/md/preview.html?file=%2Fyws%2Fapi%2Fpersonal%2Ffile%2FDE6B4DF94A024C548A220DD89C0286A5%3Fmethod%3Ddownload%26read%3Dtrue%26shareKey%3Db402ca42248d060e7bdd5ee145f47cc5#1%E6%89%93%E5%8D%B0%E6%96%87%E4%BB%B6%E5%86%85%E5%AE%B9" target="_blank" rel="noopener noreferrer">1）打印文件内容<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li><a href="https://note.youdao.com/md/preview.html?file=%2Fyws%2Fapi%2Fpersonal%2Ffile%2FDE6B4DF94A024C548A220DD89C0286A5%3Fmethod%3Ddownload%26read%3Dtrue%26shareKey%3Db402ca42248d060e7bdd5ee145f47cc5#2%E5%A2%9E%E5%8A%A0%E6%96%87%E4%BB%B6%E5%86%85%E5%AE%B9" target="_blank" rel="noopener noreferrer">2）增加文件内容<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li><a href="https://note.youdao.com/md/preview.html?file=%2Fyws%2Fapi%2Fpersonal%2Ffile%2FDE6B4DF94A024C548A220DD89C0286A5%3Fmethod%3Ddownload%26read%3Dtrue%26shareKey%3Db402ca42248d060e7bdd5ee145f47cc5#3%E4%BF%AE%E6%94%B9%E6%96%87%E4%BB%B6%E5%86%85%E5%AE%B9" target="_blank" rel="noopener noreferrer">3）修改文件内容<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li><a href="https://note.youdao.com/md/preview.html?file=%2Fyws%2Fapi%2Fpersonal%2Ffile%2FDE6B4DF94A024C548A220DD89C0286A5%3Fmethod%3Ddownload%26read%3Dtrue%26shareKey%3Db402ca42248d060e7bdd5ee145f47cc5#4%E5%88%A0%E9%99%A4%E6%96%87%E4%BB%B6%E5%86%85%E5%AE%B9" target="_blank" rel="noopener noreferrer">4）删除文件内容<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li></ul></li><li><a href="https://note.youdao.com/md/preview.html?file=%2Fyws%2Fapi%2Fpersonal%2Ffile%2FDE6B4DF94A024C548A220DD89C0286A5%3Fmethod%3Ddownload%26read%3Dtrue%26shareKey%3Db402ca42248d060e7bdd5ee145f47cc5#2-%E5%AF%B9%E6%96%87%E4%BB%B6%E8%BF%9B%E8%A1%8C%E6%90%9C%E7%B4%A2%E6%9B%BF%E6%8D%A2%E6%93%8D%E4%BD%9C" target="_blank" rel="noopener noreferrer">② 对文件进行搜索替换操作<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li><a href="https://note.youdao.com/md/preview.html?file=%2Fyws%2Fapi%2Fpersonal%2Ffile%2FDE6B4DF94A024C548A220DD89C0286A5%3Fmethod%3Ddownload%26read%3Dtrue%26shareKey%3Db402ca42248d060e7bdd5ee145f47cc5#3-%E5%85%B6%E4%BB%96%E5%91%BD%E4%BB%A4" target="_blank" rel="noopener noreferrer">③ 其他命令<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li><a href="https://note.youdao.com/md/preview.html?file=%2Fyws%2Fapi%2Fpersonal%2Ffile%2FDE6B4DF94A024C548A220DD89C0286A5%3Fmethod%3Ddownload%26read%3Dtrue%26shareKey%3Db402ca42248d060e7bdd5ee145f47cc5#4-%E5%85%B6%E4%BB%96%E9%80%89%E9%A1%B9" target="_blank" rel="noopener noreferrer">④ 其他选项<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li><a href="https://note.youdao.com/md/preview.html?file=%2Fyws%2Fapi%2Fpersonal%2Ffile%2FDE6B4DF94A024C548A220DD89C0286A5%3Fmethod%3Ddownload%26read%3Dtrue%26shareKey%3Db402ca42248d060e7bdd5ee145f47cc5#5-sed%E7%BB%93%E5%90%88%E6%AD%A3%E5%88%99%E4%BD%BF%E7%94%A8" target="_blank" rel="noopener noreferrer">⑤ sed结合正则使用<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li></ul></li><li><a href="https://note.youdao.com/md/preview.html?file=%2Fyws%2Fapi%2Fpersonal%2Ffile%2FDE6B4DF94A024C548A220DD89C0286A5%3Fmethod%3Ddownload%26read%3Dtrue%26shareKey%3Db402ca42248d060e7bdd5ee145f47cc5#%E4%B8%80-%E7%94%A8%E6%B3%95" target="_blank" rel="noopener noreferrer">㈠ 用法<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li><a href="https://note.youdao.com/md/preview.html?file=%2Fyws%2Fapi%2Fpersonal%2Ffile%2FDE6B4DF94A024C548A220DD89C0286A5%3Fmethod%3Ddownload%26read%3Dtrue%26shareKey%3Db402ca42248d060e7bdd5ee145f47cc5#%E4%BA%8C-%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9" target="_blank" rel="noopener noreferrer">㈡ 注意事项<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li><a href="https://note.youdao.com/md/preview.html?file=%2Fyws%2Fapi%2Fpersonal%2Ffile%2FDE6B4DF94A024C548A220DD89C0286A5%3Fmethod%3Ddownload%26read%3Dtrue%26shareKey%3Db402ca42248d060e7bdd5ee145f47cc5#%E4%B8%89%E4%B8%BE%E4%BE%8B%E8%AF%B4%E6%98%8E" target="_blank" rel="noopener noreferrer">㈢举例说明<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li></ul></li></ul></li></ul><p>#课程目标</p><ul><li>掌握sed的基本语法结构</li><li>熟悉sed常用的命令，如打印p，删除d，插入i等</li></ul><h1 id="一、文件编辑器知多少" tabindex="-1"><a class="header-anchor" href="#一、文件编辑器知多少" aria-hidden="true">#</a> 一、文件编辑器知多少</h1><ul><li><strong>Windows系统</strong></li></ul><p><img src="http://./edit.png?ynotemdtimestamp=1607388328295" alt="edit"></p><ul><li><strong>Linux系统</strong></li></ul><p>​ vim vi gedit nano emacs</p><p>#二、强悍的sed介绍</p><h2 id="_1-sed用来做啥" tabindex="-1"><a class="header-anchor" href="#_1-sed用来做啥" aria-hidden="true">#</a> 1. sed用来做啥？</h2><p>sed是Stream Editor（流编辑器）的缩写，简称流编辑器；用来处理文件的。</p><h2 id="_2-sed如何处理文件" tabindex="-1"><a class="header-anchor" href="#_2-sed如何处理文件" aria-hidden="true">#</a> 2. sed如何处理文件？</h2><blockquote><p>sed是一行一行读取文件内容并按照要求进行处理，把处理后的结果输出到屏幕。</p></blockquote><p><img src="http://./sed.png?ynotemdtimestamp=1607388328295" alt="sed"></p><ol><li>首先sed读取文件中的一行内容，把其保存在一个临时缓存区中（也称为模式空间）</li><li>然后根据需求处理临时缓冲区中的行，完成后把该行发送到屏幕上</li></ol><p><strong>总结：</strong></p><ol><li>由于sed把每一行都存在临时缓冲区中，对这个<strong>副本</strong>进行编辑，所以不会直接修改原文件</li><li>Sed主要用来自动编辑一个或多个文件；简化对文件的反复操作,对文件进行过滤和转换操作</li></ol><p>#三、sed使用方法介绍</p><blockquote><p>sed常见的语法格式有两种，一种叫命令行模式，另一种叫脚本模式。</p></blockquote><h2 id="_1-命令行格式" tabindex="-1"><a class="header-anchor" href="#_1-命令行格式" aria-hidden="true">#</a> 1. 命令行格式</h2><h3 id="一-语法格式" tabindex="-1"><a class="header-anchor" href="#一-语法格式" aria-hidden="true">#</a> ㈠ 语法格式</h3><p>sed [options] <strong>&#39;<strong>处理动作</strong>&#39;</strong> 文件名</p><ul><li><strong>常用选项</strong></li></ul><table><thead><tr><th>选项</th><th>说明</th><th>备注</th></tr></thead><tbody><tr><td>-e</td><td>进行多项(多次)编辑</td><td></td></tr><tr><td>-n</td><td>取消默认输出</td><td>不自动打印模式空间</td></tr><tr><td>-r</td><td>使用扩展正则表达式</td><td></td></tr><tr><td>-i</td><td>原地编辑（修改源文件）</td><td></td></tr><tr><td>-f</td><td>指定sed脚本的文件名</td><td></td></tr></tbody></table><ul><li><strong>常见处理动作</strong></li></ul><p><strong>丑话说在前面</strong>：以下所有的动作都要在<strong>单引号</strong>里，你敢出轨，回家跪搓衣板</p><table><thead><tr><th>动作</th><th>说明</th><th>备注</th></tr></thead><tbody><tr><td>&#39;p&#39;</td><td>打印</td><td></td></tr><tr><td>&#39;i&#39;</td><td>在指定行之前插入内容</td><td>类似vim里的大写O</td></tr><tr><td>&#39;a&#39;</td><td>在指定行之后插入内容</td><td>类似vim里的小写o</td></tr><tr><td>&#39;c&#39;</td><td>替换指定行所有内容</td><td></td></tr><tr><td>&#39;d&#39;</td><td>删除指定行</td><td></td></tr></tbody></table><h3 id="二-举例说明" tabindex="-1"><a class="header-anchor" href="#二-举例说明" aria-hidden="true">#</a> ㈡ 举例说明</h3><ul><li>文件准备</li></ul><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code># vim a.txt 
root:x:0:0:root:/root:/bin/bash
bin:x:1:1:bin:/bin:/sbin/nologin
daemon:x:2:2:daemon:/sbin:/sbin/nologin
adm:x:3:4:adm:/var/adm:/sbin/nologin
lp:x:4:7:lp:/var/spool/lpd:/sbin/nologin
298374837483
172.16.0.254
10.1.1.1
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_1-对文件进行增、删、改、查操作" tabindex="-1"><a class="header-anchor" href="#_1-对文件进行增、删、改、查操作" aria-hidden="true">#</a> ① 对文件进行增、删、改、查操作</h4><blockquote><p>语法：sed 选项 <strong>&#39;*<em>定位+命令*</em>&#39;</strong> 需要处理的文件</p></blockquote><h5 id="_1-打印文件内容" tabindex="-1"><a class="header-anchor" href="#_1-打印文件内容" aria-hidden="true">#</a> 1）打印文件内容</h5><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>[root@server ~]# sed &#39;&#39;  a.txt						对文件什么都不做
[root@server ~]# sed -n &#39;p&#39;  a.txt					打印每一行，并取消默认输出
[root@server ~]# sed -n &#39;1p&#39;  a.txt					打印第1行
[root@server ~]# sed -n &#39;2p&#39;  a.txt					打印第2行
[root@server ~]# sed -n &#39;1,5p&#39;  a.txt				打印1到5行
[root@server ~]# sed -n &#39;$p&#39; a.txt 					打印最后1行
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="_2-增加文件内容" tabindex="-1"><a class="header-anchor" href="#_2-增加文件内容" aria-hidden="true">#</a> 2）增加文件内容</h5><p>i 地址定位的上面插入</p><p>a 下面插入</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>[root@server ~]# sed &#39;$a99999&#39; a.txt 				文件最后一行下面增加内容
[root@server ~]# sed &#39;a99999&#39; a.txt 				文件每行下面增加内容
[root@server ~]# sed &#39;5a99999&#39; a.txt 				文件第5行下面增加内容
[root@server ~]# sed &#39;$i99999&#39; a.txt 				文件最后一行上一行增加内容
[root@server ~]# sed &#39;i99999&#39; a.txt 				文件每行上一行增加内容
[root@server ~]# sed &#39;6i99999&#39; a.txt 				文件第6行上一行增加内容
[root@server ~]# sed &#39;/^uucp/ihello&#39;				以uucp开头行的上一行插入内容
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="_3-修改文件内容" tabindex="-1"><a class="header-anchor" href="#_3-修改文件内容" aria-hidden="true">#</a> 3）修改文件内容</h5><p>c 替换指定的整行内容</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>[root@server ~]# sed &#39;5chello world&#39; a.txt 		替换文件第5行内容
[root@server ~]# sed &#39;chello world&#39; a.txt 		替换文件所有内容
[root@server ~]# sed &#39;1,5chello world&#39; a.txt 	替换文件1到5号内容为hello world
[root@server ~]# sed &#39;/^user01/c888888&#39; a.txt	替换以user01开头的行
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="_4-删除文件内容" tabindex="-1"><a class="header-anchor" href="#_4-删除文件内容" aria-hidden="true">#</a> 4）删除文件内容</h5><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>[root@server ~]# sed &#39;1d&#39; a.txt 						删除文件第1行
[root@server ~]# sed &#39;1,5d&#39; a.txt 					删除文件1到5行
[root@server ~]# sed &#39;$d&#39; a.txt						删除文件最后一行
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_2-对文件进行搜索替换操作" tabindex="-1"><a class="header-anchor" href="#_2-对文件进行搜索替换操作" aria-hidden="true">#</a> ② 对文件进行搜索替换操作</h4><blockquote><p>语法：sed 选项 <strong>&#39;s/搜索的内容/替换的内容/动作&#39;</strong> 需要处理的文件</p><p>其中，<strong>s</strong>表示search搜索；斜杠**/<strong>表示分隔符，可以自己定义;动作一般是打印</strong>p<strong>和全局替换</strong>g**</p></blockquote><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>[root@server ~]# sed -n &#39;s/root/ROOT/p&#39; 1.txt 
[root@server ~]# sed -n &#39;s/root/ROOT/gp&#39; 1.txt 
[root@server ~]# sed -n &#39;s/^#//gp&#39; 1.txt 
[root@server ~]# sed -n &#39;s@/sbin/nologin@itcast@gp&#39; a.txt
[root@server ~]# sed -n &#39;s/\/sbin\/nologin/itcast/gp&#39; a.txt
[root@server ~]# sed -n &#39;10s#/sbin/nologin#itcast#p&#39; a.txt 
uucp:x:10:14:uucp:/var/spool/uucp:itcast
[root@server ~]# sed -n &#39;s@/sbin/nologin@itcastheima@p&#39; 2.txt 
注意：搜索替换中的分隔符可以自己指定

[root@server ~]# sed -n &#39;1,5s/^/#/p&#39; a.txt 		注释掉文件的1-5行内容
#root:x:0:0:root:/root:/bin/bash
#bin:x:1:1:bin:/bin:/sbin/nologin
#daemon:x:2:2:daemon:/sbin:/sbin/nologin
#adm:x:3:4:adm:/var/adm:/sbin/nologin
#lp:x:4:7:lp:/var/spool/lpd:/sbin/nologin
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_3-其他命令" tabindex="-1"><a class="header-anchor" href="#_3-其他命令" aria-hidden="true">#</a> ③ 其他命令</h4><table><thead><tr><th>命令</th><th>解释</th><th>备注</th></tr></thead><tbody><tr><td>r</td><td>从另外文件中读取内容</td><td></td></tr><tr><td>w</td><td>内容另存为</td><td></td></tr><tr><td>&amp;</td><td>保存查找串以便在替换串中引用</td><td>和()相同</td></tr><tr><td>=</td><td>打印行号</td><td></td></tr><tr><td>！</td><td>对所选行以外的所有行应用命令，放到行数之后</td><td>&#39;1,5!&#39;</td></tr><tr><td>q</td><td>退出</td><td></td></tr></tbody></table><p><strong>举例说明：</strong></p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>r	从文件中读取输入行
w	将所选的行写入文件
[root@server ~]# sed &#39;3r /etc/hosts&#39; 2.txt 
[root@server ~]# sed &#39;$r /etc/hosts&#39; 2.txt
[root@server ~]# sed &#39;/root/w a.txt&#39; 2.txt 
[root@server ~]# sed &#39;/[0-9]{4}/w a.txt&#39; 2.txt
[root@server ~]# sed  -r &#39;/([0-9]{1,3}\.){3}[0-9]{1,3}/w b.txt&#39; 2.txt

!	对所选行以外的所有行应用命令，放到行数之后
[root@server ~]# sed -n &#39;1!p&#39; 1.txt 
[root@server ~]# sed -n &#39;4p&#39; 1.txt 
[root@server ~]# sed -n &#39;4!p&#39; 1.txt 
[root@server ~]# cat -n 1.txt 
[root@server ~]# sed -n &#39;1,17p&#39; 1.txt 
[root@server ~]# sed -n &#39;1,17!p&#39; 1.txt 

&amp;   保存查找串以便在替换串中引用   \(\)

[root@server ~]# sed -n &#39;/root/p&#39; a.txt 
root:x:0:0:root:/root:/bin/bash
[root@server ~]# sed -n &#39;s/root/#&amp;/p&#39; a.txt 
#root:x:0:0:root:/root:/bin/bash

# sed -n &#39;s/^root/#&amp;/p&#39; passwd   注释掉以root开头的行
# sed -n -r &#39;s/^root|^stu/#&amp;/p&#39; /etc/passwd	注释掉以root开头或者以stu开头的行
# sed -n &#39;1,5s/^[a-z].*/#&amp;/p&#39; passwd  注释掉1~5行中以任意小写字母开头的行
# sed -n &#39;1,5s/^/#/p&#39; /etc/passwd  注释1~5行
或者
sed -n &#39;1,5s/^/#/p&#39; passwd 以空开头的加上#
sed -n &#39;1,5s/^#//p&#39; passwd 以#开头的替换成空

[root@server ~]# sed -n &#39;/^root/p&#39; 1.txt 
[root@server ~]# sed -n &#39;s/^root/#&amp;/p&#39; 1.txt 
[root@server ~]# sed -n &#39;s/\(^root\)/#\1/p&#39; 1.txt 
[root@server ~]# sed -nr &#39;/^root|^stu/p&#39; 1.txt 
[root@server ~]# sed -nr &#39;s/^root|^stu/#&amp;/p&#39; 1.txt 


= 	打印行号
# sed -n &#39;/bash$/=&#39; passwd    打印以bash结尾的行的行号
# sed -ne &#39;/root/=&#39; -ne &#39;/root/p&#39; passwd 
# sed -n &#39;/nologin$/=;/nologin$/p&#39; 1.txt
# sed -ne &#39;/nologin$/=&#39; -ne &#39;/nologin$/p&#39; 1.txt

q	退出
# sed &#39;5q&#39; 1.txt
# sed &#39;/mail/q&#39; 1.txt
# sed -r &#39;/^yunwei|^mail/q&#39; 1.txt
[root@server ~]# sed -n &#39;/bash$/p;10q&#39; 1.txt
ROOT:x:0:0:root:/root:/bin/bash


综合运用：
[root@server ~]# sed -n &#39;1,5s/^/#&amp;/p&#39; 1.txt 
#root:x:0:0:root:/root:/bin/bash
#bin:x:1:1:bin:/bin:/sbin/nologin
#daemon:x:2:2:daemon:/sbin:/sbin/nologin
#adm:x:3:4:adm:/var/adm:/sbin/nologin
#lp:x:4:7:lp:/var/spool/lpd:/sbin/nologin

[root@server ~]# sed -n &#39;1,5s/\(^\)/#\1/p&#39; 1.txt 
#root:x:0:0:root:/root:/bin/bash
#bin:x:1:1:bin:/bin:/sbin/nologin
#daemon:x:2:2:daemon:/sbin:/sbin/nologin
#adm:x:3:4:adm:/var/adm:/sbin/nologin
#lp:x:4:7:lp:/var/spool/lpd:/sbin/nologin
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_4-其他选项" tabindex="-1"><a class="header-anchor" href="#_4-其他选项" aria-hidden="true">#</a> ④ 其他选项</h4><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>-e 多项编辑
-r	扩展正则
-i 修改原文件

[root@server ~]# sed -ne &#39;/root/p&#39; 1.txt -ne &#39;/root/=&#39;
root:x:0:0:root:/root:/bin/bash
1
[root@server ~]# sed -ne &#39;/root/=&#39; -ne &#39;/root/p&#39; 1.txt 
1
root:x:0:0:root:/root:/bin/bash

在1.txt文件中的第5行的前面插入“hello world”;在1.txt文件的第8行下面插入“哈哈哈哈”

[root@server ~]# sed -e &#39;5ihello world&#39; -e &#39;8a哈哈哈哈哈&#39; 1.txt  -e &#39;5=;8=&#39;

sed -n &#39;1,5p&#39; 1.txt
sed -ne &#39;1p&#39; -ne &#39;5p&#39; 1.txt
sed -ne &#39;1p;5p&#39; 1.txt

过滤vsftpd.conf文件中以#开头和空行：
[root@server ~]# grep -Ev &#39;^#|^$&#39; /etc/vsftpd/vsftpd.conf
[root@server ~]# sed -e &#39;/^#/d&#39; -e &#39;/^$/d&#39; /etc/vsftpd/vsftpd.conf
[root@server ~]# sed &#39;/^#/d;/^$/d&#39; /etc/vsftpd/vsftpd.conf
[root@server ~]# sed -r &#39;/^#|^$/d&#39; /etc/vsftpd/vsftpd.conf

过滤smb.conf文件中生效的行：
# sed -e &#39;/^#/d&#39; -e &#39;/^;/d&#39; -e &#39;/^$/d&#39; -e &#39;/^\t$/d&#39; -e &#39;/^\t#/d&#39; smb.conf
# sed -r &#39;/^(#|$|;|\t#|\t$)/d&#39; smb.conf 

# sed -e &#39;/^#/d&#39; -e &#39;/^;/d&#39; -e &#39;/^$/d&#39; -e &#39;/^\t$/d&#39; -e &#39;/^\t#/&#39; smb.conf


[root@server ~]# grep &#39;^[^a-z]&#39; 1.txt

[root@server ~]# sed -n &#39;/^[^a-z]/p&#39; 1.txt

过滤出文件中的IP地址：
[root@server ~]# grep -E &#39;([0-9]{1,3}\.){3}[0-9]{1,3}&#39; 1.txt 
192.168.0.254
[root@server ~]# sed -nr &#39;/([0-9]{1,3}\.){3}[0-9]{1,3}/p&#39; 1.txt 
192.168.0.254

[root@server ~]# grep -o -E &#39;([0-9]{1,3}\.){3}[0-9]{1,3}&#39; 2.txt 
10.1.1.1
10.1.1.255
255.255.255.0

[root@server ~]# sed -nr &#39;/([0-9]{1,3}\.){3}[0-9]{1,3}/p&#39; 2.txt
10.1.1.1
10.1.1.255
255.255.255.0
过滤出ifcfg-eth0文件中的IP、子网掩码、广播地址
[root@server shell06]# grep -Eo &#39;([0-9]{1,3}\.){3}[0-9]{1,3}&#39; ifcfg-eth0 
10.1.1.1
255.255.255.0
10.1.1.254
[root@server shell06]# sed -nr &#39;/([0-9]{1,3}\.){3}[0-9]{1,3}/p&#39; ifcfg-eth0|cut -d&#39;=&#39; -f2
10.1.1.1
255.255.255.0
10.1.1.254
[root@server shell06]# sed -nr &#39;/([0-9]{1,3}\.){3}[0-9]{1,3}/p&#39; ifcfg-eth0|sed -n &#39;s/[A-Z=]//gp&#39;
10.1.1.1
255.255.255.0
10.1.1.254

[root@server shell06]# ifconfig eth0|sed -n &#39;2p&#39;|sed -n &#39;s/[:a-Z]//gp&#39;|sed -n &#39;s/ /\n/gp&#39;|sed &#39;/^$/d&#39;
10.1.1.1
10.1.1.255
255.255.255.0
[root@server shell06]# ifconfig | sed -nr &#39;/([0-9]{1,3}\.)[0-9]{1,3}/p&#39; | head -1|sed -r &#39;s/([a-z:]|[A-Z/t])//g&#39;|sed &#39;s/ /\n/g&#39;|sed  &#39;/^$/d&#39;

[root@server shell06]# ifconfig eth0|sed -n &#39;2p&#39;|sed -n &#39;s/.*addr:\(.*\) Bcast:\(.*\) Mask:\(.*\)/\1\n\2\n\3/p&#39;
10.1.1.1 
10.1.1.255 
255.255.255.0

-i 选项  直接修改原文件
# sed -i &#39;s/root/ROOT/;s/stu/STU/&#39; 11.txt
# sed -i &#39;17{s/YUNWEI/yunwei/;s#/bin/bash#/sbin/nologin#}&#39; 1.txt
# sed -i &#39;1,5s/^/#&amp;/&#39; a.txt
注意：
-ni  不要一起使用
p命令 不要再使用-i时使用
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_5-sed结合正则使用" tabindex="-1"><a class="header-anchor" href="#_5-sed结合正则使用" aria-hidden="true">#</a> ⑤ sed结合正则使用</h4><blockquote><p>sed 选项 &#39;sed命令或者正则表达式或者地址定位==&#39;== 文件名</p></blockquote><ol><li>定址用于决定对哪些行进行编辑。地址的形式可以是数字、正则表达式、或二者的结合。</li><li>如果没有指定地址，sed将处理输入文件的所有行。</li></ol><table><thead><tr><th>正则</th><th>说明</th><th>备注</th></tr></thead><tbody><tr><td>/key/</td><td>查询包含关键字的行</td><td>sed -n &#39;/root/p&#39; 1.txt</td></tr><tr><td>/key1/,/key2/</td><td>匹配包含两个关键字之间的行</td><td>sed -n &#39;/^adm/,/^mysql/p&#39; 1.txt</td></tr><tr><td>/key/,x</td><td>从匹配关键字的行开始到文件第x行之间的行（包含关键字所在行）</td><td>sed -n &#39;/^ftp/,7p&#39;</td></tr><tr><td>x,/key/</td><td>从文件的第x行开始到与关键字的匹配行之间的行</td><td></td></tr><tr><td>x,y!</td><td>不包含x到y行</td><td></td></tr><tr><td>/key/!</td><td>不包括关键字的行</td><td>sed -n &#39;/bash$/!p&#39; 1.txt</td></tr></tbody></table><p>##2. 脚本格式</p><h3 id="一-用法" tabindex="-1"><a class="header-anchor" href="#一-用法" aria-hidden="true">#</a> ㈠ 用法</h3><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code># sed -f scripts.sh  file		//使用脚本处理文件
建议使用   ./sed.sh   file

脚本的第一行写上
#!/bin/sed -f
1,5d
s/root/hello/g
3i777
5i888
a999
p
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="二-注意事项" tabindex="-1"><a class="header-anchor" href="#二-注意事项" aria-hidden="true">#</a> ㈡ 注意事项</h3><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>１）　脚本文件是一个sed的命令行清单。&#39;commands&#39;
２）　在每行的末尾不能有任何空格、制表符（tab）或其它文本。
３）　如果在一行中有多个命令，应该用分号分隔。
４）　不需要且不可用引号保护命令
５）　#号开头的行为注释
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="三-举例说明" tabindex="-1"><a class="header-anchor" href="#三-举例说明" aria-hidden="true">#</a> ㈢举例说明</h3><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code># cat passwd
stu3:x:509:512::/home/user3:/bin/bash
stu4:x:510:513::/home/user4:/bin/bash
stu5:x:511:514::/home/user5:/bin/bash

# cat sed.sh 
#!/bin/sed -f
2a\
******************
2,$s/stu/user/
$a\
we inster new line
s/^[a-z].*/#&amp;/

[root@server ~]# cat 1.sed 
#!/bin/sed -f
3a**********************
$chelloworld
1,3s/^/#&amp;/

[root@server ~]# sed -f 1.sed -i 11.txt 
[root@server ~]# cat 11.txt 
#root:x:0:0:root:/root:/bin/bash
#bin:x:1:1:bin:/bin:/sbin/nologin
#daemon:x:2:2:daemon:/sbin:/sbin/nologin
**********************
adm:x:3:4:adm:/var/adm:/sbin/nologin
helloworld
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>##3. 补充扩展总结</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>1、正则表达式必须以”/“前后规范间隔
例如：sed &#39;/root/d&#39; file
例如：sed &#39;/^root/d&#39; file

2、如果匹配的是扩展正则表达式，需要使用-r选来扩展sed
grep -E
sed -r
+ ? () {n,m} | \d

注意：         
在正则表达式中如果出现特殊字符(^$.*/[]),需要以前导 &quot;\&quot; 号做转义
eg：sed &#39;/\$foo/p&#39; file

3、逗号分隔符
例如：sed &#39;5,7d&#39; file  				删除5到7行
例如：sed &#39;/root/,/ftp/d&#39; file	
删除第一个匹配字符串&quot;root&quot;到第一个匹配字符串&quot;ftp&quot;的所有行本行不找 循环执行
       
4、组合方式
例如：sed &#39;1,/foo/d&#39; file			删除第一行到第一个匹配字符串&quot;foo&quot;的所有行
例如：sed &#39;/foo/,+4d&#39; file			删除从匹配字符串”foo“开始到其后四行为止的行
例如：sed &#39;/foo/,~3d&#39; file			删除从匹配字符串”foo“开始删除到3的倍数行（文件中）
例如：sed &#39;1~5d&#39; file				从第一行开始删每五行删除一行
例如：sed -nr &#39;/foo|bar/p&#39; file	显示配置字符串&quot;foo&quot;或&quot;bar&quot;的行
例如：sed -n &#39;/foo/,/bar/p&#39; file	显示匹配从foo到bar的行
例如：sed &#39;1~2d&#39;  file				删除奇数行
例如：sed &#39;0-2d&#39;   file				删除偶数行 sed &#39;1~2!d&#39;  file

5、特殊情况
例如：sed &#39;$d&#39; file					删除最后一行
例如：sed &#39;1d&#39; file					删除第一行
	
6、其他：
sed &#39;s/.//&#39; a.txt						删除每一行中的第一个字符
sed &#39;s/.//2&#39; a.txt					删除每一行中的第二个字符
sed &#39;s/.//N&#39; a.txt					从文件中第N行开始，删除每行中第N个字符（N&gt;2）
sed &#39;s/.$//&#39; a.txt					删除每一行中的最后一个字符


[root@server ~]# cat 2.txt 
1 a
2 b
3 c
4 d
5 e
6 f
7 u
8 k
9 o
[root@server ~]# sed &#39;/c/,~2d&#39; 2.txt 
1 a
2 b
5 e
6 f
7 u
8 k
9 o
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>#四、课堂练习</p><ol><li>将任意数字替换成空或者制表符</li><li>去掉文件1-5行中的数字、冒号、斜杠</li><li>匹配root关键字替换成hello itcast，并保存到test.txt文件中</li><li>删除vsftpd.conf、smb.conf、main.cf配置文件里所有注释的行及空行（不要直接修改原文件）</li><li>使用sed命令截取自己的ip地址</li><li>使用sed命令一次性截取ip地址、广播地址、子网掩码</li><li>注释掉文件的2-3行和匹配到以root开头或者以ftp开头的行</li></ol><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>1、将文件中任意数字替换成空或者制表符
2、去掉文件1-5行中的数字、冒号、斜杠
3、匹配root关键字的行替换成hello itcast，并保存到test.txt文件中
4、删除vsftpd.conf、smb.conf、main.cf配置文件里所有注释的行及空行（不要直接修改原文件）
5、使用sed命令截取自己的ip地址
# ifconfig eth0|sed -n &#39;2p&#39;|sed -n &#39;s/.*addr://pg&#39;|sed -n &#39;s/Bcast.*//gp&#39;
10.1.1.1  
# ifconfig eth0|sed -n &#39;2p&#39;|sed &#39;s/.*addr://g&#39;|sed &#39;s/ Bcast:.*//g&#39;
6、使用sed命令一次性截取ip地址、广播地址、子网掩码
# ifconfig eth0|sed -n &#39;2p&#39;|sed -n &#39;s#.*addr:\(.*\) Bcast:\(.*\) Mask:\(.*\)#\1\n\2\n\3#p&#39;
10.1.1.1 
10.1.1.255 
255.255.255.0

7、注释掉文件的2-3行和匹配到以root开头或者以ftp开头的行
# sed -nr &#39;2,3s/^/#&amp;/p;s/^ROOT|^ftp/#&amp;/p&#39; 1.txt
#ROOT:x:0:0:root:/root:/bin/bash
#bin:x:1:1:bin:/bin:/sbin/nologin
#3daemon:x:2:2:daemon:/sbin:/sbin/nologin

# sed -ne &#39;1,2s/^/#&amp;/gp&#39; a.txt -nre &#39;s/^lp|^mail/#&amp;/gp&#39;
# sed -nr &#39;1,2s/^/#&amp;/gp;s/^lp|^mail/#&amp;/gp&#39; a.txt
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>#五、课后实战</p><p>1、写一个初始化系统的脚本 1）自动修改主机名（如：ip是192.168.0.88，<a href="http://xn--server88-wg0mja300iq0f268df4f.itcast.cc/" target="_blank" rel="noopener noreferrer">则主机名改为server88.itcast.cc<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>）</p><p>a. 更改文件非交互式 sed</p><p>/etc/sysconfig/network</p><p>b.将本主机的IP截取出来赋值给一个变量ip;再然后将ip变量里以.分割的最后一位赋值给另一个变量ip1</p><p>2）自动配置可用的yum源</p><p>3）自动关闭防火墙和selinux</p><p>2、写一个搭建ftp服务的脚本，要求如下： 1）不支持本地用户登录 local_enable=NO 2） 匿名用户可以上传 新建 删除 anon_upload_enable=YES anon_mkdir_write_enable=YES 3） 匿名用户限速500KBps anon_max_rate=500000</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>仅供参考：
<span class="token comment">#!/bin/bash</span>
<span class="token assign-left variable">ipaddr</span><span class="token operator">=</span><span class="token variable"><span class="token variable">`</span><span class="token function">ifconfig</span> eth0<span class="token operator">|</span><span class="token function">sed</span> <span class="token parameter variable">-n</span> <span class="token string">&#39;2p&#39;</span><span class="token operator">|</span><span class="token function">sed</span> <span class="token parameter variable">-e</span> <span class="token string">&#39;s/.*inet addr:\(.*\) Bcast.*/\1/g&#39;</span><span class="token variable">`</span></span>
<span class="token assign-left variable">iptail</span><span class="token operator">=</span><span class="token variable"><span class="token variable">`</span><span class="token builtin class-name">echo</span> $ipaddr<span class="token operator">|</span><span class="token function">cut</span> -d<span class="token string">&#39;.&#39;</span> <span class="token parameter variable">-f4</span><span class="token variable">`</span></span>
<span class="token assign-left variable">ipremote</span><span class="token operator">=</span><span class="token number">192.168</span>.1.10
<span class="token comment">#修改主机名</span>
<span class="token function">hostname</span> server<span class="token variable">$iptail</span>.itcast.com
<span class="token function">sed</span> <span class="token parameter variable">-i</span> <span class="token string">&quot;/HOSTNAME/cHOSTNAME=server<span class="token variable">$iptail</span>.itcast.com&quot;</span> /etc/sysconfig/network
<span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$ipaddr</span> server<span class="token variable">$iptail</span>.itcast.cc&quot;</span> <span class="token operator">&gt;&gt;</span>/etc/hosts
<span class="token comment">#关闭防火墙和selinux</span>
<span class="token function">service</span> iptables stop
setenforce <span class="token number">0</span> <span class="token operator">&gt;</span>/dev/null <span class="token operator"><span class="token file-descriptor important">2</span>&gt;</span><span class="token file-descriptor important">&amp;1</span>
<span class="token function">sed</span> <span class="token parameter variable">-i</span> <span class="token string">&#39;/^SELINUX=/cSELINUX=disabled&#39;</span> /etc/selinux/config
<span class="token comment">#配置yum源(一般是内网源)</span>
<span class="token comment">#test network</span>
<span class="token function">ping</span> <span class="token parameter variable">-c</span> <span class="token number">1</span> <span class="token variable">$ipremote</span> <span class="token operator">&gt;</span> /dev/null <span class="token operator"><span class="token file-descriptor important">2</span>&gt;</span><span class="token file-descriptor important">&amp;1</span>
<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">$?</span> <span class="token parameter variable">-ne</span> <span class="token number">0</span> <span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">then</span>
	<span class="token builtin class-name">echo</span> <span class="token string">&quot;你的网络不通，请先检查你的网络&quot;</span>
	<span class="token builtin class-name">exit</span> <span class="token number">1</span>
<span class="token keyword">else</span>
	<span class="token builtin class-name">echo</span> <span class="token string">&quot;网络ok.&quot;</span>
<span class="token keyword">fi</span>
<span class="token function">cat</span> <span class="token operator">&gt;</span> /etc/yum.repos.d/server.repo <span class="token operator">&lt;&lt;</span> <span class="token string">end
[server]
name=server
baseurl=ftp://<span class="token variable">$ipremote</span>
enabled=1
gpgcheck=0
end</span>

<span class="token comment">#安装软件</span>
<span class="token builtin class-name">read</span> <span class="token parameter variable">-p</span> <span class="token string">&quot;请输入需要安装的软件，多个用空格隔开：&quot;</span> soft
yum <span class="token parameter variable">-y</span> <span class="token function">install</span> <span class="token variable">$soft</span> <span class="token operator">&amp;&gt;</span>/dev/null

<span class="token comment">#备份配置文件</span>
<span class="token assign-left variable">conf</span><span class="token operator">=</span>/etc/vsftpd/vsftpd.conf
<span class="token punctuation">\</span>cp <span class="token variable">$conf</span> <span class="token variable">$conf</span>.default
<span class="token comment">#根据需求修改配置文件</span>
<span class="token function">sed</span> <span class="token parameter variable">-ir</span> <span class="token string">&#39;/^#|^$/d&#39;</span> <span class="token variable">$conf</span>
<span class="token function">sed</span> <span class="token parameter variable">-i</span> <span class="token string">&#39;/local_enable/c\local_enable=NO&#39;</span> <span class="token variable">$conf</span>
<span class="token function">sed</span> <span class="token parameter variable">-i</span> <span class="token string">&#39;$a anon_upload_enable=YES&#39;</span> <span class="token variable">$conf</span>
<span class="token function">sed</span> <span class="token parameter variable">-i</span> <span class="token string">&#39;$a anon_mkdir_write_enable=YES&#39;</span> <span class="token variable">$conf</span>
<span class="token function">sed</span> <span class="token parameter variable">-i</span> <span class="token string">&#39;$a anon_other_write_enable=YES&#39;</span> <span class="token variable">$conf</span>
<span class="token function">sed</span> <span class="token parameter variable">-i</span> <span class="token string">&#39;$a anon_max_rate=512000&#39;</span> <span class="token variable">$conf</span>
<span class="token comment">#启动服务</span>
<span class="token function">service</span> vsftpd restart <span class="token operator">&amp;&gt;</span>/dev/null <span class="token operator">&amp;&amp;</span> <span class="token builtin class-name">echo</span><span class="token string">&quot;vsftpd服务启动成功&quot;</span>

<span class="token comment">#测试验证</span>
<span class="token function">chmod</span> <span class="token number">777</span> /var/ftp/pub
<span class="token function">cp</span> /etc/hosts /var/ftp/pub
<span class="token comment">#测试下载</span>
<span class="token builtin class-name">cd</span> /tmp
lftp <span class="token variable">$ipaddr</span> <span class="token operator">&lt;&lt;</span><span class="token string">end
cd pub
get hosts
exit
end</span>

<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token parameter variable">-f</span> /tmp/hosts <span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">then</span>
	<span class="token builtin class-name">echo</span> <span class="token string">&quot;匿名用户下载成功&quot;</span>
	<span class="token function">rm</span> <span class="token parameter variable">-f</span> /tmp/hosts
<span class="token keyword">else</span>
	<span class="token builtin class-name">echo</span> <span class="token string">&quot;匿名用户下载失败&quot;</span>
<span class="token keyword">fi</span>
<span class="token comment">#测试上传、创建目录、删除目录等</span>
<span class="token builtin class-name">cd</span> /tmp
lftp <span class="token variable">$ipaddr</span> <span class="token operator">&lt;&lt;</span> <span class="token string">end
cd pub
mkdir test1
mkdir test2
put /etc/group
rmdir test2
exit
end</span>

<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token parameter variable">-d</span> /var/ftp/pub/test1 <span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">then</span>
    <span class="token builtin class-name">echo</span> <span class="token string">&quot;创建目录成功&quot;</span>
	<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token operator">!</span> <span class="token parameter variable">-d</span> /var/ftp/pub/test2 <span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">then</span>
    	<span class="token builtin class-name">echo</span> <span class="token string">&quot;文件删除成功&quot;</span>
        <span class="token keyword">fi</span>
<span class="token keyword">else</span>
	<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token parameter variable">-f</span> /var/ftp/pub/group <span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">then</span>
	<span class="token builtin class-name">echo</span> <span class="token string">&quot;文件上传成功&quot;</span>
        <span class="token keyword">else</span>
        <span class="token builtin class-name">echo</span> <span class="token string">&quot;上传、创建目录删除目录部ok&quot;</span>
        <span class="token keyword">fi</span> 
<span class="token keyword">fi</span>   
<span class="token punctuation">[</span> <span class="token parameter variable">-f</span> /var/ftp/pub/group <span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> <span class="token builtin class-name">echo</span> <span class="token string">&quot;上传文件成功&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><ul><li><a href="https://note.youdao.com/md/preview.html?file=%2Fyws%2Fapi%2Fpersonal%2Ffile%2F8B95F12DC08648A49F90FF43C3CB99DE%3Fmethod%3Ddownload%26read%3Dtrue%26shareKey%3Db402ca42248d060e7bdd5ee145f47cc5#typora-root-url-pictures" target="_blank" rel="noopener noreferrer">typora-root-url: pictures<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li></ul></li><li>一、awk介绍 <ul><li><a href="https://note.youdao.com/md/preview.html?file=%2Fyws%2Fapi%2Fpersonal%2Ffile%2F8B95F12DC08648A49F90FF43C3CB99DE%3Fmethod%3Ddownload%26read%3Dtrue%26shareKey%3Db402ca42248d060e7bdd5ee145f47cc5#1-awk%E6%A6%82%E8%BF%B0" target="_blank" rel="noopener noreferrer">1. awk概述<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li><a href="https://note.youdao.com/md/preview.html?file=%2Fyws%2Fapi%2Fpersonal%2Ffile%2F8B95F12DC08648A49F90FF43C3CB99DE%3Fmethod%3Ddownload%26read%3Dtrue%26shareKey%3Db402ca42248d060e7bdd5ee145f47cc5#2-awk%E8%83%BD%E5%B9%B2%E5%95%A5" target="_blank" rel="noopener noreferrer">2. awk能干啥?<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li>\1. 命令行模式使用 <ul><li><a href="https://note.youdao.com/md/preview.html?file=%2Fyws%2Fapi%2Fpersonal%2Ffile%2F8B95F12DC08648A49F90FF43C3CB99DE%3Fmethod%3Ddownload%26read%3Dtrue%26shareKey%3Db402ca42248d060e7bdd5ee145f47cc5#%E4%B8%80-%E8%AF%AD%E6%B3%95%E7%BB%93%E6%9E%84" target="_blank" rel="noopener noreferrer">㈠ 语法结构<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li></ul></li><li>\2. 脚本模式使用 <ul><li><a href="https://note.youdao.com/md/preview.html?file=%2Fyws%2Fapi%2Fpersonal%2Ffile%2F8B95F12DC08648A49F90FF43C3CB99DE%3Fmethod%3Ddownload%26read%3Dtrue%26shareKey%3Db402ca42248d060e7bdd5ee145f47cc5#%E4%B8%80-%E8%84%9A%E6%9C%AC%E7%BC%96%E5%86%99" target="_blank" rel="noopener noreferrer">㈠ 脚本编写<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li><a href="https://note.youdao.com/md/preview.html?file=%2Fyws%2Fapi%2Fpersonal%2Ffile%2F8B95F12DC08648A49F90FF43C3CB99DE%3Fmethod%3Ddownload%26read%3Dtrue%26shareKey%3Db402ca42248d060e7bdd5ee145f47cc5#%E4%BA%8C-%E8%84%9A%E6%9C%AC%E6%89%A7%E8%A1%8C" target="_blank" rel="noopener noreferrer">㈡ 脚本执行<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li></ul></li><li><a href="https://note.youdao.com/md/preview.html?file=%2Fyws%2Fapi%2Fpersonal%2Ffile%2F8B95F12DC08648A49F90FF43C3CB99DE%3Fmethod%3Ddownload%26read%3Dtrue%26shareKey%3Db402ca42248d060e7bdd5ee145f47cc5#1-%E5%B8%B8%E7%94%A8%E5%86%85%E7%BD%AE%E5%8F%98%E9%87%8F%E4%B8%BE%E4%BE%8B" target="_blank" rel="noopener noreferrer">1、常用内置变量举例<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li><a href="https://note.youdao.com/md/preview.html?file=%2Fyws%2Fapi%2Fpersonal%2Ffile%2F8B95F12DC08648A49F90FF43C3CB99DE%3Fmethod%3Ddownload%26read%3Dtrue%26shareKey%3Db402ca42248d060e7bdd5ee145f47cc5#2-%E5%86%85%E7%BD%AE%E5%8F%98%E9%87%8F%E5%88%86%E9%9A%94%E7%AC%A6%E4%B8%BE%E4%BE%8B" target="_blank" rel="noopener noreferrer">2、内置变量分隔符举例<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li></ul></li><li>五、awk使用进阶 <ul><li><a href="https://note.youdao.com/md/preview.html?file=%2Fyws%2Fapi%2Fpersonal%2Ffile%2F8B95F12DC08648A49F90FF43C3CB99DE%3Fmethod%3Ddownload%26read%3Dtrue%26shareKey%3Db402ca42248d060e7bdd5ee145f47cc5#1-%E6%A0%BC%E5%BC%8F%E5%8C%96%E8%BE%93%E5%87%BAprint%E5%92%8Cprintf" target="_blank" rel="noopener noreferrer">1. 格式化输出<code>print</code>和<code>printf</code><span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li>\2. awk变量定义 <ul><li><ul><li><a href="https://note.youdao.com/md/preview.html?file=%2Fyws%2Fapi%2Fpersonal%2Ffile%2F8B95F12DC08648A49F90FF43C3CB99DE%3Fmethod%3Ddownload%26read%3Dtrue%26shareKey%3Db402ca42248d060e7bdd5ee145f47cc5#%E4%B8%80-%E4%B8%BE%E4%BE%8B%E8%AF%B4%E6%98%8E1" target="_blank" rel="noopener noreferrer">㈠ 举例说明1<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li></ul></li><li><a href="https://note.youdao.com/md/preview.html?file=%2Fyws%2Fapi%2Fpersonal%2Ffile%2F8B95F12DC08648A49F90FF43C3CB99DE%3Fmethod%3Ddownload%26read%3Dtrue%26shareKey%3Db402ca42248d060e7bdd5ee145f47cc5#%E4%BA%8C-%E4%B8%BE%E4%BE%8B%E8%AF%B4%E6%98%8E2" target="_blank" rel="noopener noreferrer">㈡ 举例说明2<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li><a href="https://note.youdao.com/md/preview.html?file=%2Fyws%2Fapi%2Fpersonal%2Ffile%2F8B95F12DC08648A49F90FF43C3CB99DE%3Fmethod%3Ddownload%26read%3Dtrue%26shareKey%3Db402ca42248d060e7bdd5ee145f47cc5#%E4%B8%80-%E4%B8%BE%E4%BE%8B%E8%AF%B4%E6%98%8E" target="_blank" rel="noopener noreferrer">㈠ 举例说明<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li></ul></li><li>\4. 课堂练习 <ul><li>㈠ 流程控制语句 <ul><li><a href="https://note.youdao.com/md/preview.html?file=%2Fyws%2Fapi%2Fpersonal%2Ffile%2F8B95F12DC08648A49F90FF43C3CB99DE%3Fmethod%3Ddownload%26read%3Dtrue%26shareKey%3Db402ca42248d060e7bdd5ee145f47cc5#1-if%E7%BB%93%E6%9E%84" target="_blank" rel="noopener noreferrer">① if结构<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li><a href="https://note.youdao.com/md/preview.html?file=%2Fyws%2Fapi%2Fpersonal%2Ffile%2F8B95F12DC08648A49F90FF43C3CB99DE%3Fmethod%3Ddownload%26read%3Dtrue%26shareKey%3Db402ca42248d060e7bdd5ee145f47cc5#2-ifelse%E7%BB%93%E6%9E%84" target="_blank" rel="noopener noreferrer">② if...else结构<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li><a href="https://note.youdao.com/md/preview.html?file=%2Fyws%2Fapi%2Fpersonal%2Ffile%2F8B95F12DC08648A49F90FF43C3CB99DE%3Fmethod%3Ddownload%26read%3Dtrue%26shareKey%3Db402ca42248d060e7bdd5ee145f47cc5#3-ifelifelse%E7%BB%93%E6%9E%84" target="_blank" rel="noopener noreferrer">③ if...elif...else结构<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li></ul></li><li>㈡ 循环语句 <ul><li><a href="https://note.youdao.com/md/preview.html?file=%2Fyws%2Fapi%2Fpersonal%2Ffile%2F8B95F12DC08648A49F90FF43C3CB99DE%3Fmethod%3Ddownload%26read%3Dtrue%26shareKey%3Db402ca42248d060e7bdd5ee145f47cc5#1-for%E5%BE%AA%E7%8E%AF" target="_blank" rel="noopener noreferrer">① for循环<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li><a href="https://note.youdao.com/md/preview.html?file=%2Fyws%2Fapi%2Fpersonal%2Ffile%2F8B95F12DC08648A49F90FF43C3CB99DE%3Fmethod%3Ddownload%26read%3Dtrue%26shareKey%3Db402ca42248d060e7bdd5ee145f47cc5#2-while%E5%BE%AA%E7%8E%AF" target="_blank" rel="noopener noreferrer">② while循环<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li><a href="https://note.youdao.com/md/preview.html?file=%2Fyws%2Fapi%2Fpersonal%2Ffile%2F8B95F12DC08648A49F90FF43C3CB99DE%3Fmethod%3Ddownload%26read%3Dtrue%26shareKey%3Db402ca42248d060e7bdd5ee145f47cc5#3-%E5%B5%8C%E5%A5%97%E5%BE%AA%E7%8E%AF" target="_blank" rel="noopener noreferrer">③ 嵌套循环<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li></ul></li></ul></li></ul></li><li>六、awk统计案例 <ul><li><a href="https://note.youdao.com/md/preview.html?file=%2Fyws%2Fapi%2Fpersonal%2Ffile%2F8B95F12DC08648A49F90FF43C3CB99DE%3Fmethod%3Ddownload%26read%3Dtrue%26shareKey%3Db402ca42248d060e7bdd5ee145f47cc5#1-%E7%BB%9F%E8%AE%A1%E7%B3%BB%E7%BB%9F%E4%B8%AD%E5%90%84%E7%A7%8D%E7%B1%BB%E5%9E%8B%E7%9A%84shell" target="_blank" rel="noopener noreferrer">1、统计系统中各种类型的shell<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li><a href="https://note.youdao.com/md/preview.html?file=%2Fyws%2Fapi%2Fpersonal%2Ffile%2F8B95F12DC08648A49F90FF43C3CB99DE%3Fmethod%3Ddownload%26read%3Dtrue%26shareKey%3Db402ca42248d060e7bdd5ee145f47cc5#2-%E7%BB%9F%E8%AE%A1%E7%BD%91%E7%AB%99%E8%AE%BF%E9%97%AE%E7%8A%B6%E6%80%81" target="_blank" rel="noopener noreferrer">2、统计网站访问状态<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li><a href="https://note.youdao.com/md/preview.html?file=%2Fyws%2Fapi%2Fpersonal%2Ffile%2F8B95F12DC08648A49F90FF43C3CB99DE%3Fmethod%3Ddownload%26read%3Dtrue%26shareKey%3Db402ca42248d060e7bdd5ee145f47cc5#3-%E7%BB%9F%E8%AE%A1%E8%AE%BF%E9%97%AE%E7%BD%91%E7%AB%99%E7%9A%84%E6%AF%8F%E4%B8%AAip%E7%9A%84%E6%95%B0%E9%87%8F" target="_blank" rel="noopener noreferrer">3、统计访问网站的每个IP的数量<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li>4、统计网站日志中PV量 <ul><li><ul><li><a href="https://note.youdao.com/md/preview.html?file=%2Fyws%2Fapi%2Fpersonal%2Ffile%2F8B95F12DC08648A49F90FF43C3CB99DE%3Fmethod%3Ddownload%26read%3Dtrue%26shareKey%3Db402ca42248d060e7bdd5ee145f47cc5#1-%E4%BB%BB%E5%8A%A1%E8%83%8C%E6%99%AF" target="_blank" rel="noopener noreferrer">1. 任务/背景<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li></ul></li><li><a href="https://note.youdao.com/md/preview.html?file=%2Fyws%2Fapi%2Fpersonal%2Ffile%2F8B95F12DC08648A49F90FF43C3CB99DE%3Fmethod%3Ddownload%26read%3Dtrue%26shareKey%3Db402ca42248d060e7bdd5ee145f47cc5#2-%E5%85%B7%E4%BD%93%E8%A6%81%E6%B1%82" target="_blank" rel="noopener noreferrer">2. 具体要求<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li><a href="https://note.youdao.com/md/preview.html?file=%2Fyws%2Fapi%2Fpersonal%2Ffile%2F8B95F12DC08648A49F90FF43C3CB99DE%3Fmethod%3Ddownload%26read%3Dtrue%26shareKey%3Db402ca42248d060e7bdd5ee145f47cc5#3-%E6%B6%89%E5%8F%8A%E7%9F%A5%E8%AF%86%E7%82%B9" target="_blank" rel="noopener noreferrer">3. 涉及知识点<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li></ul></li></ul></li></ul><p>#课程目标</p><ul><li>熟悉awk的<strong>命令行模式</strong>基本语法结构</li><li>熟悉awk的相关内部变量</li><li>熟悉awk常用的打印函数print</li><li>能够在awk中匹配正则表达式打印相关的行</li></ul><h1 id="一、awk介绍" tabindex="-1"><a class="header-anchor" href="#一、awk介绍" aria-hidden="true">#</a> 一、awk介绍</h1><h2 id="_1-awk概述" tabindex="-1"><a class="header-anchor" href="#_1-awk概述" aria-hidden="true">#</a> 1. awk概述</h2><ul><li><p>awk是一种编程语言，主要用于在linux/unix下对文本和数据进行处理，是linux/unix下的一个工具。数据可以来自标准输入、一个或多个文件，或其它命令的输出。</p></li><li><p>awk的处理文本和数据的方式：<strong>逐行扫描文件</strong>，默认从第一行到最后一行，寻找匹配的特定模式的行，并在这些行上进行你想要的操作。</p></li><li><p>awk分别代表其作者姓氏的第一个字母。因为它的作者是三个人，分别是Alfred Aho、Brian Kernighan、Peter Weinberger。</p></li><li><p>gawk是awk的GNU版本，它提供了Bell实验室和GNU的一些扩展。</p></li><li><p>下面介绍的awk是以GNU的gawk为例的，在linux系统中已把awk链接到gawk，所以下面全部以awk进行介绍。</p></li></ul><h2 id="_2-awk能干啥" tabindex="-1"><a class="header-anchor" href="#_2-awk能干啥" aria-hidden="true">#</a> 2. awk能干啥?</h2><ol><li>awk用来处理文件和数据的，是类unix下的一个工具，也是一种编程语言</li><li>可以用来统计数据，比如网站的访问量，访问的IP量等等</li><li>支持条件判断，支持for和while循环</li></ol><p>#二、awk使用方式</p><h2 id="_1-命令行模式使用" tabindex="-1"><a class="header-anchor" href="#_1-命令行模式使用" aria-hidden="true">#</a> 1. 命令行模式使用</h2><h3 id="一-语法结构" tabindex="-1"><a class="header-anchor" href="#一-语法结构" aria-hidden="true">#</a> ㈠ 语法结构</h3><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>awk 选项 &#39;命令部分&#39; 文件名


特别说明：
引用shell变量需用双引号引起
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>###㈡ 常用选项介绍</p><ul><li>-F 定义字段分割符号，默认的分隔符是空格</li><li>-v 定义变量并赋值</li></ul><p>###㈢ <strong>&#39;*<em>命名部分说明*</em>&#39;</strong></p><ul><li>正则表达式，地址定位</li></ul><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>&#39;/root/{awk语句}&#39;				sed中： &#39;/root/p&#39;
&#39;NR==1,NR==5{awk语句}&#39;			sed中： &#39;1,5p&#39;
&#39;/^root/,/^ftp/{awk语句}&#39;  	sed中：&#39;/^root/,/^ftp/p&#39;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>{awk语句1**;<strong>awk语句2</strong>;**...}</li></ul><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>&#39;{print $0;print $1}&#39;		sed中：&#39;p&#39;
&#39;NR==5{print $0}&#39;				sed中：&#39;5p&#39;
注：awk命令语句间用分号间隔
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>BEGIN...END....</li></ul><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>&#39;BEGIN{awk语句};{处理中};END{awk语句}&#39;
&#39;BEGIN{awk语句};{处理中}&#39;
&#39;{处理中};END{awk语句}&#39;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_2-脚本模式使用" tabindex="-1"><a class="header-anchor" href="#_2-脚本模式使用" aria-hidden="true">#</a> 2. 脚本模式使用</h2><h3 id="一-脚本编写" tabindex="-1"><a class="header-anchor" href="#一-脚本编写" aria-hidden="true">#</a> ㈠ 脚本编写</h3><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>#!/bin/awk -f 		定义魔法字符
以下是awk引号里的命令清单，不要用引号保护命令，多个命令用分号间隔
BEGIN{FS=&quot;:&quot;}
NR==1,NR==3{print $1&quot;\t&quot;$NF}
...
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="二-脚本执行" tabindex="-1"><a class="header-anchor" href="#二-脚本执行" aria-hidden="true">#</a> ㈡ 脚本执行</h3><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>方法1：
awk 选项 -f awk的脚本文件  要处理的文本文件
awk -f awk.sh filename

sed -f sed.sh -i filename

方法2：
./awk的脚本文件(或者绝对路径)	要处理的文本文件
./awk.sh filename

./sed.sh filename
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>#三、 awk内部相关变量</p><table><thead><tr><th>变量</th><th>变量说明</th><th>备注</th></tr></thead><tbody><tr><td>$0</td><td>当前处理行的所有记录</td><td></td></tr><tr><td>$1,$2,$3...$n</td><td>文件中每行以间隔符号分割的不同字段</td><td>awk -F: &#39;{print $1,$3}&#39;</td></tr><tr><td>NF</td><td>当前记录的字段数（列数）</td><td>awk -F: &#39;{print NF}&#39;</td></tr><tr><td>$NF</td><td>最后一列</td><td>$(NF-1)表示倒数第二列</td></tr><tr><td>FNR/NR</td><td>行号</td><td></td></tr><tr><td>FS</td><td>定义间隔符</td><td>&#39;BEGIN{FS=&quot;:&quot;};{print $1,$3}&#39;</td></tr><tr><td>OFS</td><td>定义输出字段分隔符，默认空格</td><td>&#39;BEGIN{OFS=&quot;\t&quot;};print $1,$3}&#39;</td></tr><tr><td>RS</td><td>输入记录分割符，默认换行</td><td>&#39;BEGIN{RS=&quot;\t&quot;};{print $0}&#39;</td></tr><tr><td>ORS</td><td>输出记录分割符，默认换行</td><td>&#39;BEGIN{ORS=&quot;\n\n&quot;};{print $1,$3}&#39;</td></tr><tr><td>FILENAME</td><td>当前输入的文件名</td><td></td></tr></tbody></table><h2 id="_1、常用内置变量举例" tabindex="-1"><a class="header-anchor" href="#_1、常用内置变量举例" aria-hidden="true">#</a> 1、常用内置变量举例</h2><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code># awk -F: &#39;{print $1,$(NF-1)}&#39; 1.txt
# awk -F: &#39;{print $1,$(NF-1),$NF,NF}&#39; 1.txt
# awk &#39;/root/{print $0}&#39; 1.txt
# awk &#39;/root/&#39; 1.txt
# awk -F: &#39;/root/{print $1,$NF}&#39; 1.txt 
root /bin/bash
# awk -F: &#39;/root/{print $0}&#39; 1.txt      
root:x:0:0:root:/root:/bin/bash
# awk &#39;NR==1,NR==5&#39; 1.txt 
# awk &#39;NR==1,NR==5{print $0}&#39; 1.txt
# awk &#39;NR==1,NR==5;/^root/{print $0}&#39; 1.txt 
root:x:0:0:root:/root:/bin/bash
root:x:0:0:root:/root:/bin/bash
bin:x:1:1:bin:/bin:/sbin/nologin
daemon:x:2:2:daemon:/sbin:/sbin/nologin
adm:x:3:4:adm:/var/adm:/sbin/nologin
lp:x:4:7:lp:/var/spool/lpd:/sbin/nologin
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_2、内置变量分隔符举例" tabindex="-1"><a class="header-anchor" href="#_2、内置变量分隔符举例" aria-hidden="true">#</a> 2、内置变量分隔符举例</h2><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>FS和OFS:
# awk &#39;BEGIN{FS=&quot;:&quot;};/^root/,/^lp/{print $1,$NF}&#39; 1.txt
# awk -F: &#39;BEGIN{OFS=&quot;\t\t&quot;};/^root/,/^lp/{print $1,$NF}&#39; 1.txt        
root            /bin/bash
bin             /sbin/nologin
daemon          /sbin/nologin
adm             /sbin/nologin
lp              /sbin/nologin
# awk -F: &#39;BEGIN{OFS=&quot;@@@&quot;};/^root/,/^lp/{print $1,$NF}&#39; 1.txt     
root@@@/bin/bash
bin@@@/sbin/nologin
daemon@@@/sbin/nologin
adm@@@/sbin/nologin
lp@@@/sbin/nologin
[root@server shell07]# 

RS和ORS：
修改源文件前2行增加制表符和内容：
vim 1.txt
root:x:0:0:root:/root:/bin/bash hello   world
bin:x:1:1:bin:/bin:/sbin/nologin        test1   test2

# awk &#39;BEGIN{RS=&quot;\t&quot;};{print $0}&#39; 1.txt
# awk &#39;BEGIN{ORS=&quot;\t&quot;};{print $0}&#39; 1.txt
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>#四、 awk工作原理</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>awk -F: &#39;{print $1,$3}&#39; /etc/passwd
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ol><li><p>awk使用一行作为输入，并将这一行赋给内部变量$0，每一行也可称为一个记录，以换行符(RS)结束</p></li><li><p>每行被间隔符**😗*(默认为空格或制表符)分解成字段(或域)，每个字段存储在已编号的变量中，从$1开始</p><p>问：awk如何知道用空格来分隔字段的呢？</p><p>答：因为有一个内部变量FS来确定字段分隔符。初始时，FS赋为空格</p></li><li><p>awk使用print函数打印字段，打印出来的字段会以空格分隔，因为$1,$3之间有一个逗号。逗号比较特殊，它映射为另一个内部变量，称为输出字段分隔符OFS，OFS默认为空格</p></li><li><p>awk处理完一行后，将从文件中获取另一行，并将其存储在$0中，覆盖原来的内容，然后将新的字符串分隔成字段并进行处理。该过程将持续到所有行处理完毕</p></li></ol><h1 id="五、awk使用进阶" tabindex="-1"><a class="header-anchor" href="#五、awk使用进阶" aria-hidden="true">#</a> 五、awk使用进阶</h1><h2 id="_1-格式化输出print和printf" tabindex="-1"><a class="header-anchor" href="#_1-格式化输出print和printf" aria-hidden="true">#</a> 1. 格式化输出<code>print</code>和<code>printf</code></h2><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>print函数		类似echo &quot;hello world&quot;
# date |awk &#39;{print &quot;Month: &quot;$2 &quot;\nYear: &quot;$NF}&#39;
# awk -F: &#39;{print &quot;username is: &quot; $1 &quot;\t uid is: &quot;$3}&#39; /etc/passwd


printf函数		类似echo -n
# awk -F: &#39;{printf &quot;%-15s %-10s %-15s\n&quot;, $1,$2,$3}&#39;  /etc/passwd
# awk -F: &#39;{printf &quot;|%15s| %10s| %15s|\n&quot;, $1,$2,$3}&#39; /etc/passwd
# awk -F: &#39;{printf &quot;|%-15s| %-10s| %-15s|\n&quot;, $1,$2,$3}&#39; /etc/passwd

awk &#39;BEGIN{FS=&quot;:&quot;};{printf &quot;%-15s %-15s %-15s\n&quot;,$1,$6,$NF}&#39; a.txt

%s 字符类型  strings			%-20s
%d 数值类型	
占15字符
- 表示左对齐，默认是右对齐
printf默认不会在行尾自动换行，加\n
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_2-awk变量定义" tabindex="-1"><a class="header-anchor" href="#_2-awk变量定义" aria-hidden="true">#</a> 2. awk变量定义</h2><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code># awk -v NUM=3 -F: &#39;{ print $NUM }&#39; /etc/passwd
# awk -v NUM=3 -F: &#39;{ print NUM }&#39; /etc/passwd
# awk -v num=1 &#39;BEGIN{print num}&#39; 
1
# awk -v num=1 &#39;BEGIN{print $num}&#39; 
注意：
awk中调用定义的变量不需要加$
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>##3. awk中BEGIN...END使用</p><p>​ ①BEGIN：表示在程序开始前执行</p><p>​ ②END ：表示所有文件处理完后执行</p><p>​ ③用法：<code>&#39;BEGIN{开始处理之前};{处理中};END{处理结束后}&#39;</code></p><h4 id="一-举例说明1" tabindex="-1"><a class="header-anchor" href="#一-举例说明1" aria-hidden="true">#</a> ㈠ 举例说明1</h4><p><strong>打印最后一列和倒数第二列（登录shell和家目录）</strong></p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>awk -F: &#39;BEGIN{ print &quot;Login_shell\t\tLogin_home\n*******************&quot;};{print $NF&quot;\t\t&quot;$(NF-1)};END{print &quot;************************&quot;}&#39; 1.txt

awk &#39;BEGIN{ FS=&quot;:&quot;;print &quot;Login_shell\tLogin_home\n*******************&quot;};{print $NF&quot;\t&quot;$(NF-1)};END{print &quot;************************&quot;}&#39; 1.txt

Login_shell		Login_home
************************
/bin/bash		/root
/sbin/nologin		/bin
/sbin/nologin		/sbin
/sbin/nologin		/var/adm
/sbin/nologin		/var/spool/lpd
/bin/bash		/home/redhat
/bin/bash		/home/user01
/sbin/nologin		/var/named
/bin/bash		/home/u01
/bin/bash		/home/YUNWEI
************************************
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="二-举例说明2" tabindex="-1"><a class="header-anchor" href="#二-举例说明2" aria-hidden="true">#</a> ㈡ 举例说明2</h4><p><strong>打印/etc/passwd里的用户名、家目录及登录shell</strong></p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>u_name      h_dir       shell
***************************

***************************

awk -F: &#39;BEGIN{OFS=&quot;\t\t&quot;;print&quot;u_name\t\th_dir\t\tshell\n***************************&quot;};{printf &quot;%-20s %-20s %-20s\n&quot;,$1,$(NF-1),$NF};END{print &quot;****************************&quot;}&#39;


# awk -F: &#39;BEGIN{print &quot;u_name\t\th_dir\t\tshell&quot; RS &quot;*****************&quot;}  {printf &quot;%-15s %-20s %-20s\n&quot;,$1,$(NF-1),$NF}END{print &quot;***************************&quot;}&#39;  /etc/passwd

格式化输出：
echo		print
echo -n	printf

{printf &quot;%-15s %-20s %-20s\n&quot;,$1,$(NF-1),$NF}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>###4. awk和正则的综合运用</p><table><thead><tr><th>运算符</th><th>说明</th></tr></thead><tbody><tr><td>==</td><td>等于</td></tr><tr><td>!=</td><td>不等于</td></tr><tr><td>&gt;</td><td>大于</td></tr><tr><td>&lt;</td><td>小于</td></tr><tr><td>&gt;=</td><td>大于等于</td></tr><tr><td>&lt;=</td><td>小于等于</td></tr><tr><td>~</td><td>匹配</td></tr><tr><td>!~</td><td>不匹配</td></tr><tr><td>!</td><td>逻辑非</td></tr><tr><td>&amp;&amp;</td><td>逻辑与</td></tr><tr><td>||</td><td>逻辑或</td></tr></tbody></table><h3 id="一-举例说明" tabindex="-1"><a class="header-anchor" href="#一-举例说明" aria-hidden="true">#</a> ㈠ 举例说明</h3><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>从第一行开始匹配到以lp开头行
awk -F: &#39;NR==1,/^lp/{print $0 }&#39; passwd  
从第一行到第5行          
awk -F: &#39;NR==1,NR==5{print $0 }&#39; passwd
从以lp开头的行匹配到第10行       
awk -F: &#39;/^lp/,NR==10{print $0 }&#39; passwd 
从以root开头的行匹配到以lp开头的行       
awk -F: &#39;/^root/,/^lp/{print $0}&#39; passwd
打印以root开头或者以lp开头的行            
awk -F: &#39;/^root/ || /^lp/{print $0}&#39; passwd
awk -F: &#39;/^root/;/^lp/{print $0}&#39; passwd
显示5-10行   
awk -F&#39;:&#39; &#39;NR&gt;=5 &amp;&amp; NR&lt;=10 {print $0}&#39; /etc/passwd     
awk -F: &#39;NR&lt;10 &amp;&amp; NR&gt;5 {print $0}&#39; passwd 

打印30-39行以bash结尾的内容：
[root@MissHou shell06]# awk &#39;NR&gt;=30 &amp;&amp; NR&lt;=39 &amp;&amp; $0 ~ /bash$/{print $0}&#39; passwd 
stu1:x:500:500::/home/stu1:/bin/bash
yunwei:x:501:501::/home/yunwei:/bin/bash
user01:x:502:502::/home/user01:/bin/bash
user02:x:503:503::/home/user02:/bin/bash
user03:x:504:504::/home/user03:/bin/bash

[root@MissHou shell06]# awk &#39;NR&gt;=3 &amp;&amp; NR&lt;=8 &amp;&amp; /bash$/&#39; 1.txt  
stu7:x:1007:1007::/rhome/stu7:/bin/bash
stu8:x:1008:1008::/rhome/stu8:/bin/bash
stu9:x:1009:1009::/rhome/stu9:/bin/bash

打印文件中1-5并且以root开头的行
[root@MissHou shell06]# awk &#39;NR&gt;=1 &amp;&amp; NR&lt;=5 &amp;&amp; $0 ~ /^root/{print $0}&#39; 1.txt
root:x:0:0:root:/root:/bin/bash
[root@MissHou shell06]# awk &#39;NR&gt;=1 &amp;&amp; NR&lt;=5 &amp;&amp; $0 !~ /^root/{print $0}&#39; 1.txt
bin:x:1:1:bin:/bin:/sbin/nologin
daemon:x:2:2:daemon:/sbin:/sbin/nologin
adm:x:3:4:adm:/var/adm:/sbin/nologin
lp:x:4:7:lp:/var/spool/lpd:/sbin/nologin


理解;号和||的含义：
[root@MissHou shell06]# awk &#39;NR&gt;=3 &amp;&amp; NR&lt;=8 || /bash$/&#39; 1.txt
[root@MissHou shell06]# awk &#39;NR&gt;=3 &amp;&amp; NR&lt;=8;/bash$/&#39; 1.txt


打印IP地址
# ifconfig eth0|awk &#39;NR&gt;1 {print $2}&#39;|awk -F&#39;:&#39; &#39;NR&lt;2 {print $2}&#39;    
# ifconfig eth0|grep Bcast|awk -F&#39;:&#39; &#39;{print $2}&#39;|awk &#39;{print $1}&#39;
# ifconfig eth0|grep Bcast|awk &#39;{print $2}&#39;|awk -F: &#39;{print $2}&#39;


# ifconfig eth0|awk NR==2|awk -F &#39;[ :]+&#39; &#39;{print $4RS$6RS$8}&#39;
# ifconfig eth0|awk -F&quot;[ :]+&quot; &#39;/inet addr:/{print $4}&#39;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_4-课堂练习" tabindex="-1"><a class="header-anchor" href="#_4-课堂练习" aria-hidden="true">#</a> 4. 课堂练习</h2><ol><li>显示可以登录操作系统的用户所有信息 从第7列匹配以bash结尾，输出整行（当前行所有的列）</li></ol><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>[root@MissHou ~] awk &#39;/bash$/{print $0}&#39;    /etc/passwd
[root@MissHou ~] awk &#39;/bash$/{print $0}&#39; /etc/passwd
[root@MissHou ~] awk &#39;/bash$/&#39; /etc/passwd
[root@MissHou ~] awk -F: &#39;$7 ~ /bash/&#39; /etc/passwd
[root@MissHou ~] awk -F: &#39;$NF ~ /bash/&#39; /etc/passwd
[root@MissHou ~] awk -F: &#39;$0 ~ /bash/&#39; /etc/passwd
[root@MissHou ~] awk -F: &#39;$0 ~ /\/bin\/bash/&#39; /etc/passwd
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol><li>显示可以登录系统的用户名</li></ol><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code># awk -F: &#39;$0 ~ /\/bin\/bash/{print $1}&#39; /etc/passwd
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ol><li>打印出系统中普通用户的UID和用户名</li></ol><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>500	stu1
501	yunwei
502	user01
503	user02
504	user03


# awk -F: &#39;BEGIN{print &quot;UID\tUSERNAME&quot;} {if($3&gt;=500 &amp;&amp; $3 !=65534 ) {print $3&quot;\t&quot;$1} }&#39; /etc/passwdUID	USERNAME


# awk -F: &#39;{if($3 &gt;= 500 &amp;&amp; $3 != 65534) print $1,$3}&#39; a.txt 
redhat 508
user01 509
u01 510
YUNWEI 511
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>##5. awk的脚本编程</p><h3 id="一-流程控制语句" tabindex="-1"><a class="header-anchor" href="#一-流程控制语句" aria-hidden="true">#</a> ㈠ 流程控制语句</h3><h4 id="_1-if结构" tabindex="-1"><a class="header-anchor" href="#_1-if结构" aria-hidden="true">#</a> ① if结构</h4><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>if语句：

if [ xxx ];then
xxx
fi

格式：
awk 选项 &#39;正则，地址定位{awk语句}&#39;  文件名

{ if(表达式)｛语句1;语句2;...｝}

awk -F: &#39;{if($3&gt;=500 &amp;&amp; $3&lt;=60000) {print $1,$3} }&#39; passwd

# awk -F: &#39;{if($3==0) {print $1&quot;是管理员&quot;} }&#39; passwd 
root是管理员

# awk &#39;BEGIN{if(&#39;$(id -u)&#39;==0) {print &quot;admin&quot;} }&#39;
admin
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_2-if-else结构" tabindex="-1"><a class="header-anchor" href="#_2-if-else结构" aria-hidden="true">#</a> ② if...else结构</h4><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>if...else语句:
if [ xxx ];then
	xxxxx
	
else
	xxx
fi

格式：
{if(表达式)｛语句;语句;...｝else｛语句;语句;...}}

awk -F: &#39;{ if($3&gt;=500 &amp;&amp; $3 != 65534) {print $1&quot;是普通用户&quot;} else {print $1,&quot;不是普通用户&quot;}}&#39; passwd 

awk &#39;BEGIN{if( &#39;$(id -u)&#39;&gt;=500 &amp;&amp; &#39;$(id -u)&#39; !=65534 ) {print &quot;是普通用户&quot;} else {print &quot;不是普通用户&quot;}}&#39;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_3-if-elif-else结构" tabindex="-1"><a class="header-anchor" href="#_3-if-elif-else结构" aria-hidden="true">#</a> ③ if...elif...else结构</h4><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>if [xxxx];then
	xxxx
elif [xxx];then
	xxx
....
else
...
fi


if...else if...else语句：

格式：
{ if(表达式1)｛语句;语句；...｝else if(表达式2)｛语句;语句；...｝else if(表达式3)｛语句;语句；...｝else｛语句;语句；...｝}

awk -F: &#39;{ if($3==0) {print $1,&quot;:是管理员&quot;} else if($3&gt;=1 &amp;&amp; $3&lt;=499 || $3==65534 ) {print $1,&quot;:是系统用户&quot;} else {print $1,&quot;:是普通用户&quot;}}&#39;


awk -F: &#39;{ if($3==0) {i++} else if($3&gt;=1 &amp;&amp; $3&lt;=499 || $3==65534 ) {j++} else {k++}};END{print &quot;管理员个数为:&quot;i &quot;\n系统用户个数为:&quot;j&quot;\n普通用户的个数为:&quot;k }&#39;


# awk -F: &#39;{if($3==0) {print $1,&quot;is admin&quot;} else if($3&gt;=1 &amp;&amp; $3&lt;=499 || $3==65534) {print $1,&quot;is sys users&quot;} else {print $1,&quot;is general user&quot;} }&#39; a.txt 

root is admin
bin is sys users
daemon is sys users
adm is sys users
lp is sys users
redhat is general user
user01 is general user
named is sys users
u01 is general user
YUNWEI is general user

awk -F: &#39;{  if($3==0) {print $1&quot;:管理员&quot;} else if($3&gt;=1 &amp;&amp; $3&lt;500 || $3==65534 ) {print $1&quot;:是系统用户&quot;} else {print $1&quot;:是普通用户&quot;}}&#39;   /etc/passwd


awk -F: &#39;{if($3==0) {i++} else if($3&gt;=1 &amp;&amp; $3&lt;500 || $3==65534){j++} else {k++}};END{print &quot;管理员个数为:&quot; i RS &quot;系统用户个数为:&quot;j RS &quot;普通用户的个数为:&quot;k }&#39; /etc/passwd
管理员个数为:1
系统用户个数为:28
普通用户的个数为:27


# awk -F: &#39;{ if($3==0) {print $1&quot;:是管理员&quot;} else if($3&gt;=500 &amp;&amp; $3!=65534) {print $1&quot;:是普通用户&quot;} else {print $1&quot;:是系统用户&quot;}}&#39; passwd 

awk -F: &#39;{if($3==0){i++} else if($3&gt;=500){k++} else{j++}} END{print i; print k; print j}&#39; /etc/passwd

awk -F: &#39;{if($3==0){i++} else if($3&gt;999){k++} else{j++}} END{print &quot;管理员个数: &quot;i; print &quot;普通用个数: &quot;k; print &quot;系统用户: &quot;j}&#39; /etc/passwd 

如果是普通用户打印默认shell，如果是系统用户打印用户名
# awk -F: &#39;{if($3&gt;=1 &amp;&amp; $3&lt;500 || $3 == 65534) {print $1} else if($3&gt;=500 &amp;&amp; $3&lt;=60000 ) {print $NF} }&#39; /etc/passwd
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="二-循环语句" tabindex="-1"><a class="header-anchor" href="#二-循环语句" aria-hidden="true">#</a> ㈡ 循环语句</h3><h4 id="_1-for循环" tabindex="-1"><a class="header-anchor" href="#_1-for循环" aria-hidden="true">#</a> ① for循环</h4><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>打印1~5
for ((i=1;i&lt;=5;i++));do echo $i;done

# awk &#39;BEGIN { for(i=1;i&lt;=5;i++) {print i} }&#39;
打印1~10中的奇数
# for ((i=1;i&lt;=10;i+=2));do echo $i;done|awk &#39;{sum+=$0};END{print sum}&#39;
# awk &#39;BEGIN{ for(i=1;i&lt;=10;i+=2) {print i} }&#39;
# awk &#39;BEGIN{ for(i=1;i&lt;=10;i+=2) print i }&#39;

计算1-5的和
# awk &#39;BEGIN{sum=0;for(i=1;i&lt;=5;i++) sum+=i;print sum}&#39;
# awk &#39;BEGIN{for(i=1;i&lt;=5;i++) (sum+=i);{print sum}}&#39;
# awk &#39;BEGIN{for(i=1;i&lt;=5;i++) (sum+=i);print sum}&#39;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_2-while循环" tabindex="-1"><a class="header-anchor" href="#_2-while循环" aria-hidden="true">#</a> ② while循环</h4><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>打印1-5
# i=1;while (($i&lt;=5));do echo $i;let i++;done

# awk &#39;BEGIN { i=1;while(i&lt;=5) {print i;i++} }&#39;
打印1~10中的奇数
# awk &#39;BEGIN{i=1;while(i&lt;=10) {print i;i+=2} }&#39;
计算1-5的和
# awk &#39;BEGIN{i=1;sum=0;while(i&lt;=5) {sum+=i;i++}; print sum }&#39;
# awk &#39;BEGIN {i=1;while(i&lt;=5) {(sum+=i) i++};print sum }&#39;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_3-嵌套循环" tabindex="-1"><a class="header-anchor" href="#_3-嵌套循环" aria-hidden="true">#</a> ③ 嵌套循环</h4><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>嵌套循环：
#!/bin/bash
for ((y=1;y&lt;=5;y++))
do
	for ((x=1;x&lt;=$y;x++))
	do
		echo -n $x	
	done
echo
done

awk &#39;BEGIN{ for(y=1;y&lt;=5;y++) {for(x=1;x&lt;=y;x++) {printf x} ;print } }&#39;


# awk &#39;BEGIN { for(y=1;y&lt;=5;y++) { for(x=1;x&lt;=y;x++) {printf x};print} }&#39;
1
12
123
1234
12345

# awk &#39;BEGIN{ y=1;while(y&lt;=5) { for(x=1;x&lt;=y;x++) {printf x};y++;print}}&#39;
1
12
123
1234
12345

尝试用三种方法打印99口诀表：
#awk &#39;BEGIN{for(y=1;y&lt;=9;y++) { for(x=1;x&lt;=y;x++) {printf x&quot;*&quot;y&quot;=&quot;x*y&quot;\t&quot;};print} }&#39;

#awk &#39;BEGIN{for(y=1;y&lt;=9;y++) { for(x=1;x&lt;=y;x++) printf x&quot;*&quot;y&quot;=&quot;x*y&quot;\t&quot;;print} }&#39;
#awk &#39;BEGIN{i=1;while(i&lt;=9){for(j=1;j&lt;=i;j++) {printf j&quot;*&quot;i&quot;=&quot;j*i&quot;\t&quot;};print;i++ }}&#39;

#awk &#39;BEGIN{for(i=1;i&lt;=9;i++){j=1;while(j&lt;=i) {printf j&quot;*&quot;i&quot;=&quot;i*j&quot;\t&quot;;j++};print}}&#39;

循环的控制：
break		条件满足的时候中断循环
continue	条件满足的时候跳过循环
# awk &#39;BEGIN{for(i=1;i&lt;=5;i++) {if(i==3) break;print i} }&#39;
1
2
# awk &#39;BEGIN{for(i=1;i&lt;=5;i++){if(i==3) continue;print i}}&#39;
1
2
4
5
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>##6. awk算数运算</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>+ - * / %(模) ^(幂2^3)
可以在模式中执行计算，awk都将按浮点数方式执行算术运算
# awk &#39;BEGIN{print 1+1}&#39;
# awk &#39;BEGIN{print 1**1}&#39;
# awk &#39;BEGIN{print 2**3}&#39;
# awk &#39;BEGIN{print 2/3}&#39;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="六、awk统计案例" tabindex="-1"><a class="header-anchor" href="#六、awk统计案例" aria-hidden="true">#</a> 六、awk统计案例</h1><h2 id="_1、统计系统中各种类型的shell" tabindex="-1"><a class="header-anchor" href="#_1、统计系统中各种类型的shell" aria-hidden="true">#</a> 1、统计系统中各种类型的shell</h2><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code># awk -F: &#39;{ shells[$NF]++ };END{for (i in shells) {print i,shells[i]} }&#39; /etc/passwd

books[linux]++
books[linux]=1
shells[/bin/bash]++
shells[/sbin/nologin]++

/bin/bash 5
/sbin/nologin 6

shells[/bin/bash]++			a
shells[/sbin/nologin]++		b
shells[/sbin/shutdown]++	c

books[linux]++
books[php]++
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_2、统计网站访问状态" tabindex="-1"><a class="header-anchor" href="#_2、统计网站访问状态" aria-hidden="true">#</a> 2、统计网站访问状态</h2><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code># ss -antp|grep 80|awk &#39;{states[$1]++};END{for(i in states){print i,states[i]}}&#39;
TIME_WAIT 578
ESTABLISHED 1
LISTEN 1

# ss -an |grep :80 |awk &#39;{states[$2]++};END{for(i in states){print i,states[i]}}&#39;
LISTEN 1
ESTAB 5
TIME-WAIT 25

# ss -an |grep :80 |awk &#39;{states[$2]++};END{for(i in states){print i,states[i]}}&#39; |sort -k2 -rn
TIME-WAIT 18
ESTAB 8
LISTEN 1
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_3、统计访问网站的每个ip的数量" tabindex="-1"><a class="header-anchor" href="#_3、统计访问网站的每个ip的数量" aria-hidden="true">#</a> 3、统计访问网站的每个IP的数量</h2><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code># netstat -ant |grep :80 |awk -F: &#39;{ip_count[$8]++};END{for(i in ip_count){print i,ip_count[i]} }&#39; |sort


# ss -an |grep :80 |awk -F&quot;:&quot; &#39;!/LISTEN/{ip_count[$(NF-1)]++};END{for(i in ip_count){print i,ip_count[i]}}&#39; |sort -k2 -rn |head
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_4、统计网站日志中pv量" tabindex="-1"><a class="header-anchor" href="#_4、统计网站日志中pv量" aria-hidden="true">#</a> 4、统计网站日志中PV量</h2><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>统计Apache/Nginx日志中某一天的PV量 　&lt;统计日志&gt;
# grep &#39;27/Jul/2017&#39; mysqladmin.cc-access_log |wc -l
14519

统计Apache/Nginx日志中某一天不同IP的访问量　&lt;统计日志&gt;
# grep &#39;27/Jul/2017&#39; mysqladmin.cc-access_log |awk &#39;{ips[$1]++};END{for(i in ips){print i,ips[i]} }&#39; |sort -k2 -rn |head

# grep &#39;07/Aug/2017&#39; access.log |awk &#39;{ips[$1]++};END{for(i in ips){print i,ips[i]} }&#39; |awk &#39;$2&gt;100&#39; |sort -k2 -rn
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>名词解释：</strong></p><p>网站浏览量（PV） 名词：PV=PageView (网站浏览量) 说明：指页面的浏览次数，用以衡量网站用户访问的网页数量。多次打开同一页面则浏览量累计。用户每打开一个页面便记录1次PV。</p><p>名词：VV = Visit View（访问次数） 说明：从访客来到您网站到最终关闭网站的所有页面离开，计为1次访问。若访客连续30分钟没有新开和刷新页面，或者访客关闭了浏览器，则被计算为本次访问结束。</p><p>独立访客（UV） 名词：UV= Unique Visitor（独立访客数） 说明：1天内相同的访客多次访问您的网站只计算1个UV。</p><p>独立IP（IP） 名词：IP=独立IP数 说明：指1天内使用不同IP地址的用户访问网站的数量。同一IP无论访问了几个页面，独立IP数均为1</p><p>#七、课后作业</p><p><strong>作业1：</strong> 1、写一个自动检测磁盘使用率的脚本，当磁盘使用空间达到90%以上时，需要发送邮件给相关人员 2、写一个脚本监控系统内存和交换分区使用情况</p><p><strong>作业2：</strong> 输入一个IP地址，使用脚本判断其合法性： 必须符合ip地址规范，第1、4位不能以0开头，不能大于255不能小于0</p><p>#八、企业实战案例</p><h4 id="_1-任务-背景" tabindex="-1"><a class="header-anchor" href="#_1-任务-背景" aria-hidden="true">#</a> 1. 任务/背景</h4><p>web服务器集群中总共有9台机器，上面部署的是Apache服务。由于业务不断增长，每天每台机器上都会产生大量的访问日志，现需要将每台web服务器上的apache访问日志<strong>保留最近3天</strong>的，3天以前的日志<strong>转储</strong>到一台专门的日志服务器上，已做后续分析。如何实现每台服务器上只保留3天以内的日志？</p><h4 id="_2-具体要求-2" tabindex="-1"><a class="header-anchor" href="#_2-具体要求-2" aria-hidden="true">#</a> 2. 具体要求</h4><ol><li>每台web服务器的日志对应日志服务器相应的目录里。如：web1——&gt;web1.log（在日志服务器上）</li><li>每台web服务器上保留最近3天的访问日志，3天以前的日志每天凌晨5:03分转储到日志服务器</li><li>如果脚本转储失败，运维人员需要通过跳板机的菜单选择手动清理日志</li></ol><h4 id="_3-涉及知识点" tabindex="-1"><a class="header-anchor" href="#_3-涉及知识点" aria-hidden="true">#</a> 3. 涉及知识点</h4><ol><li>shell的基本语法结构</li><li>文件同步rsync</li><li>文件查找命令find</li><li>计划任务crontab</li><li>apache日志切割</li><li>其他</li></ol></div><!--[--><!----><!--]--><footer class="page-meta"><div class="meta-item edit-link"><a href="https://github.com/Small-BlueFish-hjy/bluefish-notes.github.io.git/edit/master/src/codenotes/linux/shell/Shell基础知识.md" rel="noopener noreferrer" target="_blank" aria-label="在【Github】上编辑此页" class="nav-link label"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon edit-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="edit icon"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></svg><!--]-->在【Github】上编辑此页<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></div><div class="meta-item git-info"><!----><!----></div></footer><!----><!----><!--[--><!----><!--]--><!--]--></main><!--]--><!----></div><!--]--><!--]--><!----><!--]--></div>
    <script type="module" src="/bluefish-notes.github.io/assets/app-fW9tN5By.js" defer></script>
  </body>
</html>
